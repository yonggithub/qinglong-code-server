(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"0fbx":function(e,t,n){},1:function(e,t){},"15/o":function(e,t,n){},"1vzs":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("cDcd"),o=n("sqw5"),i=n("Z9ki"),a=n("T7W1"),l=n("064x"),c=n("uCfD"),s=n("h5AB");function u(e){var t=e.suffixIcon,n=e.clearIcon,u=e.menuItemSelectedIcon,d=e.removeIcon,f=e.loading,p=e.multiple,h=e.prefixCls,v=n;n||(v=r["createElement"](c["a"],null));var g=null;if(void 0!==t)g=t;else if(f)g=r["createElement"](i["a"],{spin:!0});else{var m="".concat(h,"-suffix");g=function(e){var t=e.open,n=e.showSearch;return t&&n?r["createElement"](s["a"],{className:m}):r["createElement"](o["a"],{className:m})}}var y=null;y=void 0!==u?u:p?r["createElement"](a["a"],null):null;var b=null;return b=void 0!==d?d:r["createElement"](l["a"],null),{clearIcon:v,suffixIcon:g,itemIcon:y,removeIcon:b}}},"2jpz":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("U8pU"),o=n("cDcd"),i=n("TSYQ"),a=n.n(i),l=n("Z9ki"),c=n("L//y"),s=n("VTBJ"),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},d=u,f=n("/1Lp"),p=function(e,t){return o["createElement"](f["a"],Object(s["a"])(Object(s["a"])({},e),{},{ref:t,icon:d}))};p.displayName="MinusSquareOutlined";var h=o["forwardRef"](p),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},g=v,m=function(e,t){return o["createElement"](f["a"],Object(s["a"])(Object(s["a"])({},e),{},{ref:t,icon:g}))};m.displayName="PlusSquareOutlined";var y=o["forwardRef"](m),b={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},w=b,O=function(e,t){return o["createElement"](f["a"],Object(s["a"])(Object(s["a"])({},e),{},{ref:t,icon:w}))};O.displayName="CaretDownFilled";var x=o["forwardRef"](O),C=n("0n0R");function k(e,t,n,i){var s,u=i.isLeaf,d=i.expanded,f=i.loading;if(f)return o["createElement"](l["a"],{className:"".concat(e,"-switcher-loading-icon")});if(n&&"object"===Object(r["a"])(n)&&(s=n.showLeafIcon),u)return n?"object"!==Object(r["a"])(n)||s?o["createElement"](c["a"],{className:"".concat(e,"-switcher-line-icon")}):o["createElement"]("span",{className:"".concat(e,"-switcher-leaf-line")}):null;var p="".concat(e,"-switcher-icon");return Object(C["b"])(t)?Object(C["a"])(t,{className:a()(t.props.className||"",p)}):t||(n?d?o["createElement"](h,{className:"".concat(e,"-switcher-line-icon")}):o["createElement"](y,{className:"".concat(e,"-switcher-line-icon")}):o["createElement"](x,{className:p}))}},"5COQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("9og8"),o=n("k1fw"),i=(n("miYZ"),n("tsqr")),a=n("WmNS"),l=n.n(a),c=n("ZqBY"),s=n("SC9r"),u=n("9kvl");i["b"].config({duration:1.5});var d=Date.now(),f=function(e){if(e.response){var t=e.data?e.data.message||e.data:e.response.statusText,n=e.response.status;502===n?i["b"].error("\u670d\u52a1\u5f02\u5e38\uff0c\u8bf7\u624b\u52a8\u6267\u884cql check\u68c0\u67e5\u670d\u52a1\u72b6\u6001"):401===n?"/login"!==u["a"].location.pathname&&(i["b"].error("\u767b\u5f55\u5df2\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),localStorage.removeItem(s["a"].authKey),u["a"].push("/login")):i["b"].error(t)}else console.log(e.message);throw e},p=Object(c["a"])({timeout:6e4,params:{t:d},errorHandler:f}),h=["/api/user/login","/open/auth/token","/api/user/two-factor/login","/api/system","/api/user/init","/api/user/notification/init"];p.interceptors.request.use(((e,t)=>{var n=localStorage.getItem(s["a"].authKey);if(n&&!h.includes(e)){var r={Authorization:"Bearer ".concat(n)};return{url:e,options:Object(o["a"])(Object(o["a"])({},t),{},{headers:r})}}return{url:e,options:t}})),p.interceptors.response.use(function(){var e=Object(r["a"])(l.a.mark((function e(t){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.clone();case 2:return e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var v=p},"5RzL":function(e,t,n){"use strict";var r=n("wx14"),o=n("rePB"),i=n("cDcd"),a=n("KQm4"),l=n("U8pU"),c=n("ODXe"),s=n("VTBJ"),u=n("Ff2n"),d=n("4IlW"),f=n("5Z9U"),p=n("c+Xe"),h=n("TSYQ"),v=n.n(h),g=n("6cGi"),m=n("bX4T"),y=n("8z13"),b=function(e){var t,n=e.className,r=e.customizeIcon,o=e.customizeIconProps,a=e.onMouseDown,l=e.onClick,c=e.children;return t="function"===typeof r?r(o):r,i["createElement"]("span",{className:n,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},void 0!==t?t:i["createElement"]("span",{className:v()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},c))},w=b,O=function(e,t){var n,r,o=e.prefixCls,a=e.id,l=e.inputElement,c=e.disabled,u=e.tabIndex,d=e.autoFocus,f=e.autoComplete,h=e.editable,g=e.accessibilityIndex,m=e.value,y=e.maxLength,b=e.onKeyDown,w=e.onMouseDown,O=e.onChange,x=e.onPaste,C=e.onCompositionStart,k=e.onCompositionEnd,S=e.open,E=e.attrs,j=l||i["createElement"]("input",null),N=j,T=N.ref,M=N.props,L=M.onKeyDown,D=M.onChange,P=M.onMouseDown,R=M.onCompositionStart,A=M.onCompositionEnd,I=M.style;return j=i["cloneElement"](j,Object(s["a"])(Object(s["a"])({id:a,ref:Object(p["a"])(t,T),disabled:c,tabIndex:u,autoComplete:f||"off",type:"search",autoFocus:d,className:v()("".concat(o,"-selection-search-input"),null===(n=j)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),style:Object(s["a"])(Object(s["a"])({},I),{},{opacity:h?null:0}),role:"combobox","aria-expanded":S,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":"".concat(a,"_list_").concat(g)},E),{},{value:h?m:"",maxLength:y,readOnly:!h,unselectable:h?null:"on",onKeyDown:function(e){b(e),L&&L(e)},onMouseDown:function(e){w(e),P&&P(e)},onChange:function(e){O(e),D&&D(e)},onCompositionStart:function(e){C(e),R&&R(e)},onCompositionEnd:function(e){k(e),A&&A(e)},onPaste:x})),j},x=i["forwardRef"](O);x.displayName="Input";var C=x;function k(e,t){var n=t.labelInValue,r=t.combobox,o=new Map;if(void 0===e||""===e&&r)return[[],o];var i=Array.isArray(e)?e:[e],a=i;return n&&(a=i.filter((function(e){return null!==e})).map((function(e){var t=e.key,n=e.value,r=void 0!==n?n:t;return o.set(r,e),r}))),[a,o]}function S(e,t){var n=t.optionLabelProp,r=t.labelInValue,o=t.prevValueMap,i=t.options,a=t.getLabeledValue,l=e;return r&&(l=l.map((function(e){return a(e,{options:i,prevValueMap:o,labelInValue:r,optionLabelProp:n})}))),l}function E(e,t){var n,r=Object(a["a"])(t);for(n=e.length-1;n>=0;n-=1)if(!e[n].disabled)break;var o=null;return-1!==n&&(o=r[n],r.splice(n,1)),{values:r,removedValue:o}}var j="undefined"!==typeof window&&window.document&&window.document.documentElement,N=j,T=0;function M(){var e;return N?(e=T,T+=1):e="TEST_OR_SSR",e}function L(e,t){N?i["useLayoutEffect"](e,t):i["useEffect"](e,t)}var D=function(e){e.preventDefault(),e.stopPropagation()},P=function(e){var t=e.id,n=e.prefixCls,r=e.values,a=e.open,l=e.searchValue,s=e.inputRef,u=e.placeholder,d=e.disabled,f=e.mode,p=e.showSearch,h=e.autoFocus,g=e.autoComplete,b=e.accessibilityIndex,O=e.tabIndex,x=e.removeIcon,k=e.maxTagCount,S=e.maxTagTextLength,E=e.maxTagPlaceholder,j=void 0===E?function(e){return"+ ".concat(e.length," ...")}:E,N=e.tagRender,T=e.onToggleOpen,M=e.onSelect,P=e.onInputChange,R=e.onInputPaste,A=e.onInputKeyDown,I=e.onInputMouseDown,K=e.onInputCompositionStart,H=e.onInputCompositionEnd,W=i["useRef"](null),F=Object(i["useState"])(0),B=Object(c["a"])(F,2),z=B[0],V=B[1],U=Object(i["useState"])(!1),_=Object(c["a"])(U,2),G=_[0],q=_[1],Y="".concat(n,"-selection"),X=a||"tags"===f?l:"",Q="tags"===f||p&&(a||G);function $(e,t,n,r){return i["createElement"]("span",{className:v()("".concat(Y,"-item"),Object(o["a"])({},"".concat(Y,"-item-disabled"),t)),title:"string"===typeof e||"number"===typeof e?e.toString():void 0},i["createElement"]("span",{className:"".concat(Y,"-item-content")},e),n&&i["createElement"](w,{className:"".concat(Y,"-item-remove"),onMouseDown:D,onClick:r,customizeIcon:x},"\xd7"))}function Z(e,t,n,r,o){var l=function(e){D(e),T(!a)};return i["createElement"]("span",{onMouseDown:l},N({label:t,value:e,disabled:n,closable:r,onClose:o}))}function J(e){var t=e.disabled,n=e.label,r=e.value,o=!d&&!t,i=n;if("number"===typeof S&&("string"===typeof n||"number"===typeof n)){var a=String(i);a.length>S&&(i="".concat(a.slice(0,S),"..."))}var l=function(e){e&&e.stopPropagation(),M(r,{selected:!1})};return"function"===typeof N?Z(r,i,t,o,l):$(i,t,o,l)}function ee(e){var t="function"===typeof j?j(e):j;return $(t,!1)}L((function(){V(W.current.scrollWidth)}),[X]);var te=i["createElement"]("div",{className:"".concat(Y,"-search"),style:{width:z},onFocus:function(){q(!0)},onBlur:function(){q(!1)}},i["createElement"](C,{ref:s,open:a,prefixCls:n,id:t,inputElement:null,disabled:d,autoFocus:h,autoComplete:g,editable:Q,accessibilityIndex:b,value:X,onKeyDown:A,onMouseDown:I,onChange:P,onPaste:R,onCompositionStart:K,onCompositionEnd:H,tabIndex:O,attrs:Object(m["a"])(e,!0)}),i["createElement"]("span",{ref:W,className:"".concat(Y,"-search-mirror"),"aria-hidden":!0},X,"\xa0")),ne=i["createElement"](y["a"],{prefixCls:"".concat(Y,"-overflow"),data:r,renderItem:J,renderRest:ee,suffix:te,itemKey:"key",maxCount:k});return i["createElement"](i["Fragment"],null,ne,!r.length&&!X&&i["createElement"]("span",{className:"".concat(Y,"-placeholder")},u))},R=P,A=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,o=e.inputRef,a=e.disabled,l=e.autoFocus,s=e.autoComplete,u=e.accessibilityIndex,d=e.mode,f=e.open,p=e.values,h=e.placeholder,v=e.tabIndex,g=e.showSearch,y=e.searchValue,b=e.activeValue,w=e.maxLength,O=e.onInputKeyDown,x=e.onInputMouseDown,k=e.onInputChange,S=e.onInputPaste,E=e.onInputCompositionStart,j=e.onInputCompositionEnd,N=i["useState"](!1),T=Object(c["a"])(N,2),M=T[0],L=T[1],D="combobox"===d,P=D||g,R=p[0],A=y||"";D&&b&&!M&&(A=b),i["useEffect"]((function(){D&&L(!1)}),[D,b]);var I=!("combobox"!==d&&!f)&&!!A,K=!R||"string"!==typeof R.label&&"number"!==typeof R.label?void 0:R.label.toString();return i["createElement"](i["Fragment"],null,i["createElement"]("span",{className:"".concat(n,"-selection-search")},i["createElement"](C,{ref:o,prefixCls:n,id:r,open:f,inputElement:t,disabled:a,autoFocus:l,autoComplete:s,editable:P,accessibilityIndex:u,value:A,onKeyDown:O,onMouseDown:x,onChange:function(e){L(!0),k(e)},onPaste:S,onCompositionStart:E,onCompositionEnd:j,tabIndex:v,attrs:Object(m["a"])(e,!0),maxLength:D?w:void 0})),!D&&R&&!I&&i["createElement"]("span",{className:"".concat(n,"-selection-item"),title:K},R.label),!R&&!I&&i["createElement"]("span",{className:"".concat(n,"-selection-placeholder")},h))},I=A;function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=i["useRef"](null),n=i["useRef"](null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return i["useEffect"]((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var H=function(e,t){var n=Object(i["useRef"])(null),o=Object(i["useRef"])(!1),a=e.prefixCls,l=e.multiple,s=e.open,u=e.mode,f=e.showSearch,p=e.tokenWithEnter,h=e.onSearch,v=e.onSearchSubmit,g=e.onToggleOpen,m=e.onInputKeyDown,y=e.domRef;i["useImperativeHandle"](t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var b=K(0),w=Object(c["a"])(b,2),O=w[0],x=w[1],C=function(e){var t=e.which;t!==d["a"].UP&&t!==d["a"].DOWN||e.preventDefault(),m&&m(e),t!==d["a"].ENTER||"tags"!==u||o.current||s||v(e.target.value),[d["a"].SHIFT,d["a"].TAB,d["a"].BACKSPACE,d["a"].ESC].includes(t)||g(!0)},k=function(){x(!0)},S=Object(i["useRef"])(null),E=function(e){!1!==h(e,!0,o.current)&&g(!0)},j=function(){o.current=!0},N=function(e){o.current=!1,"combobox"!==u&&E(e.target.value)},T=function(e){var t=e.target.value;if(p&&S.current&&/[\r\n]/.test(S.current)){var n=S.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,S.current)}S.current=null,E(t)},M=function(e){var t=e.clipboardData,n=t.getData("text");S.current=n},L=function(e){var t=e.target;if(t!==n.current){var r=void 0!==document.body.style.msTouchAction;r?setTimeout((function(){n.current.focus()})):n.current.focus()}},D=function(e){var t=O();e.target===n.current||t||e.preventDefault(),("combobox"===u||f&&t)&&s||(s&&h("",!0,!1),g())},P={inputRef:n,onInputKeyDown:C,onInputMouseDown:k,onInputChange:T,onInputPaste:M,onInputCompositionStart:j,onInputCompositionEnd:N},A=l?i["createElement"](R,Object(r["a"])({},e,P)):i["createElement"](I,Object(r["a"])({},e,P));return i["createElement"]("div",{ref:y,className:"".concat(a,"-selector"),onClick:L,onMouseDown:D},A)},W=i["forwardRef"](H);W.displayName="Selector";var F=W,B=n("uciX"),z=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange"],V=function(e){var t="number"!==typeof e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}},U=function(e,t){var n=e.prefixCls,a=(e.disabled,e.visible),l=e.children,c=e.popupElement,d=e.containerWidth,f=e.animation,p=e.transitionName,h=e.dropdownStyle,g=e.dropdownClassName,m=e.direction,y=void 0===m?"ltr":m,b=e.placement,w=e.dropdownMatchSelectWidth,O=void 0===w||w,x=e.dropdownRender,C=e.dropdownAlign,k=e.getPopupContainer,S=e.empty,E=e.getTriggerDOMNode,j=e.onPopupVisibleChange,N=Object(u["a"])(e,z),T="".concat(n,"-dropdown"),M=c;x&&(M=x(c));var L=i["useMemo"]((function(){return V(O)}),[O]),D=f?"".concat(T,"-").concat(f):p,P=i["useRef"](null);i["useImperativeHandle"](t,(function(){return{getPopupElement:function(){return P.current}}}));var R=Object(s["a"])({minWidth:d},h);return"number"===typeof O?R.width=O:O&&(R.width=d),i["createElement"](B["a"],Object(r["a"])({},N,{showAction:j?["click"]:[],hideAction:j?["click"]:[],popupPlacement:b||("rtl"===y?"bottomRight":"bottomLeft"),builtinPlacements:L,prefixCls:T,popupTransitionName:D,popup:i["createElement"]("div",{ref:P},M),popupAlign:C,popupVisible:a,getPopupContainer:k,popupClassName:v()(g,Object(o["a"])({},"".concat(T,"-empty"),S)),popupStyle:R,getTriggerDOMNode:E,onPopupVisibleChange:j}),l)},_=i["forwardRef"](U);_.displayName="SelectTrigger";var G=_,q="RC_SELECT_INTERNAL_PROPS_MARK";function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=i["useState"](!1),n=Object(c["a"])(t,2),r=n[0],o=n[1],a=i["useRef"](null),l=function(){window.clearTimeout(a.current)};i["useEffect"]((function(){return l}),[]);var s=function(t,n){l(),a.current=window.setTimeout((function(){o(t),n&&n()}),e)};return[r,s,l]}var X=n("T5bk"),Q=n("Kwbf");function $(e){var t=Object(s["a"])({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Object(Q["a"])(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.prevValueOptions,o=void 0===r?[]:r,i=new Map;return t.forEach((function(e){var t=e.data,n=e.group,r=e.value;n||i.set(r,t)})),e.map((function(e){var t=i.get(e);return t||(t=Object(s["a"])({},o.find((function(t){return t._INTERNAL_OPTION_VALUE_===e})))),$(t)}))}var J=function(e,t){var n=t.options,r=t.prevValueMap,o=t.labelInValue,i=t.optionLabelProp,a=Z([e],n)[0],c={value:e},s=o?r.get(e):void 0;return s&&"object"===Object(l["a"])(s)&&"label"in s?(c.label=s.label,a&&"string"===typeof s.label&&"string"===typeof a[i]&&s.label.trim()!==a[i].trim()&&Object(Q["a"])(!1,"`label` of `value` is not same as `label` in Select options.")):a&&i in a?c.label=a[i]:(c.label=e,c.isCacheable=!0),c.key=c.value,c};function ee(e,t){if(!t||!t.length)return null;var n=!1;function r(e,t){var o=Object(X["a"])(t),i=o[0],l=o.slice(1);if(!i)return[e];var c=e.split(i);return n=n||c.length>1,c.reduce((function(e,t){return[].concat(Object(a["a"])(e),Object(a["a"])(r(t,l)))}),[]).filter((function(e){return e}))}var o=r(e,t);return n?o:null}function te(e,t,n){var r=i["useRef"](null);r.current={open:t,triggerOpen:n},i["useEffect"]((function(){function t(t){var n=t.target;n.shadowRoot&&t.composed&&(n=t.composedPath()[0]||n),r.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&r.current.triggerOpen(!1)}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}function ne(e){var t=i["useRef"](e),n=i["useMemo"]((function(){var n=new Map;t.current.forEach((function(e){var t=e.value,r=e.label;t!==r&&n.set(t,r)}));var r=e.map((function(e){var t=n.get(e.value);return e.isCacheable&&t?Object(s["a"])(Object(s["a"])({},e),{},{label:t}):e}));return t.current=r,r}),[e]);return n}function re(e){var t=i["useRef"](null),n=i["useMemo"]((function(){var t=new Map;return e.forEach((function(e){var n=e.value;t.set(n,e)})),t}),[e]);t.current=n;var r=function(e){return e.map((function(e){return t.current.get(e)})).filter(Boolean)};return r}var oe=["prefixCls","className","id","open","defaultOpen","options","children","mode","value","defaultValue","labelInValue","showSearch","inputValue","searchValue","filterOption","filterSort","optionFilterProp","autoClearSearchValue","onSearch","fieldNames","allowClear","clearIcon","showArrow","inputIcon","menuItemSelectedIcon","disabled","loading","defaultActiveFirstOption","notFoundContent","optionLabelProp","backfill","tabIndex","getInputElement","getRawInputElement","getPopupContainer","placement","listHeight","listItemHeight","animation","transitionName","virtual","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown","onChange","onSelect","onDeselect","onClear","internalProps"],ie=["removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","tabIndex"];function ae(e){var t=e.prefixCls,n=e.components.optionList,l=e.convertChildrenToData,h=e.flattenOptions,m=e.getLabeledValue,y=e.filterOptions,b=e.isValueDisabled,O=e.findValueOption,x=(e.warningProps,e.fillOptionsWithMissingValue),C=e.omitDOMProps;function j(e,j){var N,T=e.prefixCls,D=void 0===T?t:T,P=e.className,R=e.id,A=e.open,I=e.defaultOpen,H=e.options,W=e.children,B=e.mode,z=e.value,V=e.defaultValue,U=e.labelInValue,_=e.showSearch,X=e.inputValue,Q=e.searchValue,$=e.filterOption,Z=e.filterSort,J=e.optionFilterProp,ae=void 0===J?"value":J,le=e.autoClearSearchValue,ce=void 0===le||le,se=e.onSearch,ue=e.fieldNames,de=e.allowClear,fe=e.clearIcon,pe=e.showArrow,he=e.inputIcon,ve=e.menuItemSelectedIcon,ge=e.disabled,me=e.loading,ye=e.defaultActiveFirstOption,be=e.notFoundContent,we=void 0===be?"Not Found":be,Oe=e.optionLabelProp,xe=e.backfill,Ce=(e.tabIndex,e.getInputElement),ke=e.getRawInputElement,Se=e.getPopupContainer,Ee=e.placement,je=e.listHeight,Ne=void 0===je?200:je,Te=e.listItemHeight,Me=void 0===Te?20:Te,Le=e.animation,De=e.transitionName,Pe=e.virtual,Re=e.dropdownStyle,Ae=e.dropdownClassName,Ie=e.dropdownMatchSelectWidth,Ke=e.dropdownRender,He=e.dropdownAlign,We=e.showAction,Fe=void 0===We?[]:We,Be=e.direction,ze=e.tokenSeparators,Ve=e.tagRender,Ue=e.onPopupScroll,_e=e.onDropdownVisibleChange,Ge=e.onFocus,qe=e.onBlur,Ye=e.onKeyUp,Xe=e.onKeyDown,Qe=e.onMouseDown,$e=e.onChange,Ze=e.onSelect,Je=e.onDeselect,et=e.onClear,tt=e.internalProps,nt=void 0===tt?{}:tt,rt=Object(u["a"])(e,oe),ot=nt.mark===q,it=C?C(rt):rt;ie.forEach((function(e){delete it[e]}));var at=Object(i["useRef"])(null),lt=Object(i["useRef"])(null),ct=Object(i["useRef"])(null),st=Object(i["useRef"])(null),ut=Object(i["useMemo"])((function(){return(ze||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[ze]),dt=Y(),ft=Object(c["a"])(dt,3),pt=ft[0],ht=ft[1],vt=ft[2],gt=Object(i["useState"])(),mt=Object(c["a"])(gt,2),yt=mt[0],bt=mt[1];Object(i["useEffect"])((function(){bt("rc_select_".concat(M()))}),[]);var wt=R||yt,Ot=Oe;void 0===Ot&&(Ot=H?"label":"children");var xt="combobox"!==B&&U,Ct="tags"===B||"multiple"===B,kt=void 0!==_?_:Ct||"combobox"===B,St=Object(i["useState"])(!1),Et=Object(c["a"])(St,2),jt=Et[0],Nt=Et[1];Object(i["useEffect"])((function(){Nt(Object(f["a"])())}),[]);var Tt=Object(i["useRef"])(null);i["useImperativeHandle"](j,(function(){var e,t,n;return{focus:null===(e=ct.current)||void 0===e?void 0:e.focus,blur:null===(t=ct.current)||void 0===t?void 0:t.blur,scrollTo:null===(n=st.current)||void 0===n?void 0:n.scrollTo}}));var Mt=Object(g["a"])(V,{value:z}),Lt=Object(c["a"])(Mt,2),Dt=Lt[0],Pt=Lt[1],Rt=Object(i["useMemo"])((function(){return k(Dt,{labelInValue:xt,combobox:"combobox"===B})}),[Dt,xt]),At=Object(c["a"])(Rt,2),It=At[0],Kt=At[1],Ht=Object(i["useMemo"])((function(){return new Set(It)}),[It]),Wt=Object(i["useState"])(null),Ft=Object(c["a"])(Wt,2),Bt=Ft[0],zt=Ft[1],Vt=Object(i["useState"])(""),Ut=Object(c["a"])(Vt,2),_t=Ut[0],Gt=Ut[1],qt=_t;"combobox"===B&&void 0!==Dt?qt=Dt:void 0!==Q?qt=Q:X&&(qt=X);var Yt=Object(i["useMemo"])((function(){var e=H;return void 0===e&&(e=l(W)),"tags"===B&&x&&(e=x(e,Dt,Ot,U)),e||[]}),[H,W,B,Dt]),Xt=Object(i["useMemo"])((function(){return h(Yt,e)}),[Yt]),Qt=re(Xt),$t=Object(i["useMemo"])((function(){if(!qt||!kt)return Object(a["a"])(Yt);var e=y(qt,Yt,{optionFilterProp:ae,filterOption:"combobox"===B&&void 0===$?function(){return!0}:$});return"tags"===B&&e.every((function(e){return e[ae]!==qt}))&&e.unshift({value:qt,label:qt,key:"__RC_SELECT_TAG_PLACEHOLDER__"}),Z&&Array.isArray(e)?Object(a["a"])(e).sort(Z):e}),[Yt,qt,B,kt,Z]),Zt=Object(i["useMemo"])((function(){return h($t,e)}),[$t]);Object(i["useEffect"])((function(){st.current&&st.current.scrollTo&&st.current.scrollTo(0)}),[qt]);var Jt=Object(i["useMemo"])((function(){var e=It.map((function(e){var t=Qt([e]),n=m(e,{options:t,prevValueMap:Kt,labelInValue:xt,optionLabelProp:Ot});return Object(s["a"])(Object(s["a"])({},n),{},{disabled:b(e,t)})}));return B||1!==e.length||null!==e[0].value||null!==e[0].label?e:[]}),[Dt,Yt,B]);Jt=ne(Jt);var en=function(t,n,r){var o=Qt([t]),i=O([t],o,{props:e})[0];if(!nt.skipTriggerSelect){var a=xt?m(t,{options:o,prevValueMap:Kt,labelInValue:xt,optionLabelProp:Ot}):t;n&&Ze?Ze(a,i):!n&&Je&&Je(a,i)}ot&&(n&&nt.onRawSelect?nt.onRawSelect(t,i,r):!n&&nt.onRawDeselect&&nt.onRawDeselect(t,i,r))},tn=Object(i["useState"])([]),nn=Object(c["a"])(tn,2),rn=nn[0],on=nn[1],an=function(t){if(!ot||!nt.skipTriggerChange){var n=Qt(t),r=S(Array.from(t),{labelInValue:xt,options:n,getLabeledValue:m,prevValueMap:Kt,optionLabelProp:Ot}),o=Ct?r:r[0];if($e&&(0!==It.length||0!==r.length)){var i=O(t,n,{prevValueOptions:rn,props:e});on(i.map((function(e,n){var r=Object(s["a"])({},e);return Object.defineProperty(r,"_INTERNAL_OPTION_VALUE_",{get:function(){return t[n]}}),r}))),$e(o,Ct?i:i[0])}Pt(o)}},ln=function(e,t){var n,r=t.selected,o=t.source;ge||(Ct?(n=new Set(It),r?n.add(e):n.delete(e)):(n=new Set,n.add(e)),(Ct||!Ct&&Array.from(It)[0]!==e)&&an(Array.from(n)),en(e,!Ct||r,o),"combobox"===B?(Gt(String(e)),zt("")):Ct&&!ce||(Gt(""),zt("")))},cn=function(e,t){ln(e,Object(s["a"])(Object(s["a"])({},t),{},{source:"option"}))},sn=function(e,t){ln(e,Object(s["a"])(Object(s["a"])({},t),{},{source:"selection"}))},un="combobox"===B&&"function"===typeof Ce&&Ce()||null,dn="function"===typeof ke&&ke(),fn=Object(g["a"])(void 0,{defaultValue:I,value:A}),pn=Object(c["a"])(fn,2),hn=pn[0],vn=pn[1],gn=hn,mn=!we&&!$t.length;(ge||mn&&gn&&"combobox"===B)&&(gn=!1);var yn,bn=!mn&&gn,wn=function(e){var t=void 0!==e?e:!gn;hn===t||ge||(vn(t),_e&&_e(t))};dn&&(yn=function(e){wn(e)}),te((function(){var e;return[at.current,null===(e=lt.current)||void 0===e?void 0:e.getPopupElement()]}),bn,wn);var On=function(e,t,n){var r=!0,o=e;zt(null);var i=n?null:ee(e,ze),l=i;if("combobox"===B)t&&an([o]);else if(i){o="","tags"!==B&&(l=i.map((function(e){var t=Xt.find((function(t){var n=t.data;return n[Ot]===e}));return t?t.data.value:null})).filter((function(e){return null!==e})));var c=Array.from(new Set([].concat(Object(a["a"])(It),Object(a["a"])(l))));an(c),c.forEach((function(e){en(e,!0,"input")})),wn(!1),r=!1}return Gt(o),se&&qt!==o&&se(o),r},xn=function(e){if(e&&e.trim()){var t=Array.from(new Set([].concat(Object(a["a"])(It),[e])));an(t),t.forEach((function(e){en(e,!0,"input")})),Gt("")}};Object(i["useEffect"])((function(){hn&&ge&&vn(!1)}),[ge]),Object(i["useEffect"])((function(){gn||Ct||"combobox"===B||On("",!1,!1)}),[gn]);var Cn=K(),kn=Object(c["a"])(Cn,2),Sn=kn[0],En=kn[1],jn=function(e){var t,n=Sn(),r=e.which;if(r===d["a"].ENTER&&("combobox"!==B&&e.preventDefault(),gn||wn(!0)),En(!!qt),r===d["a"].BACKSPACE&&!n&&Ct&&!qt&&It.length){var o=E(Jt,It);null!==o.removedValue&&(an(o.values),en(o.removedValue,!1,"input"))}for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];gn&&st.current&&(t=st.current).onKeyDown.apply(t,[e].concat(a));Xe&&Xe.apply(void 0,[e].concat(a))},Nn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;gn&&st.current&&(o=st.current).onKeyUp.apply(o,[e].concat(n));Ye&&Ye.apply(void 0,[e].concat(n))},Tn=Object(i["useRef"])(!1),Mn=function(){ht(!0),ge||(Ge&&!Tn.current&&Ge.apply(void 0,arguments),Fe.includes("focus")&&wn(!0)),Tn.current=!0},Ln=function(){ht(!1,(function(){Tn.current=!1,wn(!1)})),ge||(qt&&("tags"===B?(On("",!1,!1),an(Array.from(new Set([].concat(Object(a["a"])(It),[qt]))))):"multiple"===B&&Gt("")),qe&&qe.apply(void 0,arguments))},Dn=[];Object(i["useEffect"])((function(){return function(){Dn.forEach((function(e){return clearTimeout(e)})),Dn.splice(0,Dn.length)}}),[]);var Pn=function(e){var t,n=e.target,r=null===(t=lt.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout((function(){var e,t=Dn.indexOf(o);(-1!==t&&Dn.splice(t,1),vt(),jt||r.contains(document.activeElement))||(null===(e=ct.current)||void 0===e||e.focus())}));Dn.push(o)}if(Qe){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];Qe.apply(void 0,[e].concat(a))}},Rn=Object(i["useState"])(0),An=Object(c["a"])(Rn,2),In=An[0],Kn=An[1],Hn=void 0!==ye?ye:"combobox"!==B,Wn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,o=void 0===r?"keyboard":r;Kn(t),xe&&"combobox"===B&&null!==e&&"keyboard"===o&&zt(String(e))},Fn=Object(i["useState"])(null),Bn=Object(c["a"])(Fn,2),zn=Bn[0],Vn=Bn[1],Un=Object(i["useState"])({}),_n=Object(c["a"])(Un,2),Gn=_n[1];function qn(){Gn({})}L((function(){if(bn){var e,t=Math.ceil(null===(e=at.current)||void 0===e?void 0:e.offsetWidth);zn===t||Number.isNaN(t)||Vn(t)}}),[bn]);var Yn,Xn=i["createElement"](n,{ref:st,prefixCls:D,id:wt,open:gn,childrenAsData:!H,options:$t,fieldNames:ue,flattenOptions:Zt,multiple:Ct,values:Ht,height:Ne,itemHeight:Me,onSelect:cn,onToggleOpen:wn,onActiveValue:Wn,defaultActiveFirstOption:Hn,notFoundContent:we,onScroll:Ue,searchValue:qt,menuItemSelectedIcon:ve,virtual:!1!==Pe&&!1!==Ie,onMouseEnter:qn,direction:Be}),Qn=function(){ot&&nt.onClear&&nt.onClear(),et&&et(),an([]),On("",!1,!1)};!ge&&de&&(It.length||qt)&&(Yn=i["createElement"](w,{className:"".concat(D,"-clear"),onMouseDown:Qn,customizeIcon:fe},"\xd7"));var $n,Zn=void 0!==pe?pe:me||!Ct&&"combobox"!==B;Zn&&($n=i["createElement"](w,{className:v()("".concat(D,"-arrow"),Object(o["a"])({},"".concat(D,"-arrow-loading"),me)),customizeIcon:he,customizeIconProps:{loading:me,searchValue:qt,open:gn,focused:pt,showSearch:kt}}));var Jn=v()(D,P,(N={},Object(o["a"])(N,"".concat(D,"-focused"),pt),Object(o["a"])(N,"".concat(D,"-multiple"),Ct),Object(o["a"])(N,"".concat(D,"-single"),!Ct),Object(o["a"])(N,"".concat(D,"-allow-clear"),de),Object(o["a"])(N,"".concat(D,"-show-arrow"),Zn),Object(o["a"])(N,"".concat(D,"-disabled"),ge),Object(o["a"])(N,"".concat(D,"-loading"),me),Object(o["a"])(N,"".concat(D,"-open"),gn),Object(o["a"])(N,"".concat(D,"-customize-input"),un),Object(o["a"])(N,"".concat(D,"-show-search"),kt),N)),er=i["createElement"](G,{ref:lt,disabled:ge,prefixCls:D,visible:bn,popupElement:Xn,containerWidth:zn,animation:Le,transitionName:De,dropdownStyle:Re,dropdownClassName:Ae,direction:Be,dropdownMatchSelectWidth:Ie,dropdownRender:Ke,dropdownAlign:He,placement:Ee,getPopupContainer:Se,empty:!Yt.length,getTriggerDOMNode:function(){return Tt.current},onPopupVisibleChange:yn},dn?i["cloneElement"](dn,{ref:Object(p["a"])(Tt,dn.props.ref)}):i["createElement"](F,Object(r["a"])({},e,{domRef:Tt,prefixCls:D,inputElement:un,ref:ct,id:wt,showSearch:kt,mode:B,accessibilityIndex:In,multiple:Ct,tagRender:Ve,values:Jt,open:gn,onToggleOpen:wn,searchValue:qt,activeValue:Bt,onSearch:On,onSearchSubmit:xn,onSelect:sn,tokenWithEnter:ut})));return dn?er:i["createElement"]("div",Object(r["a"])({className:Jn},it,{ref:at,onMouseDown:Pn,onKeyDown:jn,onKeyUp:Nn,onFocus:Mn,onBlur:Ln}),pt&&!gn&&i["createElement"]("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(It.join(", "))),er,$n,Yn)}var N=i["forwardRef"](j);return N}var le=n("bT9E"),ce=n("Zm9Q"),se=n("1OyB"),ue=n("vuIU"),de=n("JX7q"),fe=n("Ji7U"),pe=n("LK+K"),he=i["createContext"](null),ve=function(e){for(var t=e.prefixCls,n=e.level,r=e.isStart,a=e.isEnd,l="".concat(t,"-indent-unit"),c=[],s=0;s<n;s+=1){var u;c.push(i["createElement"]("span",{key:s,className:v()(l,(u={},Object(o["a"])(u,"".concat(l,"-start"),r[s]),Object(o["a"])(u,"".concat(l,"-end"),a[s]),u))}))}return i["createElement"]("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},c)},ge=i["memo"](ve),me=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove"],ye="open",be="close",we="---",Oe=function(e){Object(fe["a"])(n,e);var t=Object(pe["a"])(n);function n(){var e;Object(se["a"])(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){var n=e.props.context.onNodeClick;n(t,_e(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){var n=e.props.context.onNodeDoubleClick;n(t,_e(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,_e(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,o=n.checked,i=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var a=!o;i(t,_e(e.props),a)}}},e.onMouseEnter=function(t){var n=e.props.context.onNodeMouseEnter;n(t,_e(e.props))},e.onMouseLeave=function(t){var n=e.props.context.onNodeMouseLeave;n(t,_e(e.props))},e.onContextMenu=function(t){var n=e.props.context.onNodeContextMenu;n(t,_e(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,Object(de["a"])(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,Object(de["a"])(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,Object(de["a"])(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,Object(de["a"])(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,Object(de["a"])(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,Object(de["a"])(e))},e.onExpand=function(t){var n=e.props,r=n.loading,o=n.context.onNodeExpand;r||o(t,_e(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?ye:be},e.hasChildren=function(){var t=e.props.eventKey,n=e.props.context.keyEntities,r=n[t]||{},o=r.children;return!!(o||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,o=e.props.context.loadData,i=e.hasChildren();return!1!==n&&(n||!o&&!i||o&&r&&!i)},e.isDisabled=function(){var t=e.props.disabled,n=e.props.context.disabled;return!(!n&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,o=t.loaded,i=e.props.context,a=i.loadData,l=i.onNodeLoad;r||a&&n&&!e.isLeaf()&&(e.hasChildren()||o||l(_e(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return(null===n||void 0===n?void 0:n.icon)?i["createElement"]("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,o=n||r;return"function"===typeof o?o(Object(s["a"])(Object(s["a"])({},e.props),{},{isLeaf:t})):o},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return!1!==r?i["createElement"]("span",{className:v()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var o=v()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?ye:be)),a=e.renderSwitcherIconDom(!1);return!1!==a?i["createElement"]("span",{onClick:e.onExpand,className:o},a):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,o=t.disableCheckbox,a=e.props.context.prefixCls,l=e.isDisabled(),c=e.isCheckable();if(!c)return null;var s="boolean"!==typeof c?c:null;return i["createElement"]("span",{className:v()("".concat(a,"-checkbox"),n&&"".concat(a,"-checkbox-checked"),!n&&r&&"".concat(a,"-checkbox-indeterminate"),(l||o)&&"".concat(a,"-checkbox-disabled")),onClick:e.onCheck},s)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return i["createElement"]("span",{className:v()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,r=e.state.dragNodeHighlight,o=e.props,a=o.title,l=o.selected,c=o.icon,s=o.loading,u=o.data,d=e.props.context,f=d.prefixCls,p=d.showIcon,h=d.icon,g=d.loadData,m=d.titleRender,y=e.isDisabled(),b="".concat(f,"-node-content-wrapper");if(p){var w=c||h;t=w?i["createElement"]("span",{className:v()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof w?w(e.props):w):e.renderIcon()}else g&&s&&(t=e.renderIcon());n="function"===typeof a?a(u):m?m(u):a;var O=i["createElement"]("span",{className:"".concat(f,"-title")},n);return i["createElement"]("span",{ref:e.setSelectHandle,title:"string"===typeof a?a:"",className:v()("".concat(b),"".concat(b,"-").concat(e.getNodeState()||"normal"),!y&&(l||r)&&"".concat(f,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,O,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,o=e.props.context,i=o.draggable,a=o.dropLevelOffset,l=o.dropPosition,c=o.prefixCls,s=o.indent,u=o.dropIndicatorRender,d=o.dragOverNodeKey,f=o.direction,p=!1!==i,h=!n&&p&&d===r;return h?u({dropPosition:l,dropLevelOffset:a,indent:s,prefixCls:c,direction:f}):null},e}return Object(ue["a"])(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,a=t.className,l=t.style,c=t.dragOver,s=t.dragOverGapTop,d=t.dragOverGapBottom,f=t.isLeaf,p=t.isStart,h=t.isEnd,g=t.expanded,m=t.selected,y=t.checked,b=t.halfChecked,w=t.loading,O=t.domRef,x=t.active,C=(t.data,t.onMouseMove),k=Object(u["a"])(t,me),S=this.props.context,E=S.prefixCls,j=S.filterTreeNode,N=S.keyEntities,T=S.dropContainerKey,M=S.dropTargetKey,L=S.draggingNodeKey,D=this.isDisabled(),P=Ie(k),R=N[n]||{},A=R.level,I=h[h.length-1],K=this.isDraggable(),H=!D&&K,W=L===n;return i["createElement"]("div",Object(r["a"])({ref:O,className:v()(a,"".concat(E,"-treenode"),(e={},Object(o["a"])(e,"".concat(E,"-treenode-disabled"),D),Object(o["a"])(e,"".concat(E,"-treenode-switcher-").concat(g?"open":"close"),!f),Object(o["a"])(e,"".concat(E,"-treenode-checkbox-checked"),y),Object(o["a"])(e,"".concat(E,"-treenode-checkbox-indeterminate"),b),Object(o["a"])(e,"".concat(E,"-treenode-selected"),m),Object(o["a"])(e,"".concat(E,"-treenode-loading"),w),Object(o["a"])(e,"".concat(E,"-treenode-active"),x),Object(o["a"])(e,"".concat(E,"-treenode-leaf-last"),I),Object(o["a"])(e,"".concat(E,"-treenode-draggable"),H),Object(o["a"])(e,"dragging",W),Object(o["a"])(e,"drop-target",M===n),Object(o["a"])(e,"drop-container",T===n),Object(o["a"])(e,"drag-over",!D&&c),Object(o["a"])(e,"drag-over-gap-top",!D&&s),Object(o["a"])(e,"drag-over-gap-bottom",!D&&d),Object(o["a"])(e,"filter-node",j&&j(_e(this.props))),e)),style:l,draggable:H,"aria-grabbed":W,onDragStart:H?this.onDragStart:void 0,onDragEnter:K?this.onDragEnter:void 0,onDragOver:K?this.onDragOver:void 0,onDragLeave:K?this.onDragLeave:void 0,onDrop:K?this.onDrop:void 0,onDragEnd:K?this.onDragEnd:void 0,onMouseMove:C},P),i["createElement"](ge,{prefixCls:E,level:A,isStart:p,isEnd:h}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(i["Component"]),xe=function(e){return i["createElement"](he.Consumer,null,(function(t){return i["createElement"](Oe,Object(r["a"])({},e,{context:t}))}))};xe.displayName="TreeNode",xe.defaultProps={title:we},xe.isTreeNode=1;var Ce=xe;function ke(e,t){var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function Se(e,t){var n=e.slice();return-1===n.indexOf(t)&&n.push(t),n}function Ee(e){return e.split("-")}function je(e,t){return"".concat(e,"-").concat(t)}function Ne(e){return e&&e.type&&e.type.isTreeNode}function Te(e,t){var n=[],r=t[e];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){var t=e.key,r=e.children;n.push(t),o(r)}))}return o(r.children),n}function Me(e){if(e.parent){var t=Ee(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Le(e){var t=Ee(e.pos);return 0===Number(t[t.length-1])}function De(e,t,n,r,o,i,a,l,c,s){var u,d=e.clientX,f=e.clientY,p=e.target.getBoundingClientRect(),h=p.top,v=p.height,g=("rtl"===s?-1:1)*(((null===o||void 0===o?void 0:o.x)||0)-d),m=(g-12)/r,y=l[n.props.eventKey];if(f<h+v/2){var b=a.findIndex((function(e){return e.data.key===y.key})),w=b<=0?0:b-1,O=a[w].data.key;y=l[O]}var x=y.key,C=y,k=y.key,S=0,E=0;if(!c.includes(x))for(var j=0;j<m;j+=1){if(!Me(y))break;y=y.parent,E+=1}var N=t.props.data,T=y.node,M=!0;return Le(y)&&0===y.level&&f<h+v/2&&i({dragNode:N,dropNode:T,dropPosition:-1})&&y.key===n.props.eventKey?S=-1:(C.children||[]).length&&c.includes(k)?i({dragNode:N,dropNode:T,dropPosition:0})?S=0:M=!1:0===E?m>-1.5?i({dragNode:N,dropNode:T,dropPosition:1})?S=1:M=!1:i({dragNode:N,dropNode:T,dropPosition:0})?S=0:i({dragNode:N,dropNode:T,dropPosition:1})?S=1:M=!1:i({dragNode:N,dropNode:T,dropPosition:1})?S=1:M=!1,{dropPosition:S,dropLevelOffset:E,dropTargetKey:y.key,dropTargetPos:y.pos,dragOverNodeKey:k,dropContainerKey:0===S?null:(null===(u=y.parent)||void 0===u?void 0:u.key)||null,dropAllowed:M}}function Pe(e,t){if(e){var n=t.multiple;return n?e.slice():e.length?[e[0]]:e}}function Re(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==Object(l["a"])(e))return Object(Q["a"])(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function Ae(e,t){var n=new Set;function r(e){if(!n.has(e)){var o=t[e];if(o){n.add(e);var i=o.parent,a=o.node;a.disabled||i&&r(i.key)}}}return(e||[]).forEach((function(e){r(e)})),Object(a["a"])(n)}function Ie(e){var t={};return Object.keys(e).forEach((function(n){(n.startsWith("data-")||n.startsWith("aria-"))&&(t[n]=e[n])})),t}var Ke=["children"];function He(e,t){return null!==e&&void 0!==e?e:t}function We(e){var t=e||{},n=t.title,r=t.key,o=t.children;return{title:n||"title",key:r||"key",children:o||"children"}}function Fe(e){function t(e){var n=Object(ce["a"])(e);return n.map((function(e){if(!Ne(e))return Object(Q["a"])(!e,"Tree/TreeNode can only accept TreeNode as children."),null;var n=e.key,r=e.props,o=r.children,i=Object(u["a"])(r,Ke),a=Object(s["a"])({key:n},i),l=t(o);return l.length&&(a.children=l),a})).filter((function(e){return e}))}return t(e)}function Be(e,t,n){var r=We(n),o=r.title,i=r.key,l=r.children,c=new Set(!0===t?[]:t),u=[];function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.map((function(r,f){var p=je(n?n.pos:"0",f),h=He(r[i],p),v=Object(s["a"])(Object(s["a"])({},Object(le["a"])(r,[o,i,l])),{},{title:r[o],key:h,parent:n,pos:p,children:null,data:r,isStart:[].concat(Object(a["a"])(n?n.isStart:[]),[0===f]),isEnd:[].concat(Object(a["a"])(n?n.isEnd:[]),[f===e.length-1])});return u.push(v),!0===t||c.has(h)?v.children=d(r[l]||[],v):v.children=[],v}))}return d(e),u}function ze(e,t,n){var r={};r="object"===Object(l["a"])(n)?n:{externalGetKey:n},r=r||{};var o,i=r,a=i.childrenPropName,c=i.externalGetKey,s=i.fieldNames,u=We(s),d=u.key,f=u.children,p=a||f;function h(n,r,i){var a=n?n[p]:e,l=n?je(i.pos,r):"0";if(n){var c=o(n,l),s={node:n,index:r,pos:l,key:c,parentPos:i.node?i.pos:null,level:i.level+1};t(s)}a&&a.forEach((function(e,t){h(e,t,{node:n,pos:l,level:i?i.level+1:-1})}))}c?"string"===typeof c?o=function(e){return e[c]}:"function"===typeof c&&(o=function(e){return c(e)}):o=function(e,t){return He(e[d],t)},h(null)}function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,o=t.onProcessFinished,i=t.externalGetKey,a=t.childrenPropName,l=t.fieldNames,c=arguments.length>2?arguments[2]:void 0,s=i||c,u={},d={},f={posEntities:u,keyEntities:d};return n&&(f=n(f)||f),ze(e,(function(e){var t=e.node,n=e.index,o=e.pos,i=e.key,a=e.parentPos,l=e.level,c={node:t,index:n,key:i,pos:o,level:l},s=He(i,o);u[o]=c,d[s]=c,c.parent=u[a],c.parent&&(c.parent.children=c.parent.children||[],c.parent.children.push(c)),r&&r(c,f)}),{externalGetKey:s,childrenPropName:a,fieldNames:l}),o&&o(f),f}function Ue(e,t){var n=t.expandedKeys,r=t.selectedKeys,o=t.loadedKeys,i=t.loadingKeys,a=t.checkedKeys,l=t.halfCheckedKeys,c=t.dragOverNodeKey,s=t.dropPosition,u=t.keyEntities,d=u[e],f={eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==o.indexOf(e),loading:-1!==i.indexOf(e),checked:-1!==a.indexOf(e),halfChecked:-1!==l.indexOf(e),pos:String(d?d.pos:""),dragOver:c===e&&0===s,dragOverGapTop:c===e&&-1===s,dragOverGapBottom:c===e&&1===s};return f}function _e(e){var t=e.data,n=e.expanded,r=e.selected,o=e.checked,i=e.loaded,a=e.loading,l=e.halfChecked,c=e.dragOver,u=e.dragOverGapTop,d=e.dragOverGapBottom,f=e.pos,p=e.active,h=Object(s["a"])(Object(s["a"])({},t),{},{expanded:n,selected:r,checked:o,loaded:i,loading:a,halfChecked:l,dragOver:c,dragOverGapTop:u,dragOverGapBottom:d,pos:f,active:p});return"props"in h||Object.defineProperty(h,"props",{get:function(){return Object(Q["a"])(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),h}function Ge(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function qe(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,o=t.checkable;return!(!n&&!r)||!1===o}function Ye(e,t,n,r){for(var o=new Set(e),i=new Set,a=0;a<=n;a+=1){var l=t.get(a)||new Set;l.forEach((function(e){var t=e.key,n=e.node,i=e.children,a=void 0===i?[]:i;o.has(t)&&!r(n)&&a.filter((function(e){return!r(e.node)})).forEach((function(e){o.add(e.key)}))}))}for(var c=new Set,s=n;s>=0;s-=1){var u=t.get(s)||new Set;u.forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!c.has(e.parent.key))if(r(e.parent.node))c.add(t.key);else{var a=!0,l=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);a&&!n&&(a=!1),l||!n&&!i.has(t)||(l=!0)})),a&&o.add(t.key),l&&i.add(t.key),c.add(t.key)}}))}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Ge(i,o))}}function Xe(e,t,n,r,o){for(var i=new Set(e),a=new Set(t),l=0;l<=r;l+=1){var c=n.get(l)||new Set;c.forEach((function(e){var t=e.key,n=e.node,r=e.children,l=void 0===r?[]:r;i.has(t)||a.has(t)||o(n)||l.filter((function(e){return!o(e.node)})).forEach((function(e){i.delete(e.key)}))}))}a=new Set;for(var s=new Set,u=r;u>=0;u-=1){var d=n.get(u)||new Set;d.forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!s.has(e.parent.key))if(o(e.parent.node))s.add(t.key);else{var r=!0,l=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);r&&!n&&(r=!1),l||!n&&!a.has(t)||(l=!0)})),r||i.delete(t.key),l&&a.add(t.key),s.add(t.key)}}))}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(Ge(a,i))}}function Qe(e,t,n,r){var o,i=[];o=r||qe;var a,l=new Set(e.filter((function(e){var t=!!n[e];return t||i.push(e),t}))),c=new Map,s=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,o=c.get(r);o||(o=new Set,c.set(r,o)),o.add(t),s=Math.max(s,r)})),Object(Q["a"])(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?Ye(l,c,s,o):Xe(l,t.halfCheckedKeys,c,s,o),a}var $e=function(){return null},Ze=$e,Je=["children","value"];function et(e){return Object(ce["a"])(e).map((function(e){if(!i["isValidElement"](e)||!e.type)return null;var t=e.key,n=e.props,r=n.children,o=n.value,a=Object(u["a"])(n,Je),l=Object(s["a"])({key:t,value:o},a),c=et(r);return c.length&&(l.children=c),l})).filter((function(e){return e}))}function tt(e){if(!e)return e;var t=Object(s["a"])({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Object(Q["a"])(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function nt(e,t,n,r,o){var a=null,l=null;function c(){function e(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.map((function(r,s){var u="".concat(o,"-").concat(s),d=n.includes(r.value),f=e(r.children||[],u,d),p=i["createElement"](Ze,r,f.map((function(e){return e.node})));if(t===r.value&&(a=p),d){var h={pos:u,node:p,children:f};return c||l.push(h),h}return null})).filter((function(e){return e}))}l||(l=[],e(r),l.sort((function(e,t){var r=e.node.props.value,o=t.node.props.value,i=n.indexOf(r),a=n.indexOf(o);return i-a})))}Object.defineProperty(e,"triggerNode",{get:function(){return Object(Q["a"])(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),c(),a}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return Object(Q["a"])(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),c(),o?l:l.map((function(e){var t=e.node;return t}))}})}function rt(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function ot(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e||{},r=n.label,o=n.value,i=n.children,a={value:o||"value",children:i||"children"};return t&&!r||(a.label=r||"label"),a}function it(e,t){var n=new Map;return t.forEach((function(e){var t=e.data,r=e.value;n.set(r,t.node)})),e.map((function(e){return tt(n.get(e))}))}function at(e,t){var n=it([e],t)[0];return!!n&&n.disabled}function lt(e){return e.disabled||e.disableCheckbox||!1===e.checkable}function ct(e){var t=e.parent,n=0,r=t;while(r)r=r.parent,n+=1;return n}function st(e){var t=e;function n(e){return(e||[]).map((function(e){var t=e.value,r=e.key,o=e.children,i=Object(s["a"])(Object(s["a"])({},e),{},{key:"key"in e?r:t});return o&&(i.children=n(o)),i}))}var r=Be(n(t),!0,null),o=new Map,i=r.map((function(e){var t,n=e.data,r=e.key,i=e.value,a={key:r,value:i,data:n,level:ct(e),parentKey:null===(t=e.parent)||void 0===t?void 0:t.data.key};return o.set(r,a),a}));return i.forEach((function(e){e.parent=o.get(e.parentKey)})),i}function ut(e){return function(t,n){var r=n[e];return String(r).toLowerCase().includes(String(t).toLowerCase())}}function dt(e,t,n){var r,o=n.optionFilterProp,i=n.filterOption;if(!1===i)return t;function a(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.map((function(t){var o=t.children,i=n||r(e,tt(t)),l=a(o||[],i);return i||l.length?Object(s["a"])(Object(s["a"])({},t),{},{children:l}):null})).filter((function(e){return e}))}return r="function"===typeof i?i:ut(o),a(t)}function ft(e,t,n,r){var o=new Map;return rt(t).forEach((function(e){e&&"object"===Object(l["a"])(e)&&"value"in e&&o.set(e.value,e)})),e.map((function(e){var t={value:e},i=n(e,"select",!0),a=r(i,e);if(void 0===a&&(a=e),o.has(e)){var l=o.get(e);t.label="label"in l?l.label:a,"halfChecked"in l&&(t.halfChecked=l.halfChecked)}else t.label=a;return t}))}function pt(e,t){var n=new Set(e);return n.add(t),Array.from(n)}function ht(e,t){var n=new Set(e);return n.delete(t),Array.from(n)}var vt=i["createContext"](null),gt=["key","children"];function mt(e,t){var n=t.id,r=t.pId,o=t.rootPId,i={},a=[],l=e.map((function(e){var t=Object(s["a"])({},e),r=t[n];return i[r]=t,t.key=t.key||r,t}));return l.forEach((function(e){var t=e[r],n=i[t];n&&(n.children=n.children||[],n.children.push(e)),(t===o||!n&&null===o)&&a.push(e)})),a}function yt(e,t,n){new Set;var r=n.value,o=n.children;function i(e){return(e||[]).map((function(e){var n=e.key,a=(e.children,Object(u["a"])(e,gt)),l=e[r],c=r in e?l:n,d=Object(s["a"])(Object(s["a"])({},a),{},{key:null!==n&&void 0!==n?n:c,value:c,title:t(e),node:e});return o in e&&(d.children=i(e[o])),d}))}return i(e)}function bt(e,t,n){var r=n.getLabelProp,o=n.simpleMode,a=n.fieldNames,l=i["useRef"]({});return e?(l.current.formatTreeData=l.current.treeData===e?l.current.formatTreeData:yt(o?mt(e,Object(s["a"])({id:"id",pId:"pId",rootPId:null},!0!==o?o:{})):e,r,a),l.current.treeData=e):l.current.formatTreeData=l.current.children===t?l.current.formatTreeData:yt(et(t),r,a),l.current.formatTreeData}function wt(e){return i["useMemo"]((function(){var t=new Map,n=new Map;return e.forEach((function(e){t.set(e.key,e),n.set(e.data.value,e)})),[t,n]}),[e])}function Ot(e,t){if(!e)return!0;var n=e.data.node,r=n.disabled,o=n.disableCheckbox;switch(t){case"checkbox":return r||o;default:return r}}function xt(e,t){var n=i["useCallback"]((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"select",r=arguments.length>2?arguments[2]:void 0,o=e.get(t);return!r&&Ot(o,n)?null:o}),[e]),r=i["useCallback"]((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"select",r=arguments.length>2?arguments[2]:void 0,o=t.get(e);return!r&&Ot(o,n)?null:o}),[t]);return[n,r]}var Ct="SHOW_ALL",kt="SHOW_PARENT",St="SHOW_CHILD";function Et(e,t,n){var r=new Set(e);return t===St?e.filter((function(e){var t=n[e];return!(t&&t.children&&t.children.every((function(e){var t=e.node;return lt(t)||r.has(t.key)})))})):t===kt?e.filter((function(e){var t=n[e],o=t?t.parent:null;return!(o&&!lt(o.node)&&r.has(o.node.key))})):e}function jt(e,t){var n=t.value,r=t.getEntityByValue,o=t.getEntityByKey,a=t.treeConduction,l=t.showCheckedStrategy,c=t.conductKeyEntities,s=t.getLabelProp;return i["useMemo"]((function(){var t=e;if(a){var i=Et(e.map((function(e){var t=r(e);return t?t.key:e})),l,c);t=i.map((function(e){var t=o(e);return t?t.data.value:e}))}return ft(t,n,r,s)}),[e,n,a,l,r])}var Nt=["expandedKeys","treeData","treeCheckable","showCheckedStrategy","searchPlaceholder","treeLine","treeIcon","showTreeIcon","switcherIcon","treeNodeFilterProp","filterTreeNode","dropdownPopupAlign","treeDefaultExpandAll","treeCheckStrictly","treeExpandedKeys","treeLoadedKeys","treeMotion","onTreeExpand","onTreeLoad","labelRender","loadData","treeDataSimpleMode","treeNodeLabelProp","treeDefaultExpandedKeys"];function Tt(e){var t=e.prefixCls,n=e.optionList,o=ae({prefixCls:t,components:{optionList:n},convertChildrenToData:function(){return null},flattenOptions:st,getLabeledValue:J,filterOptions:dt,isValueDisabled:at,findValueOption:it,omitDOMProps:function(e){return Object(le["a"])(e,Nt)}});o.displayName="Select";var s=i["forwardRef"]((function(e,t){var n=e.fieldNames,s=e.multiple,u=e.treeCheckable,d=e.treeCheckStrictly,f=e.showCheckedStrategy,p=void 0===f?"SHOW_CHILD":f,h=e.labelInValue,v=e.loadData,m=e.treeLoadedKeys,y=e.treeNodeFilterProp,b=void 0===y?"value":y,w=e.treeNodeLabelProp,O=e.treeDataSimpleMode,x=e.treeData,C=e.treeExpandedKeys,k=e.treeDefaultExpandedKeys,S=e.treeDefaultExpandAll,E=e.children,j=e.treeIcon,N=e.showTreeIcon,T=e.switcherIcon,M=e.treeLine,L=e.treeMotion,D=e.filterTreeNode,P=e.dropdownPopupAlign,R=e.onChange,A=e.onTreeExpand,I=e.onTreeLoad,K=e.onDropdownVisibleChange,H=e.onSelect,W=e.onDeselect,F=e.labelRender,B=u||d,z=s||B,V=u&&!d,U=d||h,_=ot(n,!0),G=function(e){return x?(null===_||void 0===_?void 0:_.label)?e[_.label]:e.label||e.title:e.title},Y=function(e,t){if(F)return F(e,t);if(e){var n=e.data.node;return w?n[w]:G(n)}},X=bt(x,E,{getLabelProp:G,simpleMode:O,fieldNames:_}),$=Object(i["useMemo"])((function(){return st(X)}),[X]),Z=wt($),J=Object(c["a"])(Z,2),ee=J[0],te=J[1],ne=xt(ee,te),re=Object(c["a"])(ne,2),oe=re[0],ie=re[1],ae=Object(i["useMemo"])((function(){return V?Ve(X):{keyEntities:null}}),[X,u,d]),le=ae.keyEntities,ce=i["useRef"](null);i["useImperativeHandle"](t,(function(){return{scrollTo:ce.current.scrollTo,focus:ce.current.focus,blur:ce.current.blur,getEntityByValue:ie}}));var se=Object(g["a"])(e.defaultValue,{value:e.value}),ue=Object(c["a"])(se,2),de=ue[0],fe=ue[1],pe=function(e){var t=[],n=[];return e.forEach((function(e){ie(e)?n.push(e):t.push(e)})),{missingRawValues:t,existRawValues:n}},he=Object(i["useMemo"])((function(){var e=[],t=[];if(rt(de).forEach((function(n){if(n&&"object"===Object(l["a"])(n)&&"value"in n)if(n.halfChecked&&d){var r=ie(n.value);e.push(r?r.key:n.value)}else t.push(n.value);else t.push(n)})),V){var n=pe(t),r=n.missingRawValues,o=n.existRawValues,i=o.map((function(e){return ie(e).key})),c=Qe(i,!0,le),s=c.checkedKeys,u=c.halfCheckedKeys;return[[].concat(Object(a["a"])(r),Object(a["a"])(s.map((function(e){return oe(e).data.value})))),u]}return[t,e]}),[de,$,z,U,u,d]),ve=Object(c["a"])(he,2),ge=ve[0],me=ve[1],ye=jt(ge,{treeConduction:V,value:de,showCheckedStrategy:p,conductKeyEntities:le,getEntityByValue:ie,getEntityByKey:oe,getLabelProp:Y}),be=function(e,t,n){if(fe(z?e:e[0]),R){var r=e;if(V&&"SHOW_ALL"!==p){var o=e.map((function(e){var t=ie(e);return t?t.key:e})),i=Et(o,p,le);r=i.map((function(e){var t=oe(e);return t?t.data.value:e}))}var l=t||{triggerValue:void 0,selected:void 0},c=l.triggerValue,s=l.selected,u=U?ft(r,de,ie,Y):r;if(d){var f=me.map((function(e){var t=oe(e);return t?t.data.value:e})).filter((function(e){return!r.includes(e)}));u=[].concat(Object(a["a"])(u),Object(a["a"])(ft(f,de,ie,Y)))}var h={preValue:ye,triggerValue:c},v=!0;(d||"selection"===n&&!s)&&(v=!1),nt(h,c,e,X,v),B?h.checked=s:h.selected=s,R(z?u:u[0],U?null:r.map((function(e){var t=ie(e);return t?t.data.title:null})),h)}},we=function(e,t,n){var r=e;if(z){var o=pt(ge,e);if(V){var i=pe(o),l=i.missingRawValues,c=i.existRawValues,s=c.map((function(e){return ie(e).key})),u=Qe(s,!0,le),d=u.checkedKeys;o=[].concat(Object(a["a"])(l),Object(a["a"])(d.map((function(e){return oe(e).data.value}))))}be(o,{selected:!0,triggerValue:e},n)}else be([e],{selected:!0,triggerValue:e},n);H&&H(r,t)},Oe=function(e,t,n){var r=e,o=ht(ge,e);if(V){var i=pe(o),l=i.missingRawValues,c=i.existRawValues,s=c.map((function(e){return ie(e).key})),u=Qe(s,{checked:!1,halfCheckedKeys:me},le),d=u.checkedKeys;o=[].concat(Object(a["a"])(l),Object(a["a"])(d.map((function(e){return oe(e).data.value}))))}be(o,{selected:!1,triggerValue:e},n),W&&W(r,t)},xe=function(){be([],null,"clear")},Ce=i["useCallback"]((function(e){if(K){var t={};Object.defineProperty(t,"documentClickClose",{get:function(){return Object(Q["a"])(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),K(e,t)}}),[K]);var ke={optionLabelProp:null,optionFilterProp:b,dropdownAlign:P,internalProps:{mark:q,onClear:xe,skipTriggerChange:!0,skipTriggerSelect:!0,onRawSelect:we,onRawDeselect:Oe}};"filterTreeNode"in e&&(ke.filterOption=D);var Se=i["useMemo"]((function(){return{checkable:B,loadData:v,treeLoadedKeys:m,onTreeLoad:I,checkedKeys:ge,halfCheckedKeys:me,treeDefaultExpandAll:S,treeExpandedKeys:C,treeDefaultExpandedKeys:k,onTreeExpand:A,treeIcon:j,treeMotion:L,showTreeIcon:N,switcherIcon:T,treeLine:M,treeNodeFilterProp:b,getEntityByKey:oe,getEntityByValue:ie}}),[B,v,m,I,ge,me,S,C,k,A,j,L,N,T,M,b,oe,ie]);return i["createElement"](vt.Provider,{value:Se},i["createElement"](o,Object(r["a"])({ref:ce,mode:z?"multiple":null},e,ke,{value:ye,labelInValue:!0,options:X,onChange:null,onSelect:null,onDeselect:null,onDropdownVisibleChange:Ce})))}));s.displayName="TreeSelect";var u=s;return u.TreeNode=Ze,u.SHOW_ALL=Ct,u.SHOW_PARENT=kt,u.SHOW_CHILD=St,u}var Mt=n("YrtM"),Lt=n("t23M");function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var At=i["forwardRef"]((function(e,t){var n=e.height,r=e.offset,o=e.children,a=e.prefixCls,l=e.onInnerResize,c={},s={display:"flex",flexDirection:"column"};return void 0!==r&&(c={height:n,position:"relative",overflow:"hidden"},s=Pt(Pt({},s),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),i["createElement"]("div",{style:c},i["createElement"](Lt["a"],{onResize:function(e){var t=e.offsetHeight;t&&l&&l()}},i["createElement"]("div",{style:s,className:v()(Rt({},"".concat(a,"-holder-inner"),a)),ref:t},o)))}));At.displayName="Filler";var It=At,Kt=n("wgJM");function Ht(e){return Ht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t&&Bt(e.prototype,t),n&&Bt(e,n),e}function Vt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}function Ut(e,t){return Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ut(e,t)}function _t(e){var t=Yt();return function(){var n,r=Xt(e);if(t){var o=Xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){return!t||"object"!==Ht(t)&&"function"!==typeof t?qt(e):t}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Xt(e){return Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xt(e)}var Qt=20;function $t(e){return"touches"in e?e.touches[0].pageY:e.pageY}var Zt=function(e){Vt(n,e);var t=_t(n);function n(){var e;Ft(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),e.moveRaf=null,e.scrollbarRef=i["createRef"](),e.thumbRef=i["createRef"](),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.scrollbarRef.current.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp),Kt["a"].cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:$t(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,o=n.pageY,i=n.startTop,a=e.props.onScroll;if(Kt["a"].cancel(e.moveRaf),r){var l=$t(t)-o,c=i+l,s=e.getEnableScrollRange(),u=e.getEnableHeightRange(),d=u?c/u:0,f=Math.ceil(d*s);e.moveRaf=Object(Kt["a"])((function(){a(f)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=t.count,o=n/r*10;return o=Math.max(o,Qt),o=Math.min(o,n/2),Math.floor(o)},e.getEnableScrollRange=function(){var t=e.props,n=t.scrollHeight,r=t.height;return n-r||0},e.getEnableHeightRange=function(){var t=e.props.height,n=e.getSpinHeight();return t-n||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();if(0===t||0===n)return 0;var o=t/n;return o*r},e.showScroll=function(){var t=e.props,n=t.height,r=t.scrollHeight;return r>n},e}return zt(n,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,r=this.props.prefixCls,o=this.getSpinHeight(),a=this.getTop(),l=this.showScroll(),c=l&&n;return i["createElement"]("div",{ref:this.scrollbarRef,className:v()("".concat(r,"-scrollbar"),Wt({},"".concat(r,"-scrollbar-show"),l)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:c?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},i["createElement"]("div",{ref:this.thumbRef,className:v()("".concat(r,"-scrollbar-thumb"),Wt({},"".concat(r,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:o,top:a,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),n}(i["Component"]);function Jt(e){var t=e.children,n=e.setRef,r=i["useCallback"]((function(e){n(e)}),[]);return i["cloneElement"](t,{ref:r})}function en(e,t,n,r,o,a){var l=a.getKey;return e.slice(t,n+1).map((function(e,n){var a=t+n,c=o(e,a,{}),s=l(e);return i["createElement"](Jt,{key:s,setRef:function(t){return r(e,t)}},c)}))}var tn=n("m+aA");function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t,n){return t&&rn(e.prototype,t),n&&rn(e,n),e}var an=function(){function e(){nn(this,e),this.maps=void 0,this.maps={},this.maps.prototype=null}return on(e,[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}]),e}(),ln=an;function cn(e,t){return pn(e)||fn(e,t)||un(e,t)||sn()}function sn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function un(e,t){if(e){if("string"===typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(e,t):void 0}}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fn(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){l=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(l)throw o}}return i}}function pn(e){if(Array.isArray(e))return e}function hn(e,t,n){var r=i["useState"](0),o=cn(r,2),a=o[0],l=o[1],c=Object(i["useRef"])(new Map),s=Object(i["useRef"])(new ln),u=Object(i["useRef"])(0);function d(){u.current+=1;var e=u.current;Promise.resolve().then((function(){e===u.current&&(c.current.forEach((function(e,t){if(e&&e.offsetParent){var n=Object(tn["a"])(e),r=n.offsetHeight;s.current.get(t)!==r&&s.current.set(t,n.offsetHeight)}})),l((function(e){return e+1})))}))}function f(r,o){var i=e(r),a=c.current.get(i);o?(c.current.set(i,o),d()):c.current.delete(i),!a!==!o&&(o?null===t||void 0===t||t(r):null===n||void 0===n||n(r))}return[f,d,s.current,a]}function vn(e){return vn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function gn(e,t,n,r,o,a,l,c){var s=i["useRef"]();return function(i){if(null!==i&&void 0!==i){if(Kt["a"].cancel(s.current),"number"===typeof i)l(i);else if(i&&"object"===vn(i)){var u,d=i.align;u="index"in i?i.index:t.findIndex((function(e){return o(e)===i.key}));var f=i.offset,p=void 0===f?0:f,h=function i(c,f){if(!(c<0)&&e.current){var h=e.current.clientHeight,v=!1,g=f;if(h){for(var m=f||d,y=0,b=0,w=0,O=Math.min(t.length,u),x=0;x<=O;x+=1){var C=o(t[x]);b=y;var k=n.get(C);w=b+(void 0===k?r:k),y=w,x===u&&void 0===k&&(v=!0)}var S=null;switch(m){case"top":S=b-p;break;case"bottom":S=w-h+p;break;default:var E=e.current.scrollTop,j=E+h;b<E?g="top":w>j&&(g="bottom")}null!==S&&S!==e.current.scrollTop&&l(S)}s.current=Object(Kt["a"])((function(){v&&a(),i(c-1,g)}))}};h(3)}}else c()}}function mn(e,t,n){var r,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(r=e,o=t):(r=t,o=e);var l={__EMPTY_ITEM__:!0};function c(e){return void 0!==e?n(e):l}for(var s=null,u=1!==Math.abs(i-a),d=0;d<o.length;d+=1){var f=c(r[d]),p=c(o[d]);if(f!==p){s=d,u=u||f!==c(o[d+1]);break}}return null===s?null:{index:s,multiple:u}}function yn(e,t){return Cn(e)||xn(e,t)||wn(e,t)||bn()}function bn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wn(e,t){if(e){if("string"===typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xn(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){l=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(l)throw o}}return i}}function Cn(e){if(Array.isArray(e))return e}function kn(e,t,n){var r=i["useState"](e),o=yn(r,2),a=o[0],l=o[1],c=i["useState"](null),s=yn(c,2),u=s[0],d=s[1];return i["useEffect"]((function(){var r=mn(a||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),d(e[r.index])),l(e)}),[e]),[u]}function Sn(e){return Sn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}var En="object"===("undefined"===typeof navigator?"undefined":Sn(navigator))&&/Firefox/i.test(navigator.userAgent),jn=En,Nn=function(e,t){var n=Object(i["useRef"])(!1),r=Object(i["useRef"])(null);function o(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var a=Object(i["useRef"])({top:e,bottom:t});return a.current.top=e,a.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e<0&&a.current.top||e>0&&a.current.bottom;return t&&i?(clearTimeout(r.current),n.current=!1):i&&!n.current||o(),!n.current&&i}};function Tn(e,t,n,r){var o=Object(i["useRef"])(0),a=Object(i["useRef"])(null),l=Object(i["useRef"])(null),c=Object(i["useRef"])(!1),s=Nn(t,n);function u(t){if(e){Kt["a"].cancel(a.current);var n=t.deltaY;o.current+=n,l.current=n,s(n)||(jn||t.preventDefault(),a.current=Object(Kt["a"])((function(){var e=c.current?10:1;r(o.current*e),o.current=0})))}}function d(t){e&&(c.current=t.detail===l.current)}return[u,d]}var Mn=14/15;function Ln(e,t,n){var r,o=Object(i["useRef"])(!1),a=Object(i["useRef"])(0),l=Object(i["useRef"])(null),c=Object(i["useRef"])(null),s=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),r=a.current-t;a.current=t,n(r)&&e.preventDefault(),clearInterval(c.current),c.current=setInterval((function(){r*=Mn,(!n(r,!0)||Math.abs(r)<=.1)&&clearInterval(c.current)}),16)}},u=function(){o.current=!1,r()},d=function(e){r(),1!==e.touches.length||o.current||(o.current=!0,a.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",s),l.current.addEventListener("touchend",u))};r=function(){l.current&&(l.current.removeEventListener("touchmove",s),l.current.removeEventListener("touchend",u))},i["useLayoutEffect"]((function(){return e&&t.current.addEventListener("touchstart",d),function(){t.current.removeEventListener("touchstart",d),r(),clearInterval(c.current)}}),[e])}var Dn=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function Pn(){return Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pn.apply(this,arguments)}function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e,t){return zn(e)||Bn(e,t)||Wn(e,t)||Hn()}function Hn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wn(e,t){if(e){if("string"===typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(e,t):void 0}}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bn(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){l=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(l)throw o}}return i}}function zn(e){if(Array.isArray(e))return e}function Vn(e,t){if(null==e)return{};var n,r,o=Un(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Un(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var _n=[],Gn={overflowY:"auto",overflowAnchor:"none"};function qn(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,o=e.className,a=e.height,l=e.itemHeight,c=e.fullHeight,s=void 0===c||c,u=e.style,d=e.data,f=e.children,p=e.itemKey,h=e.virtual,g=e.component,m=void 0===g?"div":g,y=e.onScroll,b=e.onVisibleChange,w=Vn(e,Dn),O=!(!1===h||!a||!l),x=O&&d&&l*d.length>a,C=Object(i["useState"])(0),k=Kn(C,2),S=k[0],E=k[1],j=Object(i["useState"])(!1),N=Kn(j,2),T=N[0],M=N[1],L=v()(r,o),D=d||_n,P=Object(i["useRef"])(),R=Object(i["useRef"])(),A=Object(i["useRef"])(),I=i["useCallback"]((function(e){return"function"===typeof p?p(e):null===e||void 0===e?void 0:e[p]}),[p]),K={getKey:I};function H(e){E((function(t){var n;n="function"===typeof e?e(t):e;var r=re(n);return P.current.scrollTop=r,r}))}var W=Object(i["useRef"])({start:0,end:D.length}),F=Object(i["useRef"])(),B=kn(D,I),z=Kn(B,1),V=z[0];F.current=V;var U=hn(I,null,null),_=Kn(U,4),G=_[0],q=_[1],Y=_[2],X=_[3],Q=i["useMemo"]((function(){if(!O)return{scrollHeight:void 0,start:0,end:D.length-1,offset:void 0};var e;if(!x)return{scrollHeight:(null===(e=R.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:D.length-1,offset:void 0};for(var t,n,r,o=0,i=D.length,c=0;c<i;c+=1){var s=D[c],u=I(s),d=Y.get(u),f=o+(void 0===d?l:d);f>=S&&void 0===t&&(t=c,n=o),f>S+a&&void 0===r&&(r=c),o=f}return void 0===t&&(t=0,n=0),void 0===r&&(r=D.length-1),r=Math.min(r+1,D.length),{scrollHeight:o,start:t,end:r,offset:n}}),[x,O,S,D,X,a]),$=Q.scrollHeight,Z=Q.start,J=Q.end,ee=Q.offset;W.current.start=Z,W.current.end=J;var te=$-a,ne=Object(i["useRef"])(te);function re(e){var t=e;return Number.isNaN(ne.current)||(t=Math.min(t,ne.current)),t=Math.max(t,0),t}ne.current=te;var oe=S<=0,ie=S>=te,ae=Nn(oe,ie);function le(e){var t=e;H(t)}function ce(e){var t=e.currentTarget.scrollTop;t!==S&&H(t),null===y||void 0===y||y(e)}var se=Tn(O,oe,ie,(function(e){H((function(t){var n=t+e;return n}))})),ue=Kn(se,2),de=ue[0],fe=ue[1];Ln(O,P,(function(e,t){return!ae(e,t)&&(de({preventDefault:function(){},deltaY:e}),!0)})),Object(i["useLayoutEffect"])((function(){function e(e){O&&e.preventDefault()}return P.current.addEventListener("wheel",de),P.current.addEventListener("DOMMouseScroll",fe),P.current.addEventListener("MozMousePixelScroll",e),function(){P.current.removeEventListener("wheel",de),P.current.removeEventListener("DOMMouseScroll",fe),P.current.removeEventListener("MozMousePixelScroll",e)}}),[O]);var pe=gn(P,D,Y,l,I,q,H,(function(){var e;null===(e=A.current)||void 0===e||e.delayHidden()}));i["useImperativeHandle"](t,(function(){return{scrollTo:pe}})),Object(i["useLayoutEffect"])((function(){if(b){var e=D.slice(Z,J+1);b(e,D)}}),[Z,J,D]);var he=en(D,Z,J,G,f,K),ve=null;return a&&(ve=An(In({},s?"height":"maxHeight",a),Gn),O&&(ve.overflowY="hidden",T&&(ve.pointerEvents="none"))),i["createElement"]("div",Pn({style:An(An({},u),{},{position:"relative"}),className:L},w),i["createElement"](m,{className:"".concat(r,"-holder"),style:ve,ref:P,onScroll:ce},i["createElement"](It,{prefixCls:r,height:$,offset:ee,onInnerResize:q,ref:R},he)),O&&i["createElement"](Zt,{ref:A,prefixCls:r,scrollTop:S,height:a,scrollHeight:$,count:D.length,onScroll:le,onStartMove:function(){M(!0)},onStopMove:function(){M(!1)}}))}var Yn=i["forwardRef"](qn);Yn.displayName="List";var Xn=Yn,Qn=Xn,$n=n("8XRh"),Zn=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Jn=function(e,t){var n=e.className,o=e.style,a=e.motion,l=e.motionNodes,s=e.motionType,d=e.onMotionStart,f=e.onMotionEnd,p=e.active,h=e.treeNodeRequiredProps,g=Object(u["a"])(e,Zn),m=i["useState"](!0),y=Object(c["a"])(m,2),b=y[0],w=y[1],O=i["useContext"](he),x=O.prefixCls,C=i["useRef"](!1),k=function(){C.current||f(),C.current=!0};return Object(i["useEffect"])((function(){l&&"hide"===s&&b&&w(!1)}),[l]),Object(i["useEffect"])((function(){return l&&d(),function(){l&&k()}}),[]),l?i["createElement"]($n["b"],Object(r["a"])({ref:t,visible:b},a,{motionAppear:"show"===s,onAppearEnd:k,onLeaveEnd:k}),(function(e,t){var n=e.className,o=e.style;return i["createElement"]("div",{ref:t,className:v()("".concat(x,"-treenode-motion"),n),style:o},l.map((function(e){var t=Object(r["a"])({},e.data),n=e.title,o=e.key,a=e.isStart,l=e.isEnd;delete t.children;var c=Ue(o,h);return i["createElement"](Ce,Object(r["a"])({},t,c,{title:n,active:p,data:e.data,key:o,isStart:a,isEnd:l}))})))})):i["createElement"](Ce,Object(r["a"])({domRef:t,className:n,style:o},g,{active:p}))};Jn.displayName="MotionTreeNode";var er=i["forwardRef"](Jn),tr=er;function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function o(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var r=t.filter((function(e){return!n.has(e)}));return 1===r.length?r[0]:null}return n<r?{add:!0,key:o(e,t)}:{add:!1,key:o(t,e)}}function rr(e,t,n){var r=e.findIndex((function(e){var t=e.data;return t.key===n})),o=e[r+1],i=t.findIndex((function(e){var t=e.data;return t.key===n}));if(o){var a=t.findIndex((function(e){var t=e.data;return t.key===o.data.key}));return t.slice(i+1,a)}return t.slice(i+1)}var or=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],ir={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ar=function(){},lr="RC_TREE_MOTION_".concat(Math.random()),cr={key:lr},sr={key:lr,level:0,index:0,pos:"0",node:cr},ur={parent:null,children:[],pos:sr.pos,data:cr,title:null,key:lr,isStart:[],isEnd:[]};function dr(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function fr(e){var t=e.data.key,n=e.pos;return He(t,n)}function pr(e){var t=String(e.data.key),n=e;while(n.parent)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}var hr=function(e,t){var n=e.prefixCls,o=e.data,a=(e.selectable,e.checkable,e.expandedKeys),l=e.selectedKeys,s=e.checkedKeys,d=e.loadedKeys,f=e.loadingKeys,p=e.halfCheckedKeys,h=e.keyEntities,v=e.disabled,g=e.dragging,m=e.dragOverNodeKey,y=e.dropPosition,b=e.motion,w=e.height,O=e.itemHeight,x=e.virtual,C=e.focusable,k=e.activeItem,S=e.focused,E=e.tabIndex,j=e.onKeyDown,N=e.onFocus,T=e.onBlur,M=e.onActiveChange,L=e.onListChangeStart,D=e.onListChangeEnd,P=Object(u["a"])(e,or),R=i["useRef"](null),A=i["useRef"](null);i["useImperativeHandle"](t,(function(){return{scrollTo:function(e){R.current.scrollTo(e)},getIndentWidth:function(){return A.current.offsetWidth}}}));var I=i["useState"](a),K=Object(c["a"])(I,2),H=K[0],W=K[1],F=i["useState"](o),B=Object(c["a"])(F,2),z=B[0],V=B[1],U=i["useState"](o),_=Object(c["a"])(U,2),G=_[0],q=_[1],Y=i["useState"]([]),X=Object(c["a"])(Y,2),Q=X[0],$=X[1],Z=i["useState"](null),J=Object(c["a"])(Z,2),ee=J[0],te=J[1];function ne(){V(o),q(o),$([]),te(null),D()}i["useEffect"]((function(){W(a);var e=nr(H,a);if(null!==e.key)if(e.add){var t=z.findIndex((function(t){var n=t.data.key;return n===e.key})),n=dr(rr(z,o,e.key),x,w,O),r=z.slice();r.splice(t+1,0,ur),q(r),$(n),te("show")}else{var i=o.findIndex((function(t){var n=t.data.key;return n===e.key})),l=dr(rr(o,z,e.key),x,w,O),c=o.slice();c.splice(i+1,0,ur),q(c),$(l),te("hide")}else z!==o&&(V(o),q(o))}),[a,o]),i["useEffect"]((function(){g||ne()}),[g]);var re=b?G:o,oe={expandedKeys:a,selectedKeys:l,loadedKeys:d,loadingKeys:f,checkedKeys:s,halfCheckedKeys:p,dragOverNodeKey:m,dropPosition:y,keyEntities:h};return i["createElement"](i["Fragment"],null,S&&k&&i["createElement"]("span",{style:ir,"aria-live":"assertive"},pr(k)),i["createElement"]("div",null,i["createElement"]("input",{style:ir,disabled:!1===C||v,tabIndex:!1!==C?E:null,onKeyDown:j,onFocus:N,onBlur:T,value:"",onChange:ar,"aria-label":"for screen reader"})),i["createElement"]("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},i["createElement"]("div",{className:"".concat(n,"-indent")},i["createElement"]("div",{ref:A,className:"".concat(n,"-indent-unit")}))),i["createElement"](Qn,Object(r["a"])({},P,{data:re,itemKey:fr,height:w,fullHeight:!1,virtual:x,itemHeight:O,prefixCls:"".concat(n,"-list"),ref:R,onVisibleChange:function(e,t){var n=new Set(e),r=t.filter((function(e){return!n.has(e)}));r.some((function(e){return fr(e)===lr}))&&ne()}}),(function(e){var t=e.pos,n=Object(r["a"])({},e.data),o=e.title,a=e.key,l=e.isStart,c=e.isEnd,s=He(a,t);delete n.key,delete n.children;var u=Ue(s,oe);return i["createElement"](tr,Object(r["a"])({},n,u,{title:o,active:!!k&&a===k.data.key,pos:t,data:e.data,isStart:l,isEnd:c,motion:b,motionNodes:a===lr?Q:null,motionType:ee,onMotionStart:L,onMotionEnd:ne,treeNodeRequiredProps:oe,onMouseMove:function(){M(null)}}))})))},vr=i["forwardRef"](hr);vr.displayName="NodeList";var gr=vr;function mr(e){var t=e.dropPosition,n=e.dropLevelOffset,r=e.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:o.top=0,o.left=-n*r;break;case 1:o.bottom=0,o.left=-n*r;break;case 0:o.bottom=0,o.left=r;break}return i["createElement"]("div",{style:o})}var yr=10,br=function(e){Object(fe["a"])(n,e);var t=Object(pe["a"])(n);function n(){var e;Object(se["a"])(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:We()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=i["createRef"](),e.onNodeDragStart=function(t,n){var r=e.state,o=r.expandedKeys,i=r.keyEntities,a=e.props.onDragStart,l=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var c=ke(o,l);e.setState({draggingNodeKey:l,dragChildrenKeys:Te(l,i),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(c),window.addEventListener("dragend",e.onWindowDragEnd),a&&a({event:t,node:_e(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,o=r.expandedKeys,i=r.keyEntities,l=r.dragChildrenKeys,c=r.flattenNodes,s=r.indent,u=e.props,d=u.onDragEnter,f=u.onExpand,p=u.allowDrop,h=u.direction,v=n.props,g=v.pos,m=v.eventKey,y=Object(de["a"])(e),b=y.dragNode;e.currentMouseOverDroppableNodeKey!==m&&(e.currentMouseOverDroppableNodeKey=m);var w=De(t,b,n,s,e.dragStartMousePosition,p,c,i,o,h),O=w.dropPosition,x=w.dropLevelOffset,C=w.dropTargetKey,k=w.dropContainerKey,S=w.dropTargetPos,E=w.dropAllowed,j=w.dragOverNodeKey;b&&-1===l.indexOf(C)&&E?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),b.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[g]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var r=Object(a["a"])(o),l=i[n.props.eventKey];l&&(l.children||[]).length&&(r=Se(o,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(r),f&&f(r,{node:_e(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),b.props.eventKey!==C||0!==x?(e.setState({dragOverNodeKey:j,dropPosition:O,dropLevelOffset:x,dropTargetKey:C,dropContainerKey:k,dropTargetPos:S,dropAllowed:E}),d&&d({event:t,node:_e(n.props),expandedKeys:o})):e.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})):e.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},e.onNodeDragOver=function(t,n){var r=e.state,o=r.dragChildrenKeys,i=r.flattenNodes,a=r.keyEntities,l=r.expandedKeys,c=r.indent,s=e.props,u=s.onDragOver,d=s.allowDrop,f=s.direction,p=Object(de["a"])(e),h=p.dragNode,v=De(t,h,n,c,e.dragStartMousePosition,d,i,a,l,f),g=v.dropPosition,m=v.dropLevelOffset,y=v.dropTargetKey,b=v.dropContainerKey,w=v.dropAllowed,O=v.dropTargetPos,x=v.dragOverNodeKey;h&&-1===o.indexOf(y)&&w&&(h.props.eventKey===y&&0===m?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.setState({dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1,dragOverNodeKey:null}):g===e.state.dropPosition&&m===e.state.dropLevelOffset&&y===e.state.dropTargetKey&&b===e.state.dropContainerKey&&O===e.state.dropTargetPos&&w===e.state.dropAllowed&&x===e.state.dragOverNodeKey||e.setState({dropPosition:g,dropLevelOffset:m,dropTargetKey:y,dropContainerKey:b,dropTargetPos:O,dropAllowed:w,dragOverNodeKey:x}),u&&u({event:t,node:_e(n.props)}))},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.setState({dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1,dragOverNodeKey:null}),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r&&r({event:t,node:_e(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),o&&!r&&o({event:t,node:_e(n.props)}),e.dragNode=null},e.onNodeDrop=function(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.state,a=i.dragChildrenKeys,l=i.dropPosition,c=i.dropTargetKey,u=i.dropTargetPos,d=i.dropAllowed;if(d){var f=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==c){var p=Object(s["a"])(Object(s["a"])({},Ue(c,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.data.key)===c,data:e.state.keyEntities[c].node}),h=-1!==a.indexOf(c);Object(Q["a"])(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var v=Ee(u),g={event:t,node:_e(p),dragNode:e.dragNode?_e(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(a),dropToGap:0!==l,dropPosition:l+Number(v[v.length-1])};f&&!o&&f(g),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.draggingNodeKey;null!==t&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.onNodeClick=function(t,n){var r=e.props.onClick;r&&r(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props.onDoubleClick;r&&r(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,o=e.state,i=o.keyEntities,a=o.fieldNames,l=e.props,c=l.onSelect,s=l.multiple,u=n.selected,d=n[a.key],f=!u;r=f?s?Se(r,d):[d]:ke(r,d);var p=r.map((function(e){var t=i[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:r}),c&&c(r,{event:"select",selected:f,node:n,selectedNodes:p,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var o,i=e.state,l=i.keyEntities,c=i.checkedKeys,s=i.halfCheckedKeys,u=e.props,d=u.checkStrictly,f=u.onCheck,p=n.key,h={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(d){var v=r?Se(c,p):ke(c,p),g=ke(s,p);o={checked:v,halfChecked:g},h.checkedNodes=v.map((function(e){return l[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:v})}else{var m=Qe([].concat(Object(a["a"])(c),[p]),!0,l),y=m.checkedKeys,b=m.halfCheckedKeys;if(!r){var w=new Set(y);w.delete(p);var O=Qe(Array.from(w),{checked:!1,halfCheckedKeys:b},l);y=O.checkedKeys,b=O.halfCheckedKeys}o=y,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=b,y.forEach((function(e){var t=l[e];if(t){var n=t.node,r=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:r})}})),e.setUncontrolledState({checkedKeys:y},!1,{halfCheckedKeys:b})}f&&f(o,h)},e.onNodeLoad=function(t){var n=t.key,r=new Promise((function(r,o){e.setState((function(i){var a=i.loadedKeys,l=void 0===a?[]:a,c=i.loadingKeys,s=void 0===c?[]:c,u=e.props,d=u.loadData,f=u.onLoad;if(!d||-1!==l.indexOf(n)||-1!==s.indexOf(n))return null;var p=d(t);return p.then((function(){var o=e.state.loadedKeys,i=Se(o,n);f&&f(i,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:i}),e.setState((function(e){return{loadingKeys:ke(e.loadingKeys,n)}})),r()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:ke(e.loadingKeys,n)}})),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=yr){var i=e.state.loadedKeys;Object(Q["a"])(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Se(i,n)}),r()}o(t)})),{loadingKeys:Se(s,n)}}))}));return r.catch((function(){})),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;r&&r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;r&&r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0}),t&&t.apply(void 0,arguments)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null),t&&t.apply(void 0,arguments)},e.getTreeNodeRequiredProps=function(){var t=e.state,n=t.expandedKeys,r=t.selectedKeys,o=t.loadedKeys,i=t.loadingKeys,a=t.checkedKeys,l=t.halfCheckedKeys,c=t.dragOverNodeKey,s=t.dropPosition,u=t.keyEntities;return{expandedKeys:n||[],selectedKeys:r||[],loadedKeys:o||[],loadingKeys:i||[],checkedKeys:a||[],halfCheckedKeys:l||[],dragOverNodeKey:c,dropPosition:s,keyEntities:u}},e.setExpandedKeys=function(t){var n=e.state,r=n.treeData,o=n.fieldNames,i=Be(r,t,o);e.setUncontrolledState({expandedKeys:t,flattenNodes:i},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,o=e.state,i=o.listChanging,a=o.fieldNames,l=e.props,c=l.onExpand,s=l.loadData,u=n.expanded,d=n[a.key];if(!i){var f=r.indexOf(d),p=!u;if(Object(Q["a"])(u&&-1!==f||!u&&-1===f,"Expand state not sync with index check"),r=p?Se(r,d):ke(r,d),e.setExpandedKeys(r),c&&c(r,{node:n,expanded:p,nativeEvent:t.nativeEvent}),p&&s){var h=e.onNodeLoad(n);h&&h.then((function(){var t=Be(e.state.treeData,r,a);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=e.state.expandedKeys,n=ke(t,d);e.setExpandedKeys(n)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),r&&r(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return null===n?null:r.find((function(e){var t=e.data.key;return t===n}))||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,o=n.activeKey,i=r.findIndex((function(e){var t=e.data.key;return t===o}));-1===i&&t<0&&(i=r.length),i=(i+t+r.length)%r.length;var a=r[i];if(a){var l=a.data.key;e.onActiveChange(l)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,o=n.expandedKeys,i=n.checkedKeys,a=e.props,l=a.onKeyDown,c=a.checkable,u=a.selectable;switch(t.which){case d["a"].UP:e.offsetActiveKey(-1),t.preventDefault();break;case d["a"].DOWN:e.offsetActiveKey(1),t.preventDefault();break}var f=e.getActiveItem();if(f&&f.data){var p=e.getTreeNodeRequiredProps(),h=!1===f.data.isLeaf||!!(f.data.children||[]).length,v=_e(Object(s["a"])(Object(s["a"])({},Ue(r,p)),{},{data:f.data,active:!0}));switch(t.which){case d["a"].LEFT:h&&o.includes(r)?e.onNodeExpand({},v):f.parent&&e.onActiveChange(f.parent.data.key),t.preventDefault();break;case d["a"].RIGHT:h&&!o.includes(r)?e.onNodeExpand({},v):f.children&&f.children.length&&e.onActiveChange(f.children[0].data.key),t.preventDefault();break;case d["a"].ENTER:case d["a"].SPACE:!c||v.disabled||!1===v.checkable||v.disableCheckbox?c||!u||v.disabled||!1===v.selectable||e.onNodeSelect({},v):e.onNodeCheck({},v,!i.includes(r));break}}l&&l(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var o=!1,i=!0,a={};Object.keys(t).forEach((function(n){n in e.props?i=!1:(o=!0,a[n]=t[n])})),!o||n&&!i||e.setState(Object(s["a"])(Object(s["a"])({},a),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return Object(ue["a"])(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"render",value:function(){var e,t,n=this.state,a=n.focused,c=n.flattenNodes,s=n.keyEntities,u=n.draggingNodeKey,d=n.activeKey,f=n.dropLevelOffset,p=n.dropContainerKey,h=n.dropTargetKey,g=n.dropPosition,m=n.dragOverNodeKey,y=n.indent,b=this.props,w=b.prefixCls,O=b.className,x=b.style,C=b.showLine,k=b.focusable,S=b.tabIndex,E=void 0===S?0:S,j=b.selectable,N=b.showIcon,T=b.icon,M=b.switcherIcon,L=b.draggable,D=b.checkable,P=b.checkStrictly,R=b.disabled,A=b.motion,I=b.loadData,K=b.filterTreeNode,H=b.height,W=b.itemHeight,F=b.virtual,B=b.titleRender,z=b.dropIndicatorRender,V=b.onContextMenu,U=b.onScroll,_=b.direction,G=Ie(this.props);return L&&(t="object"===Object(l["a"])(L)?L:"function"===typeof L?{nodeDraggable:L}:{}),i["createElement"](he.Provider,{value:{prefixCls:w,selectable:j,showIcon:N,icon:T,switcherIcon:M,draggable:t,draggingNodeKey:u,checkable:D,checkStrictly:P,disabled:R,keyEntities:s,dropLevelOffset:f,dropContainerKey:p,dropTargetKey:h,dropPosition:g,dragOverNodeKey:m,indent:y,direction:_,dropIndicatorRender:z,loadData:I,filterTreeNode:K,titleRender:B,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},i["createElement"]("div",{role:"tree",className:v()(w,O,(e={},Object(o["a"])(e,"".concat(w,"-show-line"),C),Object(o["a"])(e,"".concat(w,"-focused"),a),Object(o["a"])(e,"".concat(w,"-active-focused"),null!==d),e))},i["createElement"](gr,Object(r["a"])({ref:this.listRef,prefixCls:w,style:x,data:c,disabled:R,selectable:j,checkable:!!D,motion:A,dragging:null!==u,height:H,itemHeight:W,virtual:F,focusable:k,focused:a,tabIndex:E,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:V,onScroll:U},this.getTreeNodeRequiredProps(),G))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,i={prevProps:e};function a(t){return!r&&t in e||r&&r[t]!==e[t]}var l=t.fieldNames;if(a("fieldNames")&&(l=We(e.fieldNames),i.fieldNames=l),a("treeData")?n=e.treeData:a("children")&&(Object(Q["a"])(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=Fe(e.children)),n){i.treeData=n;var c=Ve(n,{fieldNames:l});i.keyEntities=Object(s["a"])(Object(o["a"])({},lr,sr),c.keyEntities)}var u,d=i.keyEntities||t.keyEntities;if(a("expandedKeys")||r&&a("autoExpandParent"))i.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?Ae(e.expandedKeys,d):e.expandedKeys;else if(!r&&e.defaultExpandAll){var f=Object(s["a"])({},d);delete f[lr],i.expandedKeys=Object.keys(f).map((function(e){return f[e].key}))}else!r&&e.defaultExpandedKeys&&(i.expandedKeys=e.autoExpandParent||e.defaultExpandParent?Ae(e.defaultExpandedKeys,d):e.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,n||i.expandedKeys){var p=Be(n||t.treeData,i.expandedKeys||t.expandedKeys,l);i.flattenNodes=p}if((e.selectable&&(a("selectedKeys")?i.selectedKeys=Pe(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(i.selectedKeys=Pe(e.defaultSelectedKeys,e))),e.checkable)&&(a("checkedKeys")?u=Re(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?u=Re(e.defaultCheckedKeys)||{}:n&&(u=Re(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),u)){var h=u,v=h.checkedKeys,g=void 0===v?[]:v,m=h.halfCheckedKeys,y=void 0===m?[]:m;if(!e.checkStrictly){var b=Qe(g,!0,d);g=b.checkedKeys,y=b.halfCheckedKeys}i.checkedKeys=g,i.halfCheckedKeys=y}return a("loadedKeys")&&(i.loadedKeys=e.loadedKeys),i}}]),n}(i["Component"]);br.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:mr,allowDrop:function(){return!0}},br.TreeNode=Ce;var wr=br,Or=wr,xr={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Cr=function(e,t){var n=e.prefixCls,o=e.height,l=e.itemHeight,s=e.virtual,u=e.options,f=e.flattenOptions,p=e.multiple,h=e.searchValue,v=e.onSelect,g=e.onToggleOpen,m=e.open,y=e.notFoundContent,b=e.onMouseEnter,w=i["useContext"](vt),O=w.checkable,x=w.checkedKeys,C=w.halfCheckedKeys,k=w.treeExpandedKeys,S=w.treeDefaultExpandAll,E=w.treeDefaultExpandedKeys,j=w.onTreeExpand,N=w.treeIcon,T=w.showTreeIcon,M=w.switcherIcon,L=w.treeLine,D=w.treeNodeFilterProp,P=w.loadData,R=w.treeLoadedKeys,A=w.treeMotion,I=w.onTreeLoad,K=w.getEntityByKey,H=w.getEntityByValue,W=i["useRef"](),F=Object(Mt["a"])((function(){return u}),[m,u],(function(e,t){return t[0]&&e[1]!==t[1]})),B=i["useMemo"]((function(){return x.map((function(e){var t=H(e,void 0,!0);return t?t.key:null}))}),[x,H]),z=i["useMemo"]((function(){return O?{checked:B,halfChecked:C}:null}),[B,C,O]);i["useEffect"]((function(){var e;m&&!p&&B.length&&(null===(e=W.current)||void 0===e||e.scrollTo({key:B[0]}))}),[m]);var V=String(h).toLowerCase(),U=function(e){return!!V&&String(e[D]).toLowerCase().includes(V)},_=i["useState"](E),G=Object(c["a"])(_,2),q=G[0],Y=G[1],X=i["useState"](null),Q=Object(c["a"])(X,2),$=Q[0],Z=Q[1],J=i["useMemo"]((function(){return k?Object(a["a"])(k):h?$:q}),[q,$,V,k]);i["useEffect"]((function(){h&&Z(f.map((function(e){return e.key})))}),[h]);var ee=function(e){Y(e),Z(e),j&&j(e)},te=function(e){e.preventDefault()},ne=function(e,t){var n=t.node.key,r=K(n,O?"checkbox":"select");null!==r&&v(r.data.value,{selected:!x.includes(r.data.value)}),p||g(!1)},re=i["useState"](null),oe=Object(c["a"])(re,2),ie=oe[0],ae=oe[1],le=K(ie);if(i["useImperativeHandle"](t,(function(){var e;return{scrollTo:null===(e=W.current)||void 0===e?void 0:e.scrollTo,onKeyDown:function(e){var t,n=e.which;switch(n){case d["a"].UP:case d["a"].DOWN:case d["a"].LEFT:case d["a"].RIGHT:null===(t=W.current)||void 0===t||t.onKeyDown(e);break;case d["a"].ENTER:var r=(null===le||void 0===le?void 0:le.data.node)||{},o=r.selectable,i=r.value;!1!==o&&ne(null,{node:{key:ie},selected:!x.includes(i)});break;case d["a"].ESC:g(!1)}},onKeyUp:function(){}}})),0===F.length)return i["createElement"]("div",{role:"listbox",className:"".concat(n,"-empty"),onMouseDown:te},y);var ce={};return R&&(ce.loadedKeys=R),J&&(ce.expandedKeys=J),i["createElement"]("div",{onMouseDown:te,onMouseEnter:b},le&&m&&i["createElement"]("span",{style:xr,"aria-live":"assertive"},le.data.value),i["createElement"](Or,Object(r["a"])({ref:W,focusable:!1,prefixCls:"".concat(n,"-tree"),treeData:F,height:o,itemHeight:l,virtual:s,multiple:p,icon:N,showIcon:T,switcherIcon:M,showLine:L,loadData:h?null:P,motion:A,checkable:O,checkStrictly:!0,checkedKeys:z,selectedKeys:O?[]:B,defaultExpandAll:S},ce,{onActiveChange:ae,onSelect:ne,onCheck:ne,onExpand:ee,onLoad:I,filterTreeNode:U})))},kr=i["forwardRef"](Cr);kr.displayName="OptionList";var Sr=kr,Er=Tt({prefixCls:"rc-tree-select",optionList:Sr}),jr=Er,Nr=jr,Tr=n("Ya77"),Mr=n("H84U"),Lr=n("uaoM"),Dr=n("1vzs"),Pr=n("2jpz"),Rr=n("3Nzz"),Ar=n("EXcs"),Ir=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Kr=function(e,t){var n,a=e.prefixCls,l=e.size,c=e.bordered,s=void 0===c||c,u=e.className,d=e.treeCheckable,f=e.multiple,p=e.listHeight,h=void 0===p?256:p,g=e.listItemHeight,m=void 0===g?26:g,y=e.notFoundContent,b=e.switcherIcon,w=e.treeLine,O=e.getPopupContainer,x=e.dropdownClassName,C=e.treeIcon,k=void 0!==C&&C,S=e.transitionName,E=e.choiceTransitionName,j=void 0===E?"":E,N=Ir(e,["prefixCls","size","bordered","className","treeCheckable","multiple","listHeight","listItemHeight","notFoundContent","switcherIcon","treeLine","getPopupContainer","dropdownClassName","treeIcon","transitionName","choiceTransitionName"]),T=i["useContext"](Mr["b"]),M=T.getPopupContainer,L=T.getPrefixCls,D=T.renderEmpty,P=T.direction,R=T.virtual,A=T.dropdownMatchSelectWidth,I=i["useContext"](Rr["b"]);Object(Lr["a"])(!1!==f||!d,"TreeSelect","`multiple` will always be `true` when `treeCheckable` is true");var K,H=L("select",a),W=L("select-tree",a),F=L("tree-select",a),B=v()(x,"".concat(F,"-dropdown"),Object(o["a"])({},"".concat(F,"-dropdown-rtl"),"rtl"===P)),z=!(!d&&!f),V=Object(Dr["a"])(Object(r["a"])(Object(r["a"])({},N),{multiple:z,prefixCls:H})),U=V.suffixIcon,_=V.removeIcon,G=V.clearIcon;K=void 0!==y?y:D("Select");var q=Object(Tr["a"])(N,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon"]),Y=l||I,X=v()(!a&&F,(n={},Object(o["a"])(n,"".concat(H,"-lg"),"large"===Y),Object(o["a"])(n,"".concat(H,"-sm"),"small"===Y),Object(o["a"])(n,"".concat(H,"-rtl"),"rtl"===P),Object(o["a"])(n,"".concat(H,"-borderless"),!s),n),u),Q=L();return i["createElement"](Nr,Object(r["a"])({virtual:R,dropdownMatchSelectWidth:A},q,{ref:t,prefixCls:H,className:X,listHeight:h,listItemHeight:m,treeCheckable:d?i["createElement"]("span",{className:"".concat(H,"-tree-checkbox-inner")}):d,treeLine:!!w,inputIcon:U,multiple:f,removeIcon:_,clearIcon:G,switcherIcon:function(e){return Object(Pr["a"])(W,b,w,e)},showTreeIcon:k,notFoundContent:K,getPopupContainer:O||M,treeMotion:null,dropdownClassName:B,choiceTransitionName:Object(Ar["b"])(Q,"",j),transitionName:Object(Ar["b"])(Q,"slide-up",S)}))},Hr=i["forwardRef"](Kr),Wr=Hr;Wr.TreeNode=Ze,Wr.SHOW_ALL=Ct,Wr.SHOW_PARENT=kt,Wr.SHOW_CHILD=St;t["a"]=Wr},"9ama":function(e,t,n){},"9kvl":function(e,t,n){"use strict";var r=n("FfOG");n.d(t,"a",(function(){return r["b"]}));n("bCY9")},AOa7:function(e,t,n){},"BGR+":function(e,t,n){"use strict";function r(e,t){for(var n=Object.assign({},e),r=0;r<t.length;r+=1){var o=t[r];delete n[o]}return n}t["a"]=r},DnfT:function(e,t,n){},FRQA:function(e,t,n){"use strict";n("GNNt");var r=n("wEI+"),o=(n("DnfT"),n("cDcd")),i=n.n(o),a=n("TSYQ"),l=n.n(a),c=n("jYQm"),s=function(e){var t=Object(o["useContext"])(c["a"]),n=e.children,a=e.contentWidth,s=e.className,u=e.style,d=Object(o["useContext"])(r["b"].ConfigContext),f=d.getPrefixCls,p=e.prefixCls||f("pro"),h=a||t.contentWidth,v="".concat(p,"-grid-content");return i.a.createElement("div",{className:l()(v,s,{wide:"Fixed"===h}),style:u},i.a.createElement("div",{className:"".concat(p,"-grid-content-children")},n))};t["a"]=s},GNNt:function(e,t,n){"use strict";n("k/Y0")},"L//y":function(e,t,n){"use strict";var r=n("VTBJ"),o=n("cDcd"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},a=i,l=n("/1Lp"),c=function(e,t){return o["createElement"](l["a"],Object(r["a"])(Object(r["a"])({},e),{},{ref:t,icon:a}))};c.displayName="FileOutlined";t["a"]=o["forwardRef"](c)},OaEy:function(e,t,n){"use strict";n("EFp3"),n("bKJz"),n("R9oj")},Q9mQ:function(e,t,n){"use strict";n("EFp3"),n("UADf")},R9oj:function(e,t,n){"use strict";n("EFp3"),n("pwpV")},SC9r:function(e,t,n){"use strict";t["a"]={siteName:"\u9752\u9f99\u63a7\u5236\u9762\u677f",apiPrefix:"/api/",authKey:"token",layouts:[{name:"primary",include:[/.*/],exclude:[/(\/(en|zh))*\/login/]}],i18n:{languages:[{key:"pt-br",title:"Portugu\xeas",flag:"/portugal.svg"},{key:"en",title:"English",flag:"/america.svg"},{key:"zh",title:"\u4e2d\u6587",flag:"/china.svg"}],defaultLanguage:"en"},scopes:[{name:"\u5b9a\u65f6\u4efb\u52a1",value:"crons"},{name:"\u73af\u5883\u53d8\u91cf",value:"envs"},{name:"\u914d\u7f6e\u6587\u4ef6",value:"configs"},{name:"\u811a\u672c\u7ba1\u7406",value:"scripts"},{name:"\u4efb\u52a1\u65e5\u5fd7",value:"logs"},{name:"\u4f9d\u8d56\u7ba1\u7406",value:"dependencies"},{name:"\u7cfb\u7edf\u4fe1\u606f",value:"system"}],scopesMap:{crons:"\u5b9a\u65f6\u4efb\u52a1",envs:"\u73af\u5883\u53d8\u91cf",configs:"\u914d\u7f6e\u6587\u4ef6",scripts:"\u811a\u672c\u7ba1\u7406",logs:"\u4efb\u52a1\u65e5\u5fd7",dependencies:"\u4f9d\u8d56\u7ba1\u7406",system:"\u7cfb\u7edf\u4fe1\u606f"},notificationModes:[{value:"gotify",label:"Gotify"},{value:"goCqHttpBot",label:"GoCqHttpBot"},{value:"serverChan",label:"Server\u9171"},{value:"bark",label:"Bark"},{value:"telegramBot",label:"Telegram\u673a\u5668\u4eba"},{value:"dingtalkBot",label:"\u9489\u9489\u673a\u5668\u4eba"},{value:"weWorkBot",label:"\u4f01\u4e1a\u5fae\u4fe1\u673a\u5668\u4eba"},{value:"weWorkApp",label:"\u4f01\u4e1a\u5fae\u4fe1\u5e94\u7528"},{value:"iGot",label:"IGot"},{value:"pushPlus",label:"PushPlus"},{value:"email",label:"\u90ae\u7bb1"},{value:"closed",label:"\u5df2\u5173\u95ed"}],notificationModeMap:{gotify:[{label:"gotifyUrl",tip:"gotify\u7684url\u5730\u5740,\u4f8b\u5982 https://push.example.de:8080",required:!0},{label:"gotifyToken",tip:"gotify\u7684\u6d88\u606f\u5e94\u7528token\u7801",required:!0},{label:"gotifyPriority",tip:"\u63a8\u9001\u6d88\u606f\u7684\u4f18\u5148\u7ea7"}],goCqHttpBot:[{label:"goCqHttpBotUrl",tip:"\u63a8\u9001\u5230\u4e2a\u4ebaQQ: http://127.0.0.1/send_private_msg\uff0c\u7fa4\uff1ahttp://127.0.0.1/send_group_msg",required:!0},{label:"goCqHttpBotToken",tip:"\u8bbf\u95ee\u5bc6\u94a5",required:!0},{label:"goCqHttpBotQq",tip:"\u5982\u679cGOBOT_URL\u8bbe\u7f6e /send_private_msg \u5219\u9700\u8981\u586b\u5165 user_id=\u4e2a\u4ebaQQ \u76f8\u53cd\u5982\u679c\u662f /send_group_msg \u5219\u9700\u8981\u586b\u5165 group_id=QQ\u7fa4",required:!0}],serverChan:[{label:"serverChanKey",tip:"Server\u9171SENDKEY",required:!0}],bark:[{label:"barkPush",tip:"Bark\u7684\u4fe1\u606fIP/\u8bbe\u5907\u7801\uff0c\u4f8b\u5982\uff1ahttps://api.day.app/XXXXXXXX",required:!0},{label:"barkSound",tip:"BARK\u63a8\u9001\u94c3\u58f0,\u94c3\u58f0\u5217\u8868\u53bbAPP\u67e5\u770b\u590d\u5236\u586b\u5199"},{label:"barkGroup",tip:"BARK\u63a8\u9001\u6d88\u606f\u7684\u5206\u7ec4, \u9ed8\u8ba4\u4e3aqinglong"}],telegramBot:[{label:"telegramBotToken",tip:"telegram\u673a\u5668\u4eba\u7684token\uff0c\u4f8b\u5982\uff1a1077xxx4424:AAFjv0FcqxxxxxxgEMGfi22B4yh15R5uw",required:!0},{label:"telegramBotUserId",tip:"telegram\u7528\u6237\u7684id\uff0c\u4f8b\u5982\uff1a129xxx206",required:!0},{label:"telegramBotProxyHost",tip:"\u4ee3\u7406IP"},{label:"telegramBotProxyPort",tip:"\u4ee3\u7406\u7aef\u53e3"},{label:"telegramBotProxyAuth",tip:"telegram\u4ee3\u7406\u914d\u7f6e\u8ba4\u8bc1\u53c2\u6570, \u7528\u6237\u540d\u4e0e\u5bc6\u7801\u7528\u82f1\u6587\u5192\u53f7\u8fde\u63a5 user:password"},{label:"telegramBotApiHost",tip:"telegram api\u81ea\u5efa\u7684\u53cd\u5411\u4ee3\u7406\u5730\u5740\uff0c\u9ed8\u8ba4tg\u5b98\u65b9api"}],dingtalkBot:[{label:"dingtalkBotToken",tip:"\u9489\u9489\u673a\u5668\u4ebawebhook token\uff0c\u4f8b\u5982\uff1a5a544165465465645d0f31dca676e7bd07415asdasd",required:!0},{label:"dingtalkBotSecret",tip:"\u5bc6\u94a5\uff0c\u673a\u5668\u4eba\u5b89\u5168\u8bbe\u7f6e\u9875\u9762\uff0c\u52a0\u7b7e\u4e00\u680f\u4e0b\u9762\u663e\u793a\u7684SEC\u5f00\u5934\u7684\u5b57\u7b26\u4e32"}],weWorkBot:[{label:"weWorkBotKey",tip:"\u4f01\u4e1a\u5fae\u4fe1\u673a\u5668\u4eba\u7684 webhook(\u8be6\u89c1\u6587\u6863 https://work.weixin.qq.com/api/doc/90000/90136/91770)\uff0c\u4f8b\u5982\uff1a693a91f6-7xxx-4bc4-97a0-0ec2sifa5aaa",required:!0}],weWorkApp:[{label:"weWorkAppKey",tip:"corpid,corpsecret,touser(\u6ce8:\u591a\u4e2a\u6210\u5458ID\u4f7f\u7528|\u9694\u5f00),agentid,\u6d88\u606f\u7c7b\u578b(\u9009\u586b,\u4e0d\u586b\u9ed8\u8ba4\u6587\u672c\u6d88\u606f\u7c7b\u578b) \u6ce8\u610f\u7528,\u53f7\u9694\u5f00(\u82f1\u6587\u8f93\u5165\u6cd5\u7684\u9017\u53f7)\uff0c\u4f8b\u5982\uff1awwcfrs,B-76WERQ,qinglong,1000001,2COat",required:!0}],iGot:[{label:"iGotPushKey",tip:"iGot\u7684\u4fe1\u606f\u63a8\u9001key\uff0c\u4f8b\u5982\uff1ahttps://push.hellyw.com/XXXXXXXX",required:!0}],pushPlus:[{label:"pushPlusToken",tip:"\u5fae\u4fe1\u626b\u7801\u767b\u5f55\u540e\u4e00\u5bf9\u4e00\u63a8\u9001\u6216\u4e00\u5bf9\u591a\u63a8\u9001\u4e0b\u9762\u7684token(\u60a8\u7684Token)\uff0c\u4e0d\u63d0\u4f9bPUSH_PLUS_USER\u5219\u9ed8\u8ba4\u4e3a\u4e00\u5bf9\u4e00\u63a8\u9001",required:!0},{label:"pushPlusUser",tip:"\u4e00\u5bf9\u591a\u63a8\u9001\u7684\u201c\u7fa4\u7ec4\u7f16\u7801\u201d\uff08\u4e00\u5bf9\u591a\u63a8\u9001\u4e0b\u9762->\u60a8\u7684\u7fa4\u7ec4(\u5982\u65e0\u5219\u65b0\u5efa)->\u7fa4\u7ec4\u7f16\u7801\uff0c\u5982\u679c\u60a8\u662f\u521b\u5efa\u7fa4\u7ec4\u4eba\u3002\u4e5f\u9700\u70b9\u51fb\u201c\u67e5\u770b\u4e8c\u7ef4\u7801\u201d\u626b\u63cf\u7ed1\u5b9a\uff0c\u5426\u5219\u4e0d\u80fd\u63a5\u53d7\u7fa4\u7ec4\u6d88\u606f\u63a8\u9001\uff09"}],email:[{label:"emailService",tip:"\u90ae\u7bb1\u670d\u52a1\u540d\u79f0\uff0c\u6bd4\u5982126\u3001163\u3001Gmail\u3001QQ\u7b49\uff0c\u652f\u6301\u5217\u8868https://nodemailer.com/smtp/well-known/",required:!0},{label:"emailUser",tip:"\u90ae\u7bb1\u5730\u5740",required:!0},{label:"emailPass",tip:"\u90ae\u7bb1SMTP\u6388\u6743\u7801",required:!0}]},documentTitleMap:{"/login":"\u767b\u5f55","/initialization":"\u521d\u59cb\u5316","/cron":"\u5b9a\u65f6\u4efb\u52a1","/env":"\u73af\u5883\u53d8\u91cf","/config":"\u914d\u7f6e\u6587\u4ef6","/script":"\u811a\u672c\u7ba1\u7406","/diff":"\u5bf9\u6bd4\u5de5\u5177","/log":"\u4efb\u52a1\u65e5\u5fd7","/setting":"\u7cfb\u7edf\u8bbe\u7f6e"},dependenceTypes:["nodejs","python3","linux"]}},T7W1:function(e,t,n){"use strict";var r=n("VTBJ"),o=n("cDcd"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},a=i,l=n("/1Lp"),c=function(e,t){return o["createElement"](l["a"],Object(r["a"])(Object(r["a"])({},e),{},{ref:t,icon:a}))};c.displayName="CheckOutlined";t["a"]=o["forwardRef"](c)},Tckk:function(e,t,n){"use strict";var r=n("wx14"),o=n("rePB"),i=n("U8pU"),a=n("ODXe"),l=n("cDcd"),c=n("TSYQ"),s=n.n(c),u=n("t23M"),d=n("Twdv"),f=n("H84U"),p=n("uaoM"),h=n("ACnJ"),v=n("5OYt"),g=l["createContext"]("default"),m=function(e){var t=e.children,n=e.size;return l["createElement"](g.Consumer,null,(function(e){return l["createElement"](g.Provider,{value:n||e},t)}))},y=g,b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},w=function(e,t){var n,c,g=l["useContext"](y),m=l["useState"](1),w=Object(a["a"])(m,2),O=w[0],x=w[1],C=l["useState"](!1),k=Object(a["a"])(C,2),S=k[0],E=k[1],j=l["useState"](!0),N=Object(a["a"])(j,2),T=N[0],M=N[1],L=l["useRef"](),D=l["useRef"](),P=Object(d["a"])(t,L),R=l["useContext"](f["b"]),A=R.getPrefixCls,I=function(){if(D.current&&L.current){var t=D.current.offsetWidth,n=L.current.offsetWidth;if(0!==t&&0!==n){var r=e.gap,o=void 0===r?4:r;2*o<n&&x(n-2*o<t?(n-2*o)/t:1)}}};l["useEffect"]((function(){E(!0)}),[]),l["useEffect"]((function(){M(!0),x(1)}),[e.src]),l["useEffect"]((function(){I()}),[e.gap]);var K=function(){var t=e.onError,n=t?t():void 0;!1!==n&&M(!1)},H=e.prefixCls,W=e.shape,F=e.size,B=e.src,z=e.srcSet,V=e.icon,U=e.className,_=e.alt,G=e.draggable,q=e.children,Y=e.crossOrigin,X=b(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),Q="default"===F?g:F,$=Object(v["a"])(),Z=l["useMemo"]((function(){if("object"!==Object(i["a"])(Q))return{};var e=h["b"].find((function(e){return $[e]})),t=Q[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:V?t/2:18}:{}}),[$,Q]);Object(p["a"])(!("string"===typeof V&&V.length>2),"Avatar","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(V,"` at https://ant.design/components/icon"));var J,ee=A("avatar",H),te=s()((n={},Object(o["a"])(n,"".concat(ee,"-lg"),"large"===Q),Object(o["a"])(n,"".concat(ee,"-sm"),"small"===Q),n)),ne=l["isValidElement"](B),re=s()(ee,te,(c={},Object(o["a"])(c,"".concat(ee,"-").concat(W),!!W),Object(o["a"])(c,"".concat(ee,"-image"),ne||B&&T),Object(o["a"])(c,"".concat(ee,"-icon"),!!V),c),U),oe="number"===typeof Q?{width:Q,height:Q,lineHeight:"".concat(Q,"px"),fontSize:V?Q/2:18}:{};if("string"===typeof B&&T)J=l["createElement"]("img",{src:B,draggable:G,srcSet:z,onError:K,alt:_,crossOrigin:Y});else if(ne)J=B;else if(V)J=V;else if(S||1!==O){var ie="scale(".concat(O,") translateX(-50%)"),ae={msTransform:ie,WebkitTransform:ie,transform:ie},le="number"===typeof Q?{lineHeight:"".concat(Q,"px")}:{};J=l["createElement"](u["a"],{onResize:I},l["createElement"]("span",{className:"".concat(ee,"-string"),ref:function(e){D.current=e},style:Object(r["a"])(Object(r["a"])({},le),ae)},q))}else J=l["createElement"]("span",{className:"".concat(ee,"-string"),style:{opacity:0},ref:function(e){D.current=e}},q);return delete X.onError,delete X.gap,l["createElement"]("span",Object(r["a"])({},X,{style:Object(r["a"])(Object(r["a"])(Object(r["a"])({},oe),Z),X.style),className:re,ref:P}),J)},O=l["forwardRef"](w);O.displayName="Avatar",O.defaultProps={shape:"circle",size:"default"};var x=O,C=n("axMd"),k=n("0n0R"),S=n("diRs"),E=function(e){var t=l["useContext"](f["b"]),n=t.getPrefixCls,r=t.direction,i=e.prefixCls,a=e.className,c=void 0===a?"":a,u=e.maxCount,d=e.maxStyle,p=e.size,h=n("avatar-group",i),v=s()(h,Object(o["a"])({},"".concat(h,"-rtl"),"rtl"===r),c),g=e.children,y=e.maxPopoverPlacement,b=void 0===y?"top":y,w=Object(C["a"])(g).map((function(e,t){return Object(k["a"])(e,{key:"avatar-key-".concat(t)})})),O=w.length;if(u&&u<O){var E=w.slice(0,u),j=w.slice(u,O);return E.push(l["createElement"](S["a"],{key:"avatar-popover-key",content:j,trigger:"hover",placement:b,overlayClassName:"".concat(h,"-popover")},l["createElement"](x,{style:d},"+".concat(O-u)))),l["createElement"](m,{size:p},l["createElement"]("div",{className:v,style:e.style},E))}return l["createElement"](m,{size:p},l["createElement"]("div",{className:v,style:e.style},w))},j=E,N=x;N.Group=j;t["a"]=N},Telt:function(e,t,n){"use strict";n("EFp3"),n("ifDB"),n("Q9mQ")},UADf:function(e,t,n){},"VrN/":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),a=r||o||i,l=a&&(r?document.documentMode||6:+(i||o)[1]),c=!i&&/WebKit\//.test(e),s=c&&/Qt\/\d+\.\d+/.test(e),u=!i&&/Chrome\//.test(e),d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),v=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),g=/Android/.test(e),m=v||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=v||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),O=d&&e.match(/Version\/(\d*\.\d*)/);O&&(O=Number(O[1])),O&&O>=15&&(d=!1,c=!0);var x=y&&(s||d&&(null==O||O<12.11)),C=n||a&&l>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,E=function(e,t){var n=e.className,r=k(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function j(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function N(e,t){return j(e).appendChild(t)}function T(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function M(e,t,n,r){var o=T(e,t,n,r);return o.setAttribute("role","presentation"),o}function L(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function D(){var e;try{e=document.activeElement}catch(t){e=document.body||null}while(e&&e.shadowRoot&&e.shadowRoot.activeElement)e=e.shadowRoot.activeElement;return e}function P(e,t){var n=e.className;k(t).test(n)||(e.className+=(n?" ":"")+t)}function R(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!k(n[r]).test(t)&&(t+=" "+n[r]);return t}S=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(o){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var A=function(e){e.select()};function I(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function K(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function H(e,t,n,r,o){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var i=r||0,a=o||0;;){var l=e.indexOf("\t",i);if(l<0||l>=t)return a+(t-i);a+=l-i,a+=n-a%n,i=l+1}}v?A=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(A=function(e){try{e.select()}catch(t){}});var W=function(){this.id=null,this.f=null,this.time=0,this.handler=I(this.onTimeout,this)};function F(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}W.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},W.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var B=50,z={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},U={origin:"*mouse"},_={origin:"+move"};function G(e,t,n){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var a=i-r;if(i==e.length||o+a>=t)return r+Math.min(a,t-o);if(o+=i-r,o+=n-o%n,r=i+1,o>=t)return r}}var q=[""];function Y(e){while(q.length<=e)q.push(X(q)+" ");return q[e]}function X(e){return e[e.length-1]}function Q(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function $(e,t,n){var r=0,o=n(t);while(r<e.length&&n(e[r])<=o)r++;e.splice(r,0,t)}function Z(){}function J(e,t){var n;return Object.create?n=Object.create(e):(Z.prototype=e,n=new Z),t&&K(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&oe.test(e)}function ae(e,t,n){while((n<0?t>0:t<e.length)&&ie(e.charAt(t)))t+=n;return t}function le(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,i=r<0?Math.ceil(o):Math.floor(o);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+r}}function ce(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",i),o=!0)}o||r(t,n,"ltr")}var se=null;function ue(e,t,n){var r;se=null;for(var o=0;o<e.length;++o){var i=e[o];if(i.from<t&&i.to>t)return o;i.to==t&&(i.from!=i.to&&"before"==n?r=o:se=o),i.from==t&&(i.from!=i.to&&"before"!=n?r=o:se=o)}return null!=r?r:se}var de=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,i=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;function c(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var s="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var u=e.length,d=[],f=0;f<u;++f)d.push(n(e.charCodeAt(f)));for(var p=0,h=s;p<u;++p){var v=d[p];"m"==v?d[p]=h:h=v}for(var g=0,m=s;g<u;++g){var y=d[g];"1"==y&&"r"==m?d[g]="n":i.test(y)&&(m=y,"r"==y&&(d[g]="R"))}for(var b=1,w=d[0];b<u-1;++b){var O=d[b];"+"==O&&"1"==w&&"1"==d[b+1]?d[b]="1":","!=O||w!=d[b+1]||"1"!=w&&"n"!=w||(d[b]=w),w=O}for(var x=0;x<u;++x){var C=d[x];if(","==C)d[x]="N";else if("%"==C){var k=void 0;for(k=x+1;k<u&&"%"==d[k];++k);for(var S=x&&"!"==d[x-1]||k<u&&"1"==d[k]?"1":"N",E=x;E<k;++E)d[E]=S;x=k-1}}for(var j=0,N=s;j<u;++j){var T=d[j];"L"==N&&"1"==T?d[j]="L":i.test(T)&&(N=T)}for(var M=0;M<u;++M)if(o.test(d[M])){var L=void 0;for(L=M+1;L<u&&o.test(d[L]);++L);for(var D="L"==(M?d[M-1]:s),P="L"==(L<u?d[L]:s),R=D==P?D?"L":"R":s,A=M;A<L;++A)d[A]=R;M=L-1}for(var I,K=[],H=0;H<u;)if(a.test(d[H])){var W=H;for(++H;H<u&&a.test(d[H]);++H);K.push(new c(0,W,H))}else{var F=H,B=K.length,z="rtl"==t?1:0;for(++H;H<u&&"L"!=d[H];++H);for(var V=F;V<H;)if(l.test(d[V])){F<V&&(K.splice(B,0,new c(1,F,V)),B+=z);var U=V;for(++V;V<H&&l.test(d[V]);++V);K.splice(B,0,new c(2,U,V)),B+=z,F=V}else++V;F<H&&K.splice(B,0,new c(1,F,H))}return"ltr"==t&&(1==K[0].level&&(I=e.match(/^\s+/))&&(K[0].from=I[0].length,K.unshift(new c(0,0,I[0].length))),1==X(K).level&&(I=e.match(/\s+$/))&&(X(K).to-=I[0].length,K.push(new c(0,u-I[0].length,u)))),"rtl"==t?K.reverse():K}}();function fe(e,t){var n=e.order;return null==n&&(n=e.order=de(e.text,t)),n}var pe=[],he=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||pe).concat(n)}};function ve(e,t){return e._handlers&&e._handlers[t]||pe}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var i=F(o,n);i>-1&&(r[t]=o.slice(0,i).concat(o.slice(i+1)))}}}function me(e,t){var n=ve(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function ye(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),me(e,n||t.type,e,t),ke(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==F(n,t[r])&&n.push(t[r])}function we(e,t){return ve(e,t).length>0}function Oe(e){e.prototype.on=function(e,t){he(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function xe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ce(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ke(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Se(e){xe(e),Ce(e)}function Ee(e){return e.target||e.srcElement}function je(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Ne,Te,Me=function(){if(a&&l<9)return!1;var e=T("div");return"draggable"in e||"dragDrop"in e}();function Le(e){if(null==Ne){var t=T("span","\u200b");N(e,T("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ne=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&l<8))}var n=Ne?T("span","\u200b"):T("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function De(e){if(null!=Te)return Te;var t=N(e,document.createTextNode("A\u062eA")),n=S(t,0,1).getBoundingClientRect(),r=S(t,1,2).getBoundingClientRect();return j(e),!(!n||n.left==n.right)&&(Te=r.right-n.right<3)}var Pe=3!="\n\nb".split(/\n/).length?function(e){var t=0,n=[],r=e.length;while(t<=r){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),t+=a+1):(n.push(i),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Re=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ae=function(){var e=T("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ie=null;function Ke(e){if(null!=Ie)return Ie;var t=N(e,T("span","x")),n=t.getBoundingClientRect(),r=S(t,0,1).getBoundingClientRect();return Ie=Math.abs(n.left-r.left)>1}var He={},We={};function Fe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),He[e]=t}function Be(e,t){We[e]=t}function ze(e){if("string"==typeof e&&We.hasOwnProperty(e))e=We[e];else if(e&&"string"==typeof e.name&&We.hasOwnProperty(e.name)){var t=We[e.name];"string"==typeof t&&(t={name:t}),e=J(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return ze("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return ze("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=ze(t);var n=He[t.name];if(!n)return Ve(e,"text/plain");var r=n(e,t);if(Ue.hasOwnProperty(t.name)){var o=Ue[t.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Ue={};function _e(e,t){var n=Ue.hasOwnProperty(e)?Ue[e]:Ue[e]={};K(t,n)}function Ge(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function qe(e,t){var n;while(e.innerMode){if(n=e.innerMode(t),!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var Xe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Qe(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");var n=e;while(!n.lines)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(t<i){n=o;break}t-=i}return n.lines[t]}function $e(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,(function(e){var i=e.text;o==n.line&&(i=i.slice(0,n.ch)),o==t.line&&(i=i.slice(t.ch)),r.push(i),++o})),r}function Ze(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Je(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function et(e){if(null==e.parent)return null;for(var t=e.parent,n=F(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;;++o){if(r.children[o]==t)break;n+=r.children[o].chunkSize()}return n+t.first}function tt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(t<i){e=o;continue e}t-=i,n+=o.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var l=e.lines[a],c=l.height;if(t<c)break;t-=c}return n+a}function nt(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ot(e,t,n){if(void 0===n&&(n=null),!(this instanceof ot))return new ot(e,t,n);this.line=e,this.ch=t,this.sticky=n}function it(e,t){return e.line-t.line||e.ch-t.ch}function at(e,t){return e.sticky==t.sticky&&0==it(e,t)}function lt(e){return ot(e.line,e.ch)}function ct(e,t){return it(e,t)<0?t:e}function st(e,t){return it(e,t)<0?e:t}function ut(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function dt(e,t){if(t.line<e.first)return ot(e.first,0);var n=e.first+e.size-1;return t.line>n?ot(n,Qe(e,n).text.length):ft(t,Qe(e,t.line).text.length)}function ft(e,t){var n=e.ch;return null==n||n>t?ot(e.line,t):n<0?ot(e.line,0):e}function pt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=dt(e,t[r]);return n}Xe.prototype.eol=function(){return this.pos>=this.string.length},Xe.prototype.sol=function(){return this.pos==this.lineStart},Xe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xe.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t)return++this.pos,n},Xe.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e));return this.pos>t},Xe.prototype.eatSpace=function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},Xe.prototype.skipToEnd=function(){this.pos=this.string.length},Xe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Xe.prototype.backUp=function(e){this.pos-=e},Xe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e},i=this.string.substr(this.pos,e.length);if(o(i)==o(e))return!1!==t&&(this.pos+=e.length),!0},Xe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Xe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Xe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ht=function(e,t){this.state=e,this.lookAhead=t},vt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function gt(e,t,n,r){var o=[e.state.modeGen],i={};St(e,t.text,e.doc.mode,n,(function(e,t){return o.push(e,t)}),i,r);for(var a=n.state,l=function(r){n.baseTokens=o;var l=e.state.overlays[r],c=1,s=0;n.state=!0,St(e,t.text,l.mode,n,(function(e,t){var n=c;while(s<e){var r=o[c];r>e&&o.splice(c,1,e,o[c+1],r),c+=2,s=Math.min(e,r)}if(t)if(l.opaque)o.splice(n,c-n,e,"overlay "+t),c=n+2;else for(;n<c;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"overlay "+t}}),i),n.state=a,n.baseTokens=null,n.baseTokenPos=1},c=0;c<e.state.overlays.length;++c)l(c);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function mt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=yt(e,et(t)),o=t.text.length>e.options.maxHighlightLength&&Ge(e.doc.mode,r.state),i=gt(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function yt(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new vt(r,!0,t);var i=Et(e,t,n),a=i>r.first&&Qe(r,i-1).stateAfter,l=a?vt.fromSaved(r,a,i):new vt(r,Ye(r.mode),i);return r.iter(i,t,(function(n){bt(e,n.text,l);var r=l.line;n.stateAfter=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?l.save():null,l.nextLine()})),n&&(r.modeFrontier=l.line),l}function bt(e,t,n,r){var o=e.doc.mode,i=new Xe(t,e.options.tabSize,n);i.start=i.pos=r||0,""==t&&wt(o,n.state);while(!i.eol())Ot(o,i,n.state),i.start=i.pos}function wt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=qe(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ot(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=qe(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}vt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},vt.prototype.baseToken=function(e){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=e)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},vt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vt.fromSaved=function(e,t,n){return t instanceof ht?new vt(e,Ge(e.mode,t.state),n,t.lookAhead):new vt(e,Ge(e.mode,t),n)},vt.prototype.save=function(e){var t=!1!==e?Ge(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ht(t,this.maxLookAhead):t};var xt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ct(e,t,n,r){var o,i=e.doc,a=i.mode;t=dt(i,t);var l,c=Qe(i,t.line),s=yt(e,t.line,n),u=new Xe(c.text,e.options.tabSize,s);r&&(l=[]);while((r||u.pos<t.ch)&&!u.eol())u.start=u.pos,o=Ot(a,u,s.state),r&&l.push(new xt(u,o,Ge(i.mode,s.state)));return r?l:new xt(u,o,s.state)}function kt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function St(e,t,n,r,o,i,a){var l=n.flattenSpans;null==l&&(l=e.options.flattenSpans);var c,s=0,u=null,d=new Xe(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];""==t&&kt(wt(n,r.state),i);while(!d.eol()){if(d.pos>e.options.maxHighlightLength?(l=!1,a&&bt(e,t,r,d.pos),d.pos=t.length,c=null):c=kt(Ot(n,d,r.state,f),i),f){var p=f[0].name;p&&(c="m-"+(c?p+" "+c:p))}if(!l||u!=c){while(s<d.start)s=Math.min(d.start,s+5e3),o(s,u);u=c}d.start=d.pos}while(s<d.pos){var h=Math.min(d.pos,s+5e3);o(h,u),s=h}}function Et(e,t,n){for(var r,o,i=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),l=t;l>a;--l){if(l<=i.first)return i.first;var c=Qe(i,l-1),s=c.stateAfter;if(s&&(!n||l+(s instanceof ht?s.lookAhead:0)<=i.modeFrontier))return l;var u=H(c.text,null,e.options.tabSize);(null==o||r>u)&&(o=l-1,r=u)}return o}function jt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=Qe(e,r).stateAfter;if(o&&(!(o instanceof ht)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Nt=!1,Tt=!1;function Mt(){Nt=!0}function Lt(){Tt=!0}function Dt(e,t,n){this.marker=e,this.from=t,this.to=n}function Pt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Rt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function At(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function It(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker,l=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);if(l||i.from==t&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var c=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push(new Dt(a,i.from,c?null:i.to))}}return r}function Kt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker,l=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);if(l||i.from==t&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var c=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push(new Dt(a,c?null:i.from-t,null==i.to?null:i.to-t))}}return r}function Ht(e,t){if(t.full)return null;var n=nt(e,t.from.line)&&Qe(e,t.from.line).markedSpans,r=nt(e,t.to.line)&&Qe(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,i=t.to.ch,a=0==it(t.from,t.to),l=It(n,o,a),c=Kt(r,i,a),s=1==t.text.length,u=X(t.text).length+(s?o:0);if(l)for(var d=0;d<l.length;++d){var f=l[d];if(null==f.to){var p=Pt(c,f.marker);p?s&&(f.to=null==p.to?null:p.to+u):f.to=o}}if(c)for(var h=0;h<c.length;++h){var v=c[h];if(null!=v.to&&(v.to+=u),null==v.from){var g=Pt(l,v.marker);g||(v.from=u,s&&(l||(l=[])).push(v))}else v.from+=u,s&&(l||(l=[])).push(v)}l&&(l=Wt(l)),c&&c!=l&&(c=Wt(c));var m=[l];if(!s){var y,b=t.text.length-2;if(b>0&&l)for(var w=0;w<l.length;++w)null==l[w].to&&(y||(y=[])).push(new Dt(l[w].marker,null,null));for(var O=0;O<b;++O)m.push(y);m.push(c)}return m}function Wt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ft(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=F(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var a=r[i],l=a.find(0),c=0;c<o.length;++c){var s=o[c];if(!(it(s.to,l.from)<0||it(s.from,l.to)>0)){var u=[c,1],d=it(s.from,l.from),f=it(s.to,l.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:s.from,to:l.from}),(f>0||!a.inclusiveRight&&!f)&&u.push({from:l.to,to:s.to}),o.splice.apply(o,u),c+=u.length-3}}return o}function Bt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function zt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Vt(e){return e.inclusiveLeft?-1:0}function Ut(e){return e.inclusiveRight?1:0}function _t(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),i=it(r.from,o.from)||Vt(e)-Vt(t);if(i)return-i;var a=it(r.to,o.to)||Ut(e)-Ut(t);return a||t.id-e.id}function Gt(e,t){var n,r=Tt&&e.markedSpans;if(r)for(var o=void 0,i=0;i<r.length;++i)o=r[i],o.marker.collapsed&&null==(t?o.from:o.to)&&(!n||_t(n,o.marker)<0)&&(n=o.marker);return n}function qt(e){return Gt(e,!0)}function Yt(e){return Gt(e,!1)}function Xt(e,t){var n,r=Tt&&e.markedSpans;if(r)for(var o=0;o<r.length;++o){var i=r[o];i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!n||_t(n,i.marker)<0)&&(n=i.marker)}return n}function Qt(e,t,n,r,o){var i=Qe(e,t),a=Tt&&i.markedSpans;if(a)for(var l=0;l<a.length;++l){var c=a[l];if(c.marker.collapsed){var s=c.marker.find(0),u=it(s.from,n)||Vt(c.marker)-Vt(o),d=it(s.to,r)||Ut(c.marker)-Ut(o);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(c.marker.inclusiveRight&&o.inclusiveLeft?it(s.to,n)>=0:it(s.to,n)>0)||u>=0&&(c.marker.inclusiveRight&&o.inclusiveLeft?it(s.from,r)<=0:it(s.from,r)<0)))return!0}}}function $t(e){var t;while(t=qt(e))e=t.find(-1,!0).line;return e}function Zt(e){var t;while(t=Yt(e))e=t.find(1,!0).line;return e}function Jt(e){var t,n;while(t=Yt(e))e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function en(e,t){var n=Qe(e,t),r=$t(n);return n==r?t:et(r)}function tn(e,t){if(t>e.lastLine())return t;var n,r=Qe(e,t);if(!nn(e,r))return t;while(n=Yt(r))r=n.find(1,!0).line;return et(r)+1}function nn(e,t){var n=Tt&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)if(r=n[o],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&rn(e,t,r))return!0}}function rn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return rn(e,r.line,Pt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,i=0;i<t.markedSpans.length;++i)if(o=t.markedSpans[i],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,o))return!0}function on(e){e=$t(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var i=n.parent;i;n=i,i=n.parent)for(var a=0;a<i.children.length;++a){var l=i.children[a];if(l==n)break;t+=l.height}return t}function an(e){if(0==e.height)return 0;var t,n=e.text.length,r=e;while(t=qt(r)){var o=t.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}r=e;while(t=Yt(r)){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function ln(e){var t=e.display,n=e.doc;t.maxLine=Qe(n,n.first),t.maxLineLength=an(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=an(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var cn=function(e,t,n){this.text=e,zt(this,t),this.height=n?n(this):1};function sn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Bt(e),zt(e,n);var o=r?r(e):1;o!=e.height&&Je(e,o)}function un(e){e.parent=null,Bt(e)}cn.prototype.lineNo=function(){return et(this)},Oe(cn);var dn={},fn={};function pn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?fn:dn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function hn(e,t){var n=M("span",null,null,c?"padding-right: .1px":null),r={pre:M("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var i=o?t.rest[o-1]:t.line,a=void 0;r.pos=0,r.addToken=gn,De(e.display.measure)&&(a=fe(i,e.doc.direction))&&(r.addToken=yn(r.addToken,a)),r.map=[];var l=t!=e.display.externalMeasured&&et(i);wn(i,r,mt(e,i,l)),i.styleClasses&&(i.styleClasses.bgClass&&(r.bgClass=R(i.styleClasses.bgClass,r.bgClass||"")),i.styleClasses.textClass&&(r.textClass=R(i.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Le(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(c){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return me(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=R(r.pre.className,r.textClass||"")),r}function vn(e){var t=T("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function gn(e,t,n,r,o,i,c){if(t){var s,u=e.splitSpaces?mn(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){s=document.createDocumentFragment();var p=0;while(1){d.lastIndex=p;var h=d.exec(t),v=h?h.index-p:t.length-p;if(v){var g=document.createTextNode(u.slice(p,p+v));a&&l<9?s.appendChild(T("span",[g])):s.appendChild(g),e.map.push(e.pos,e.pos+v,g),e.col+=v,e.pos+=v}if(!h)break;p+=v+1;var m=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;m=s.appendChild(T("span",Y(b),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?(m=s.appendChild(T("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar")),m.setAttribute("cm-text",h[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(h[0]),m.setAttribute("cm-text",h[0]),a&&l<9?s.appendChild(T("span",[m])):s.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,s=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,s),a&&l<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||o||f||i||c){var w=n||"";r&&(w+=r),o&&(w+=o);var O=T("span",[s],w,i);if(c)for(var x in c)c.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&O.setAttribute(x,c[x]);return e.content.appendChild(O)}e.content.appendChild(s)}}function mn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var i=e.charAt(o);" "!=i||!n||o!=e.length-1&&32!=e.charCodeAt(o+1)||(i="\xa0"),r+=i,n=" "==i}return r}function yn(e,t){return function(n,r,o,i,a,l,c){o=o?o+" cm-force-border":"cm-force-border";for(var s=n.pos,u=s+r.length;;){for(var d=void 0,f=0;f<t.length;f++)if(d=t[f],d.to>s&&d.from<=s)break;if(d.to>=u)return e(n,r,o,i,a,l,c);e(n,r.slice(0,d.to-s),o,i,null,l,c),i=null,r=r.slice(d.to-s),s=d.to}}}function bn(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function wn(e,t,n){var r=e.markedSpans,o=e.text,i=0;if(r)for(var a,l,c,s,u,d,f,p=o.length,h=0,v=1,g="",m=0;;){if(m==h){c=s=u=l="",f=null,d=null,m=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var O=r[w],x=O.marker;if("bookmark"==x.type&&O.from==h&&x.widgetNode)y.push(x);else if(O.from<=h&&(null==O.to||O.to>h||x.collapsed&&O.to==h&&O.from==h)){if(null!=O.to&&O.to!=h&&m>O.to&&(m=O.to,s=""),x.className&&(c+=" "+x.className),x.css&&(l=(l?l+";":"")+x.css),x.startStyle&&O.from==h&&(u+=" "+x.startStyle),x.endStyle&&O.to==m&&(b||(b=[])).push(x.endStyle,O.to),x.title&&((f||(f={})).title=x.title),x.attributes)for(var C in x.attributes)(f||(f={}))[C]=x.attributes[C];x.collapsed&&(!d||_t(d.marker,x)<0)&&(d=O)}else O.from>h&&m>O.from&&(m=O.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==m&&(s+=" "+b[k]);if(!d||d.from==h)for(var S=0;S<y.length;++S)bn(t,0,y[S]);if(d&&(d.from||0)==h){if(bn(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;var E=Math.min(p,m);while(1){if(g){var j=h+g.length;if(!d){var N=j>E?g.slice(0,E-h):g;t.addToken(t,N,a?a+c:c,u,h+N.length==m?s:"",l,f)}if(j>=E){g=g.slice(E-h),h=E;break}h=j,u=""}g=o.slice(i,i=n[v++]),a=pn(n[v++],t.cm.options)}}else for(var T=1;T<n.length;T+=2)t.addToken(t,o.slice(i,i=n[T]),pn(n[T+1],t.cm.options))}function On(e,t,n){this.line=t,this.rest=Jt(t),this.size=this.rest?et(X(this.rest))-n+1:1,this.node=this.text=null,this.hidden=nn(e,t)}function xn(e,t,n){for(var r,o=[],i=t;i<n;i=r){var a=new On(e.doc,Qe(e.doc,i),i);r=i+a.size,o.push(a)}return o}var Cn=null;function kn(e){Cn?Cn.ops.push(e):e.ownsGroup=Cn={ops:[e],delayedCallbacks:[]}}function Sn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)while(o.cursorActivityCalled<o.cursorActivityHandlers.length)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function En(e,t){var n=e.ownsGroup;if(n)try{Sn(n)}finally{Cn=null,t(n)}}var jn=null;function Nn(e,t){var n=ve(e,t);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);Cn?r=Cn.delayedCallbacks:jn?r=jn:(r=jn=[],setTimeout(Tn,0));for(var i=function(e){r.push((function(){return n[e].apply(null,o)}))},a=0;a<n.length;++a)i(a)}}function Tn(){var e=jn;jn=null;for(var t=0;t<e.length;++t)e[t]()}function Mn(e,t,n,r){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?Rn(e,t):"gutter"==i?In(e,t,n,r):"class"==i?An(e,t):"widget"==i&&Kn(e,t,r)}t.changes=null}function Ln(e){return e.node==e.text&&(e.node=T("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&l<8&&(e.node.style.zIndex=2)),e.node}function Dn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Ln(t);t.background=r.insertBefore(T("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Pn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):hn(e,t)}function Rn(e,t){var n=t.text.className,r=Pn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,An(e,t)):n&&(t.text.className=n)}function An(e,t){Dn(e,t),t.line.wrapClass?Ln(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function In(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Ln(t);t.gutterBackground=T("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=Ln(t),l=t.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(l.setAttribute("aria-hidden","true"),e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(T("div",rt(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var c=0;c<e.display.gutterSpecs.length;++c){var s=e.display.gutterSpecs[c].className,u=i.hasOwnProperty(s)&&i[s];u&&l.appendChild(T("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[s]+"px; width: "+r.gutterWidth[s]+"px"))}}}function Kn(e,t,n){t.alignable&&(t.alignable=null);for(var r=k("CodeMirror-linewidget"),o=t.node.firstChild,i=void 0;o;o=i)i=o.nextSibling,r.test(o.className)&&t.node.removeChild(o);Wn(e,t,n)}function Hn(e,t,n,r){var o=Pn(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),An(e,t),In(e,t,n,r),Wn(e,t,r),t.node}function Wn(e,t,n){if(Fn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Fn(e,t.rest[r],t,n,!1)}function Fn(e,t,n,r,o){if(t.widgets)for(var i=Ln(n),a=0,l=t.widgets;a<l.length;++a){var c=l[a],s=T("div",[c.node],"CodeMirror-linewidget"+(c.className?" "+c.className:""));c.handleMouseEvents||s.setAttribute("cm-ignore-events","true"),Bn(c,s,n,r),e.display.input.setUneditable(s),o&&c.above?i.insertBefore(s,n.gutter||n.text):i.appendChild(s),Nn(c,"redraw")}}function Bn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function zn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!L(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),N(t.display.measure,T("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Vn(e,t){for(var n=Ee(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Un(e){return e.lineSpace.offsetTop}function _n(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Gn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=N(e.measure,T("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function qn(e){return B-e.display.nativeBarWidth}function Yn(e){return e.display.scroller.clientWidth-qn(e)-e.display.barWidth}function Xn(e){return e.display.scroller.clientHeight-qn(e)-e.display.barHeight}function Qn(e,t,n){var r=e.options.lineWrapping,o=r&&Yn(e);if(!t.measure.heights||r&&t.measure.width!=o){var i=t.measure.heights=[];if(r){t.measure.width=o;for(var a=t.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var c=a[l],s=a[l+1];Math.abs(c.bottom-s.bottom)>2&&i.push((c.bottom+s.top)/2-n.top)}}i.push(n.bottom-n.top)}}function $n(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(et(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Zn(e,t){t=$t(t);var n=et(t),r=e.display.externalMeasured=new On(e.doc,t,n);r.lineN=n;var o=r.built=hn(e,r);return r.text=o.pre,N(e.display.lineMeasure,o.pre),r}function Jn(e,t,n,r){return nr(e,tr(e,t),n,r)}function er(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ar(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function tr(e,t){var n=et(t),r=er(e,n);r&&!r.text?r=null:r&&r.changes&&(Mn(e,r,n,Mr(e)),e.curOp.forceUpdate=!0),r||(r=Zn(e,t));var o=$n(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function nr(e,t,n,r,o){t.before&&(n=-1);var i,a=n+(r||"");return t.cache.hasOwnProperty(a)?i=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Qn(e,t.view,t.rect),t.hasHeights=!0),i=lr(e,t,n,r),i.bogus||(t.cache[a]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var rr,or={left:0,right:0,top:0,bottom:0};function ir(e,t,n){for(var r,o,i,a,l,c,s=0;s<e.length;s+=3)if(l=e[s],c=e[s+1],t<l?(o=0,i=1,a="left"):t<c?(o=t-l,i=o+1):(s==e.length-3||t==c&&e[s+3]>t)&&(i=c-l,o=i-1,t>=c&&(a="right")),null!=o){if(r=e[s+2],l==c&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==o)while(s&&e[s-2]==e[s-3]&&e[s-1].insertLeft)r=e[2+(s-=3)],a="left";if("right"==n&&o==c-l)while(s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft)r=e[(s+=3)+2],a="right";break}return{node:r,start:o,end:i,collapse:a,coverStart:l,coverEnd:c}}function ar(e,t){var n=or;if("left"==t){for(var r=0;r<e.length;r++)if((n=e[r]).left!=n.right)break}else for(var o=e.length-1;o>=0;o--)if((n=e[o]).left!=n.right)break;return n}function lr(e,t,n,r){var o,i=ir(t.map,n,r),c=i.node,s=i.start,u=i.end,d=i.collapse;if(3==c.nodeType){for(var f=0;f<4;f++){while(s&&ie(t.line.text.charAt(i.coverStart+s)))--s;while(i.coverStart+u<i.coverEnd&&ie(t.line.text.charAt(i.coverStart+u)))++u;if(o=a&&l<9&&0==s&&u==i.coverEnd-i.coverStart?c.parentNode.getBoundingClientRect():ar(S(c,s,u).getClientRects(),r),o.left||o.right||0==s)break;u=s,s-=1,d="right"}a&&l<11&&(o=cr(e.display.measure,o))}else{var p;s>0&&(d=r="right"),o=e.options.lineWrapping&&(p=c.getClientRects()).length>1?p["right"==r?p.length-1:0]:c.getBoundingClientRect()}if(a&&l<9&&!s&&(!o||!o.left&&!o.right)){var h=c.parentNode.getClientRects()[0];o=h?{left:h.left,right:h.left+Tr(e.display),top:h.top,bottom:h.bottom}:or}for(var v=o.top-t.rect.top,g=o.bottom-t.rect.top,m=(v+g)/2,y=t.view.measure.heights,b=0;b<y.length-1;b++)if(m<y[b])break;var w=b?y[b-1]:0,O=y[b],x={left:("right"==d?o.right:o.left)-t.rect.left,right:("left"==d?o.left:o.right)-t.rect.left,top:w,bottom:O};return o.left||o.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=v,x.rbottom=g),x}function cr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ke(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function sr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ur(e){e.display.externalMeasure=null,j(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)sr(e.display.view[t])}function dr(e){ur(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fr(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pr(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function hr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=zn(e.widgets[n]));return t}function vr(e,t,n,r,o){if(!o){var i=hr(t);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var a=on(t);if("local"==r?a+=Un(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==r?0:pr());var c=l.left+("window"==r?0:fr());n.left+=c,n.right+=c}return n.top+=a,n.bottom+=a,n}function gr(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=fr(),o-=pr();else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function mr(e,t,n,r,o){return r||(r=Qe(e.doc,t.line)),vr(e,r,Jn(e,r,t.ch,o),n)}function yr(e,t,n,r,o,i){function a(t,a){var l=nr(e,o,t,a?"right":"left",i);return a?l.left=l.right:l.right=l.left,vr(e,r,l,n)}r=r||Qe(e.doc,t.line),o||(o=tr(e,r));var l=fe(r,e.doc.direction),c=t.ch,s=t.sticky;if(c>=r.text.length?(c=r.text.length,s="before"):c<=0&&(c=0,s="after"),!l)return a("before"==s?c-1:c,"before"==s);function u(e,t,n){var r=l[t],o=1==r.level;return a(n?e-1:e,o!=n)}var d=ue(l,c,s),f=se,p=u(c,d,"before"==s);return null!=f&&(p.other=u(c,f,"before"!=s)),p}function br(e,t){var n=0;t=dt(e.doc,t),e.options.lineWrapping||(n=Tr(e.display)*t.ch);var r=Qe(e.doc,t.line),o=on(r)+Un(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function wr(e,t,n,r,o){var i=ot(e,t,n);return i.xRel=o,r&&(i.outside=r),i}function Or(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return wr(r.first,0,null,-1,-1);var o=tt(r,n),i=r.first+r.size-1;if(o>i)return wr(r.first+r.size-1,Qe(r,i).text.length,null,1,1);t<0&&(t=0);for(var a=Qe(r,o);;){var l=Sr(e,a,o,t,n),c=Xt(a,l.ch+(l.xRel>0||l.outside>0?1:0));if(!c)return l;var s=c.find(1);if(s.line==o)return s;a=Qe(r,o=s.line)}}function xr(e,t,n,r){r-=hr(t);var o=t.text.length,i=le((function(t){return nr(e,n,t-1).bottom<=r}),o,0);return o=le((function(t){return nr(e,n,t).top>r}),i,o),{begin:i,end:o}}function Cr(e,t,n,r){n||(n=tr(e,t));var o=vr(e,t,nr(e,n,r),"line").top;return xr(e,t,n,o)}function kr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Sr(e,t,n,r,o){o-=on(t);var i=tr(e,t),a=hr(t),l=0,c=t.text.length,s=!0,u=fe(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?jr:Er)(e,t,n,i,u,r,o);s=1!=d.level,l=s?d.from:d.to-1,c=s?d.to:d.from-1}var f,p,h=null,v=null,g=le((function(t){var n=nr(e,i,t);return n.top+=a,n.bottom+=a,!!kr(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(h=t,v=n),!0)}),l,c),m=!1;if(v){var y=r-v.left<v.right-r,b=y==s;g=h+(b?0:1),p=b?"after":"before",f=y?v.left:v.right}else{s||g!=c&&g!=l||g++,p=0==g?"after":g==t.text.length?"before":nr(e,i,g-(s?1:0)).bottom+a<=o==s?"after":"before";var w=yr(e,ot(n,g,p),"line",t,i);f=w.left,m=o<w.top?-1:o>=w.bottom?1:0}return g=ae(t.text,g,1),wr(n,g,p,m,r-f)}function Er(e,t,n,r,o,i,a){var l=le((function(l){var c=o[l],s=1!=c.level;return kr(yr(e,ot(n,s?c.to:c.from,s?"before":"after"),"line",t,r),i,a,!0)}),0,o.length-1),c=o[l];if(l>0){var s=1!=c.level,u=yr(e,ot(n,s?c.from:c.to,s?"after":"before"),"line",t,r);kr(u,i,a,!0)&&u.top>a&&(c=o[l-1])}return c}function jr(e,t,n,r,o,i,a){var l=xr(e,t,r,a),c=l.begin,s=l.end;/\s/.test(t.text.charAt(s-1))&&s--;for(var u=null,d=null,f=0;f<o.length;f++){var p=o[f];if(!(p.from>=s||p.to<=c)){var h=1!=p.level,v=nr(e,r,h?Math.min(s,p.to)-1:Math.max(c,p.from)).right,g=v<i?i-v+1e9:v-i;(!u||d>g)&&(u=p,d=g)}}return u||(u=o[o.length-1]),u.from<c&&(u={from:c,to:u.to,level:u.level}),u.to>s&&(u={from:u.from,to:s,level:u.level}),u}function Nr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==rr){rr=T("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)rr.appendChild(document.createTextNode("x")),rr.appendChild(T("br"));rr.appendChild(document.createTextNode("x"))}N(e.measure,rr);var n=rr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),j(e.measure),n||1}function Tr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=T("span","xxxxxxxxxx"),n=T("pre",[t],"CodeMirror-line-like");N(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function Mr(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var l=e.display.gutterSpecs[a].className;n[l]=i.offsetLeft+i.clientLeft+o,r[l]=i.clientWidth}return{fixedPos:Lr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Lr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Dr(e){var t=Nr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Tr(e.display)-3);return function(o){if(nn(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return n?i+(Math.ceil(o.text.length/r)||1)*t:i+t}}function Pr(e){var t=e.doc,n=Dr(e);t.iter((function(e){var t=n(e);t!=e.height&&Je(e,t)}))}function Rr(e,t,n,r){var o=e.display;if(!n&&"true"==Ee(t).getAttribute("cm-not-content"))return null;var i,a,l=o.lineSpace.getBoundingClientRect();try{i=t.clientX-l.left,a=t.clientY-l.top}catch(d){return null}var c,s=Or(e,i,a);if(r&&s.xRel>0&&(c=Qe(e.doc,s.line).text).length==s.ch){var u=H(c,c.length,e.options.tabSize)-c.length;s=ot(s.line,Math.max(0,Math.round((i-Gn(e.display).left)/Tr(e.display))-u))}return s}function Ar(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function Ir(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Tt&&en(e.doc,t)<o.viewTo&&Hr(e);else if(n<=o.viewFrom)Tt&&tn(e.doc,n+r)>o.viewFrom?Hr(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)Hr(e);else if(t<=o.viewFrom){var i=Wr(e,n,n+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):Hr(e)}else if(n>=o.viewTo){var a=Wr(e,t,t,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):Hr(e)}else{var l=Wr(e,t,t,-1),c=Wr(e,n,n+r,1);l&&c?(o.view=o.view.slice(0,l.index).concat(xn(e,l.lineN,c.lineN)).concat(o.view.slice(c.index)),o.viewTo+=r):Hr(e)}var s=o.externalMeasured;s&&(n<s.lineN?s.lineN+=r:t<s.lineN+s.size&&(o.externalMeasured=null))}function Kr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var i=r.view[Ar(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==F(a,n)&&a.push(n)}}}function Hr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Wr(e,t,n,r){var o,i=Ar(e,t),a=e.display.view;if(!Tt||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var l=e.display.viewFrom,c=0;c<i;c++)l+=a[c].size;if(l!=t){if(r>0){if(i==a.length-1)return null;o=l+a[i].size-t,i++}else o=l-t;t+=o,n+=o}while(en(e.doc,n)!=n){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function Fr(e,t,n){var r=e.display,o=r.view;0==o.length||t>=r.viewTo||n<=r.viewFrom?(r.view=xn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=xn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Ar(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(xn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Ar(e,n)))),r.viewTo=n}function Br(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];o.hidden||o.node&&!o.changes||++n}return n}function zr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Vr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var c=l.empty();(c||e.options.showCursorWhenSelecting)&&Ur(e,l.head,o),c||Gr(e,l,i)}}return r}function Ur(e,t,n){var r=yr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(T("div","\xa0","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var i=n.appendChild(T("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=r.other.left+"px",i.style.top=r.other.top+"px",i.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function _r(e,t){return e.top-t.top||e.left-t.left}function Gr(e,t,n){var r=e.display,o=e.doc,i=document.createDocumentFragment(),a=Gn(e.display),l=a.left,c=Math.max(r.sizerWidth,Yn(e)-r.sizer.offsetLeft)-a.right,s="ltr"==o.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),i.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?c-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var i,a,d=Qe(o,t),f=d.text.length;function p(n,r){return mr(e,ot(t,n),"div",d,r)}function h(t,n,r){var o=Cr(e,d,null,t),i="ltr"==n==("after"==r)?"left":"right",a="after"==r?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1);return p(a,i)[i]}var v=fe(d,o.direction);return ce(v,n||0,null==r?f:r,(function(e,t,o,d){var g="ltr"==o,m=p(e,g?"left":"right"),y=p(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==f,O=0==d,x=!v||d==v.length-1;if(y.top-m.top<=3){var C=(s?b:w)&&O,k=(s?w:b)&&x,S=C?l:(g?m:y).left,E=k?c:(g?y:m).right;u(S,m.top,E-S,m.bottom)}else{var j,N,T,M;g?(j=s&&b&&O?l:m.left,N=s?c:h(e,o,"before"),T=s?l:h(t,o,"after"),M=s&&w&&x?c:y.right):(j=s?h(e,o,"before"):l,N=!s&&b&&O?c:m.right,T=!s&&w&&x?l:y.left,M=s?h(t,o,"after"):c),u(j,m.top,N-j,m.bottom),m.bottom<y.top&&u(l,m.bottom,null,y.top),u(T,y.top,M-T,y.bottom)}(!i||_r(m,i)<0)&&(i=m),_r(y,i)<0&&(i=y),(!a||_r(m,a)<0)&&(a=m),_r(y,a)<0&&(a=y)})),{start:i,end:a}}var f=t.from(),p=t.to();if(f.line==p.line)d(f.line,f.ch,p.ch);else{var h=Qe(o,f.line),v=Qe(o,p.line),g=$t(h)==$t(v),m=d(f.line,f.ch,g?h.text.length+1:null).end,y=d(p.line,g?0:null,p.ch).start;g&&(m.top<y.top-2?(u(m.right,m.top,null,m.bottom),u(l,y.top,y.left,y.bottom)):u(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&u(l,m.bottom,null,y.top)}n.appendChild(i)}function qr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||$r(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Yr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Qr(e))}function Xr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&$r(e))}),100)}function Qr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(me(e,"focus",e,t),e.state.focused=!0,P(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),c&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),qr(e))}function $r(e,t){e.state.delayingBlurEvent||(e.state.focused&&(me(e,"blur",e,t),e.state.focused=!1,E(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Zr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var o=t.view[r],i=e.options.lineWrapping,c=void 0,s=0;if(!o.hidden){if(a&&l<8){var u=o.node.offsetTop+o.node.offsetHeight;c=u-n,n=u}else{var d=o.node.getBoundingClientRect();c=d.bottom-d.top,!i&&o.text.firstChild&&(s=o.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=o.line.height-c;if((f>.005||f<-.005)&&(Je(o.line,c),Jr(o.line),o.rest))for(var p=0;p<o.rest.length;p++)Jr(o.rest[p]);if(s>e.display.sizerWidth){var h=Math.ceil(s/Tr(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=o.line,e.display.maxLineChanged=!0)}}}}function Jr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function eo(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Un(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,i=tt(t,r),a=tt(t,o);if(n&&n.ensure){var l=n.ensure.from.line,c=n.ensure.to.line;l<i?(i=l,a=tt(t,on(Qe(t,l))+e.wrapper.clientHeight)):Math.min(c,t.lastLine())>=a&&(i=tt(t,on(Qe(t,c))-e.wrapper.clientHeight),a=c)}return{from:i,to:Math.max(a,i+1)}}function to(e,t){if(!ye(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null;if(t.top+r.top<0?o=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!h){var i=T("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Un(e.display))+"px;\n                         height: "+(t.bottom-t.top+qn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(i),i.scrollIntoView(o),e.display.lineSpace.removeChild(i)}}}function no(e,t,n,r){var o;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?ot(t.line,t.ch+1,"before"):t,t=t.ch?ot(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var i=0;i<5;i++){var a=!1,l=yr(e,t),c=n&&n!=t?yr(e,n):l;o={left:Math.min(l.left,c.left),top:Math.min(l.top,c.top)-r,right:Math.max(l.left,c.left),bottom:Math.max(l.bottom,c.bottom)+r};var s=oo(e,o),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=s.scrollTop&&(fo(e,s.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=s.scrollLeft&&(ho(e,s.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return o}function ro(e,t){var n=oo(e,t);null!=n.scrollTop&&fo(e,n.scrollTop),null!=n.scrollLeft&&ho(e,n.scrollLeft)}function oo(e,t){var n=e.display,r=Nr(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,i=Xn(e),a={};t.bottom-t.top>i&&(t.bottom=t.top+i);var l=e.doc.height+_n(n),c=t.top<r,s=t.bottom>l-r;if(t.top<o)a.scrollTop=c?0:t.top;else if(t.bottom>o+i){var u=Math.min(t.top,(s?l:t.bottom)-i);u!=o&&(a.scrollTop=u)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,p=Yn(e)-n.gutters.offsetWidth,h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left+d-(h?0:10)):t.right>p+f-3&&(a.scrollLeft=t.right+(h?0:10)-p),a}function io(e,t){null!=t&&(so(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ao(e){so(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function lo(e,t,n){null==t&&null==n||so(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function co(e,t){so(e),e.curOp.scrollToPos=t}function so(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=br(e,t.from),r=br(e,t.to);uo(e,n,r,t.margin)}}function uo(e,t,n,r){var o=oo(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});lo(e,o.scrollLeft,o.scrollTop)}function fo(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Vo(e,{top:t}),po(e,t,!0),n&&Vo(e),Ao(e,100))}function po(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function ho(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,qo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function vo(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+_n(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+qn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var go=function(e,t,n){this.cm=n;var r=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),he(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),he(o,"scroll",(function(){o.clientWidth&&t(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};go.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},go.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},go.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},go.prototype.zeroWidthHack=function(){var e=y&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new W,this.disableVert=new W},go.prototype.enableZeroWidthBar=function(e,t,n){function r(){var o=e.getBoundingClientRect(),i="vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1);i!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},go.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var mo=function(){};function yo(e,t){t||(t=vo(e));var n=e.display.barWidth,r=e.display.barHeight;bo(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&Zr(e),bo(e,vo(e)),n=e.display.barWidth,r=e.display.barHeight}function bo(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}mo.prototype.update=function(){return{bottom:0,right:0}},mo.prototype.setScrollLeft=function(){},mo.prototype.setScrollTop=function(){},mo.prototype.clear=function(){};var wo={native:go,null:mo};function Oo(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&E(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new wo[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),he(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?ho(e,t):fo(e,t)}),e),e.display.scrollbars.addClass&&P(e.display.wrapper,e.display.scrollbars.addClass)}var xo=0;function Co(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++xo,markArrays:null},kn(e.curOp)}function ko(e){var t=e.curOp;t&&En(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;So(e)}))}function So(e){for(var t=e.ops,n=0;n<t.length;n++)Eo(t[n]);for(var r=0;r<t.length;r++)jo(t[r]);for(var o=0;o<t.length;o++)No(t[o]);for(var i=0;i<t.length;i++)To(t[i]);for(var a=0;a<t.length;a++)Mo(t[a])}function Eo(e){var t=e.cm,n=t.display;Ho(t),e.updateMaxLine&&ln(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ko(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function jo(e){e.updatedDisplay=e.mustUpdate&&Bo(e.cm,e.update)}function No(e){var t=e.cm,n=t.display;e.updatedDisplay&&Zr(t),e.barMeasure=vo(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Jn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+qn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function To(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ho(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==D();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&yo(t,e.barMeasure),e.updatedDisplay&&Go(t,e.barMeasure),e.selectionChanged&&qr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Yr(e.cm)}function Mo(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&zo(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&po(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ho(t,e.scrollLeft,!0,!0),e.scrollToPos){var o=no(t,dt(r,e.scrollToPos.from),dt(r,e.scrollToPos.to),e.scrollToPos.margin);to(t,o)}var i=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(i)for(var l=0;l<i.length;++l)i[l].lines.length||me(i[l],"hide");if(a)for(var c=0;c<a.length;++c)a[c].lines.length&&me(a[c],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&me(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Lo(e,t){if(e.curOp)return t();Co(e);try{return t()}finally{ko(e)}}function Do(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Co(e);try{return t.apply(e,arguments)}finally{ko(e)}}}function Po(e){return function(){if(this.curOp)return e.apply(this,arguments);Co(this);try{return e.apply(this,arguments)}finally{ko(this)}}}function Ro(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Co(t);try{return e.apply(this,arguments)}finally{ko(t)}}}function Ao(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,I(Io,e))}function Io(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=yt(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(i){if(r.line>=e.display.viewFrom){var a=i.styles,l=i.text.length>e.options.maxHighlightLength?Ge(t.mode,r.state):null,c=gt(e,i,r,!0);l&&(r.state=l),i.styles=c.styles;var s=i.styleClasses,u=c.classes;u?i.styleClasses=u:s&&(i.styleClasses=null);for(var d=!a||a.length!=i.styles.length||s!=u&&(!s||!u||s.bgClass!=u.bgClass||s.textClass!=u.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=i.styles[f];d&&o.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=e.options.maxHighlightLength&&bt(e,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Ao(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&Lo(e,(function(){for(var t=0;t<o.length;t++)Kr(e,o[t],"text")}))}}var Ko=function(e,t,n){var r=e.display;this.viewport=t,this.visible=eo(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Yn(e),this.force=n,this.dims=Mr(e),this.events=[]};function Ho(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=qn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=qn(e)+"px",t.scrollbarsClipped=!0)}function Wo(e){if(e.hasFocus())return null;var t=D();if(!t||!L(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&L(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Fo(e){if(e&&e.activeElt&&e.activeElt!=D()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&L(document.body,e.anchorNode)&&L(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Bo(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Hr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Br(e))return!1;Yo(e)&&(Hr(e),t.dims=Mr(e));var o=r.first+r.size,i=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),Tt&&(i=en(e.doc,i),a=tn(e.doc,a));var l=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Fr(e,i,a),n.viewOffset=on(Qe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=Br(e);if(!l&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var s=Wo(e);return c>4&&(n.lineDiv.style.display="none"),Uo(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Fo(s),j(n.cursorDiv),j(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,l&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Ao(e,400)),n.updateLineNumbers=null,!0}function zo(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Yn(e))r&&(t.visible=eo(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+_n(e.display)-Xn(e),n.top)}),t.visible=eo(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Bo(e,t))break;Zr(e);var o=vo(e);zr(e),yo(e,o),Go(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Vo(e,t){var n=new Ko(e,t);if(Bo(e,n)){Zr(e),zo(e,n);var r=vo(e);zr(e),yo(e,r),Go(e,r),n.finish()}}function Uo(e,t,n){var r=e.display,o=e.options.lineNumbers,i=r.lineDiv,a=i.firstChild;function l(t){var n=t.nextSibling;return c&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var s=r.view,u=r.viewFrom,d=0;d<s.length;d++){var f=s[d];if(f.hidden);else if(f.node&&f.node.parentNode==i){while(a!=f.node)a=l(a);var p=o&&null!=t&&t<=u&&f.lineNumber;f.changes&&(F(f.changes,"gutter")>-1&&(p=!1),Mn(e,f,u,n)),p&&(j(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(rt(e.options,u)))),a=f.node.nextSibling}else{var h=Hn(e,f,u,n);i.insertBefore(h,a)}u+=f.size}while(a)a=l(a)}function _o(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Nn(e,"gutterChanged",e)}function Go(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+qn(e)+"px"}function qo(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Lr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=i),n[a].gutterBackground&&(n[a].gutterBackground.style.left=i));var l=n[a].alignable;if(l)for(var c=0;c<l.length;c++)l[c].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function Yo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=rt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(T("div",[T("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",_o(e.display),!0}return!1}function Xo(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var i=e[o],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!t)continue;r=!0}n.push({className:i,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Qo(e){var t=e.gutters,n=e.gutterSpecs;j(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],i=o.className,a=o.style,l=t.appendChild(T("div",null,"CodeMirror-gutter "+i));a&&(l.style.cssText=a),"CodeMirror-linenumbers"==i&&(e.lineGutter=l,l.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",_o(e)}function $o(e){Qo(e.display),Ir(e),qo(e)}function Zo(e,t,r,o){var i=this;this.input=r,i.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=M("div",null,"CodeMirror-code"),i.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=T("div",null,"CodeMirror-cursors"),i.measure=T("div",null,"CodeMirror-measure"),i.lineMeasure=T("div",null,"CodeMirror-measure"),i.lineSpace=M("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var s=M("div",[i.lineSpace],"CodeMirror-lines");i.mover=T("div",[s],null,"position: relative"),i.sizer=T("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=T("div",null,null,"position: absolute; height: "+B+"px; width: 1px;"),i.gutters=T("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=T("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=T("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&l<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),c||n&&m||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Xo(o.gutters,o.lineNumbers),Qo(i),r.init(i)}Ko.prototype.signal=function(e,t){we(e,t)&&this.events.push(arguments)},Ko.prototype.finish=function(){for(var e=0;e<this.events.length;e++)me.apply(null,this.events[e])};var Jo=0,ei=null;function ti(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function ni(e){var t=ti(e);return t.x*=ei,t.y*=ei,t}function ri(e,t){var r=ti(t),o=r.x,i=r.y,a=e.display,l=a.scroller,s=l.scrollWidth>l.clientWidth,u=l.scrollHeight>l.clientHeight;if(o&&s||i&&u){if(i&&y&&c)e:for(var f=t.target,p=a.view;f!=l;f=f.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==f){e.display.currentWheelTarget=f;break e}if(o&&!n&&!d&&null!=ei)return i&&u&&fo(e,Math.max(0,l.scrollTop+i*ei)),ho(e,Math.max(0,l.scrollLeft+o*ei)),(!i||i&&u)&&xe(t),void(a.wheelStartX=null);if(i&&null!=ei){var v=i*ei,g=e.doc.scrollTop,m=g+a.wrapper.clientHeight;v<0?g=Math.max(0,g+v-50):m=Math.min(e.doc.height,m+v+50),Vo(e,{top:g,bottom:m})}Jo<20&&(null==a.wheelStartX?(a.wheelStartX=l.scrollLeft,a.wheelStartY=l.scrollTop,a.wheelDX=o,a.wheelDY=i,setTimeout((function(){if(null!=a.wheelStartX){var e=l.scrollLeft-a.wheelStartX,t=l.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(ei=(ei*Jo+n)/(Jo+1),++Jo)}}),200)):(a.wheelDX+=o,a.wheelDY+=i))}}a?ei=-.53:n?ei=15:u?ei=-.7:f&&(ei=-1/3);var oi=function(e,t){this.ranges=e,this.primIndex=t};oi.prototype.primary=function(){return this.ranges[this.primIndex]},oi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!at(n.anchor,r.anchor)||!at(n.head,r.head))return!1}return!0},oi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ii(lt(this.ranges[t].anchor),lt(this.ranges[t].head));return new oi(e,this.primIndex)},oi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},oi.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(it(t,r.from())>=0&&it(e,r.to())<=0)return n}return-1};var ii=function(e,t){this.anchor=e,this.head=t};function ai(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort((function(e,t){return it(e.from(),t.from())})),n=F(t,o);for(var i=1;i<t.length;i++){var a=t[i],l=t[i-1],c=it(l.to(),a.from());if(r&&!a.empty()?c>0:c>=0){var s=st(l.from(),a.from()),u=ct(l.to(),a.to()),d=l.empty()?a.from()==a.head:l.from()==l.head;i<=n&&--n,t.splice(--i,2,new ii(d?u:s,d?s:u))}}return new oi(t,n)}function li(e,t){return new oi([new ii(e,t||e)],0)}function ci(e){return e.text?ot(e.from.line+e.text.length-1,X(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function si(e,t){if(it(e,t.from)<0)return e;if(it(e,t.to)<=0)return ci(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=ci(t).ch-t.to.ch),ot(n,r)}function ui(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new ii(si(o.anchor,t),si(o.head,t)))}return ai(e.cm,n,e.sel.primIndex)}function di(e,t,n){return e.line==t.line?ot(n.line,e.ch-t.ch+n.ch):ot(n.line+(e.line-t.line),e.ch)}function fi(e,t,n){for(var r=[],o=ot(e.first,0),i=o,a=0;a<t.length;a++){var l=t[a],c=di(l.from,o,i),s=di(ci(l),o,i);if(o=l.to,i=s,"around"==n){var u=e.sel.ranges[a],d=it(u.head,u.anchor)<0;r[a]=new ii(d?s:c,d?c:s)}else r[a]=new ii(c,c)}return new oi(r,e.sel.primIndex)}function pi(e){e.doc.mode=Ve(e.options,e.doc.modeOption),hi(e)}function hi(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ao(e,100),e.state.modeGen++,e.curOp&&Ir(e)}function vi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==X(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function gi(e,t,n,r){function o(e){return n?n[e]:null}function i(e,n,o){sn(e,n,o,r),Nn(e,"change",e,t)}function a(e,t){for(var n=[],i=e;i<t;++i)n.push(new cn(s[i],o(i),r));return n}var l=t.from,c=t.to,s=t.text,u=Qe(e,l.line),d=Qe(e,c.line),f=X(s),p=o(s.length-1),h=c.line-l.line;if(t.full)e.insert(0,a(0,s.length)),e.remove(s.length,e.size-s.length);else if(vi(e,t)){var v=a(0,s.length-1);i(d,d.text,p),h&&e.remove(l.line,h),v.length&&e.insert(l.line,v)}else if(u==d)if(1==s.length)i(u,u.text.slice(0,l.ch)+f+u.text.slice(c.ch),p);else{var g=a(1,s.length-1);g.push(new cn(f+u.text.slice(c.ch),p,r)),i(u,u.text.slice(0,l.ch)+s[0],o(0)),e.insert(l.line+1,g)}else if(1==s.length)i(u,u.text.slice(0,l.ch)+s[0]+d.text.slice(c.ch),o(0)),e.remove(l.line+1,h);else{i(u,u.text.slice(0,l.ch)+s[0],o(0)),i(d,f+d.text.slice(c.ch),p);var m=a(1,s.length-1);h>1&&e.remove(l.line+1,h-1),e.insert(l.line+1,m)}Nn(e,"change",e,t)}function mi(e,t,n){function r(e,o,i){if(e.linked)for(var a=0;a<e.linked.length;++a){var l=e.linked[a];if(l.doc!=o){var c=i&&l.sharedHist;n&&!c||(t(l.doc,c),r(l.doc,e,c))}}}r(e,null,!0)}function yi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Pr(e),pi(e),bi(e),e.options.direction=t.direction,e.options.lineWrapping||ln(e),e.options.mode=t.modeOption,Ir(e)}function bi(e){("rtl"==e.doc.direction?P:E)(e.display.lineDiv,"CodeMirror-rtl")}function wi(e){Lo(e,(function(){bi(e),Ir(e)}))}function Oi(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function xi(e,t){var n={from:lt(t.from),to:ci(t),text:$e(e,t.from,t.to)};return Ti(e,n,t.from.line,t.to.line+1),mi(e,(function(e){return Ti(e,n,t.from.line,t.to.line+1)}),!0),n}function Ci(e){while(e.length){var t=X(e);if(!t.ranges)break;e.pop()}}function ki(e,t){return t?(Ci(e.done),X(e.done)):e.done.length&&!X(e.done).ranges?X(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),X(e.done)):void 0}function Si(e,t,n,r){var o=e.history;o.undone.length=0;var i,a,l=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(i=ki(o,o.lastOp==r)))a=X(i.changes),0==it(t.from,t.to)&&0==it(t.from,a.to)?a.to=ci(t):i.changes.push(xi(e,t));else{var c=X(o.done);c&&c.ranges||Ni(e.sel,o.done),i={changes:[xi(e,t)],generation:o.generation},o.done.push(i);while(o.done.length>o.undoDepth)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=l,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,a||me(e,"historyAdded")}function Ei(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ji(e,t,n,r){var o=e.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||Ei(e,i,X(o.done),t))?o.done[o.done.length-1]=t:Ni(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&Ci(o.undone)}function Ni(e,t){var n=X(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ti(e,t,n,r){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=n.markedSpans),++i}))}function Mi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Li(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(Mi(n[o]));return r}function Di(e,t){var n=Li(e,t),r=Ht(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],a=r[o];if(i&&a)e:for(var l=0;l<a.length;++l){for(var c=a[l],s=0;s<i.length;++s)if(i[s].marker==c.marker)continue e;i.push(c)}else a&&(n[o]=a)}return n}function Pi(e,t,n){for(var r=[],o=0;o<e.length;++o){var i=e[o];if(i.ranges)r.push(n?oi.prototype.deepCopy.call(i):i);else{var a=i.changes,l=[];r.push({changes:l});for(var c=0;c<a.length;++c){var s=a[c],u=void 0;if(l.push({from:s.from,to:s.to,text:s.text}),t)for(var d in s)(u=d.match(/^spans_(\d+)$/))&&F(t,Number(u[1]))>-1&&(X(l)[d]=s[d],delete s[d])}}}return r}function Ri(e,t,n,r){if(r){var o=e.anchor;if(n){var i=it(t,o)<0;i!=it(n,o)<0?(o=t,t=n):i!=it(t,n)<0&&(t=n)}return new ii(o,t)}return new ii(n||t,t)}function Ai(e,t,n,r,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),Bi(e,new oi([Ri(e.sel.primary(),t,n,o)],0),r)}function Ii(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=Ri(e.sel.ranges[i],t[i],null,o);var a=ai(e.cm,r,e.sel.primIndex);Bi(e,a,n)}function Ki(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,Bi(e,ai(e.cm,o,e.sel.primIndex),r)}function Hi(e,t,n,r){Bi(e,li(t,n),r)}function Wi(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new ii(dt(e,t[n].anchor),dt(e,t[n].head))},origin:n&&n.origin};return me(e,"beforeSelectionChange",e,r),e.cm&&me(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ai(e.cm,r.ranges,r.ranges.length-1):t}function Fi(e,t,n){var r=e.history.done,o=X(r);o&&o.ranges?(r[r.length-1]=t,zi(e,t,n)):Bi(e,t,n)}function Bi(e,t,n){zi(e,t,n),ji(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function zi(e,t,n){(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange"))&&(t=Wi(e,t,n));var r=n&&n.bias||(it(t.primary().head,e.sel.primary().head)<0?-1:1);Vi(e,_i(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||ao(e.cm)}function Vi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),Nn(e,"cursorActivity",e))}function Ui(e){Vi(e,_i(e,e.sel,null,!1))}function _i(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var a=t.ranges[i],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],c=qi(e,a.anchor,l&&l.anchor,n,r),s=qi(e,a.head,l&&l.head,n,r);(o||c!=a.anchor||s!=a.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new ii(c,s))}return o?ai(e.cm,o,t.primIndex):t}function Gi(e,t,n,r,o){var i=Qe(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var l=i.markedSpans[a],c=l.marker,s="selectLeft"in c?!c.selectLeft:c.inclusiveLeft,u="selectRight"in c?!c.selectRight:c.inclusiveRight;if((null==l.from||(s?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(u?l.to>=t.ch:l.to>t.ch))){if(o&&(me(c,"beforeCursorEnter"),c.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!c.atomic)continue;if(n){var d=c.find(r<0?1:-1),f=void 0;if((r<0?u:s)&&(d=Yi(e,d,-r,d&&d.line==t.line?i:null)),d&&d.line==t.line&&(f=it(d,n))&&(r<0?f<0:f>0))return Gi(e,d,t,r,o)}var p=c.find(r<0?-1:1);return(r<0?s:u)&&(p=Yi(e,p,r,p.line==t.line?i:null)),p?Gi(e,p,t,r,o):null}}return t}function qi(e,t,n,r,o){var i=r||1,a=Gi(e,t,n,i,o)||!o&&Gi(e,t,n,i,!0)||Gi(e,t,n,-i,o)||!o&&Gi(e,t,n,-i,!0);return a||(e.cantEdit=!0,ot(e.first,0))}function Yi(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?dt(e,ot(t.line-1)):null:n>0&&t.ch==(r||Qe(e,t.line)).text.length?t.line<e.first+e.size-1?ot(t.line+1,0):null:new ot(t.line,t.ch+n)}function Xi(e){e.setSelection(ot(e.firstLine(),0),ot(e.lastLine()),V)}function Qi(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,o,i){t&&(r.from=dt(e,t)),n&&(r.to=dt(e,n)),o&&(r.text=o),void 0!==i&&(r.origin=i)}),me(e,"beforeChange",e,r),e.cm&&me(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function $i(e,t,n){if(e.cm){if(!e.cm.curOp)return Do(e.cm,$i)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"))||(t=Qi(e,t,!0),t)){var r=Nt&&!n&&Ft(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)Zi(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else Zi(e,t)}}function Zi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=it(t.from,t.to)){var n=ui(e,t);Si(e,t,n,e.cm?e.cm.curOp.id:NaN),ta(e,t,n,Ht(e,t));var r=[];mi(e,(function(e,n){n||-1!=F(r,e.history)||(aa(e.history,t),r.push(e.history)),ta(e,t,null,Ht(e,t))}))}}function Ji(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var o,i=e.history,a=e.sel,l="undo"==t?i.done:i.undone,c="undo"==t?i.undone:i.done,s=0;s<l.length;s++)if(o=l[s],n?o.ranges&&!o.equals(e.sel):!o.ranges)break;if(s!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(o=l.pop(),!o.ranges){if(r)return void l.push(o);break}if(Ni(o,c),n&&!o.equals(e.sel))return void Bi(e,o,{clearRedo:!1});a=o}var u=[];Ni(a,c),c.push({changes:u,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var d=we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"),f=function(n){var r=o.changes[n];if(r.origin=t,d&&!Qi(e,r,!1))return l.length=0,{};u.push(xi(e,r));var i=n?ui(e,r):X(l);ta(e,r,i,Di(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:ci(r)});var a=[];mi(e,(function(e,t){t||-1!=F(a,e.history)||(aa(e.history,r),a.push(e.history)),ta(e,r,null,Di(e,r))}))},p=o.changes.length-1;p>=0;--p){var h=f(p);if(h)return h.v}}}}function ea(e,t){if(0!=t&&(e.first+=t,e.sel=new oi(Q(e.sel.ranges,(function(e){return new ii(ot(e.anchor.line+t,e.anchor.ch),ot(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Ir(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Kr(e.cm,r,"gutter")}}function ta(e,t,n,r){if(e.cm&&!e.cm.curOp)return Do(e.cm,ta)(e,t,n,r);if(t.to.line<e.first)ea(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);ea(e,o),t={from:ot(e.first,0),to:ot(t.to.line+o,t.to.ch),text:[X(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:ot(i,Qe(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=$e(e,t.from,t.to),n||(n=ui(e,t)),e.cm?na(e.cm,t,r):gi(e,t,r),zi(e,n,V),e.cantEdit&&qi(e,ot(e.firstLine(),0))&&(e.cantEdit=!1)}}function na(e,t,n){var r=e.doc,o=e.display,i=t.from,a=t.to,l=!1,c=i.line;e.options.lineWrapping||(c=et($t(Qe(r,i.line))),r.iter(c,a.line+1,(function(e){if(e==o.maxLine)return l=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&be(e),gi(r,t,n,Dr(e)),e.options.lineWrapping||(r.iter(c,i.line+t.text.length,(function(e){var t=an(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,l=!1)})),l&&(e.curOp.updateMaxLine=!0)),jt(r,i.line),Ao(e,400);var s=t.text.length-(a.line-i.line)-1;t.full?Ir(e):i.line!=a.line||1!=t.text.length||vi(e.doc,t)?Ir(e,i.line,a.line+1,s):Kr(e,i.line,"text");var u=we(e,"changes"),d=we(e,"change");if(d||u){var f={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&Nn(e,"change",e,f),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function ra(e,t,n,r,o){var i;r||(r=n),it(r,n)<0&&(i=[r,n],n=i[0],r=i[1]),"string"==typeof t&&(t=e.splitLines(t)),$i(e,{from:n,to:r,text:t,origin:o})}function oa(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function ia(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||(i=e[o]=i.deepCopy(),i.copied=!0);for(var l=0;l<i.ranges.length;l++)oa(i.ranges[l].anchor,t,n,r),oa(i.ranges[l].head,t,n,r)}else{for(var c=0;c<i.changes.length;++c){var s=i.changes[c];if(n<s.from.line)s.from=ot(s.from.line+r,s.from.ch),s.to=ot(s.to.line+r,s.to.ch);else if(t<=s.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function aa(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;ia(e.done,n,r,o),ia(e.undone,n,r,o)}function la(e,t,n,r){var o=t,i=t;return"number"==typeof t?i=Qe(e,ut(e,t)):o=et(t),null==o?null:(r(i,o)&&e.cm&&Kr(e.cm,o,n),i)}function ca(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function sa(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}ii.prototype.from=function(){return st(this.anchor,this.head)},ii.prototype.to=function(){return ct(this.anchor,this.head)},ii.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ca.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,un(o),Nn(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},sa.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var i=Math.min(t,o-e),a=r.height;if(r.removeInner(e,i),this.height-=a-r.height,o==i&&(this.children.splice(n--,1),r.parent=null),0==(t-=i))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ca))){var l=[];this.collapse(l),this.children=[new ca(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<=i){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,l=a;l<o.lines.length;){var c=new ca(o.lines.slice(l,l+=25));o.height-=c.height,this.children.splice(++r,0,c),c.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new sa(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=F(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var o=new sa(e.children);o.parent=e,e.children=[o,n],e=o}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<i){var a=Math.min(t,i-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=i}}};var ua=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function da(e,t,n){on(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&io(e,n)}function fa(e,t,n,r){var o=new ua(e,n,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),la(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!nn(e,t)){var r=on(t)<e.scrollTop;Je(t,t.height+zn(o)),r&&io(i,o.height),i.curOp.forceUpdate=!0}return!0})),i&&Nn(i,"lineWidgetAdded",i,o,"number"==typeof t?t:et(t)),o}ua.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=et(n);if(null!=r&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var i=zn(this);Je(n,Math.max(0,n.height-i)),e&&(Lo(e,(function(){da(e,n,-i),Kr(e,r,"widget")})),Nn(e,"lineWidgetCleared",e,this,r))}},ua.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=zn(this)-t;o&&(nn(this.doc,r)||Je(r,r.height+o),n&&Lo(n,(function(){n.curOp.forceUpdate=!0,da(n,r,o),Nn(n,"lineWidgetChanged",n,e,et(r))})))},Oe(ua);var pa=0,ha=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++pa};function va(e,t,n,r,o){if(r&&r.shared)return ma(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return Do(e.cm,va)(e,t,n,r,o);var i=new ha(e,o),a=it(t,n);if(r&&K(r,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=M("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Qt(e,t.line,t,n,i)||t.line!=n.line&&Qt(e,n.line,t,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");Lt()}i.addToHistory&&Si(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,c=t.line,s=e.cm;if(e.iter(c,n.line+1,(function(r){s&&i.collapsed&&!s.options.lineWrapping&&$t(r)==s.display.maxLine&&(l=!0),i.collapsed&&c!=t.line&&Je(r,0),At(r,new Dt(i,c==t.line?t.ch:null,c==n.line?n.ch:null),e.cm&&e.cm.curOp),++c})),i.collapsed&&e.iter(t.line,n.line+1,(function(t){nn(e,t)&&Je(t,0)})),i.clearOnEnter&&he(i,"beforeCursorEnter",(function(){return i.clear()})),i.readOnly&&(Mt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++pa,i.atomic=!0),s){if(l&&(s.curOp.updateMaxLine=!0),i.collapsed)Ir(s,t.line,n.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var u=t.line;u<=n.line;u++)Kr(s,u,"text");i.atomic&&Ui(s.doc),Nn(s,"markerAdded",s,i)}return i}ha.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Co(e),we(this,"clear")){var n=this.find();n&&Nn(this,"clear",n.from,n.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var a=this.lines[i],l=Pt(a.markedSpans,this);e&&!this.collapsed?Kr(e,et(a),"text"):e&&(null!=l.to&&(o=et(a)),null!=l.from&&(r=et(a))),a.markedSpans=Rt(a.markedSpans,l),null==l.from&&this.collapsed&&!nn(this.doc,a)&&e&&Je(a,Nr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var s=$t(this.lines[c]),u=an(s);u>e.display.maxLineLength&&(e.display.maxLine=s,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Ir(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ui(e.doc)),e&&Nn(e,"markerCleared",e,this,r,o),t&&ko(e),this.parent&&this.parent.clear()}},ha.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var i=this.lines[o],a=Pt(i.markedSpans,this);if(null!=a.from&&(n=ot(t?i:et(i),a.from),-1==e))return n;if(null!=a.to&&(r=ot(t?i:et(i),a.to),1==e))return r}return n&&{from:n,to:r}},ha.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Lo(r,(function(){var o=t.line,i=et(t.line),a=er(r,i);if(a&&(sr(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!nn(n.doc,o)&&null!=n.height){var l=n.height;n.height=null;var c=zn(n)-l;c&&Je(o,o.height+c)}Nn(r,"markerChanged",r,e)}))},ha.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=F(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ha.prototype.detachLine=function(e){if(this.lines.splice(F(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Oe(ha);var ga=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function ma(e,t,n,r,o){r=K(r),r.shared=!1;var i=[va(e,t,n,r,o)],a=i[0],l=r.widgetNode;return mi(e,(function(e){l&&(r.widgetNode=l.cloneNode(!0)),i.push(va(e,dt(e,t),dt(e,n),r,o));for(var c=0;c<e.linked.length;++c)if(e.linked[c].isParent)return;a=X(i)})),new ga(i,a)}function ya(e){return e.findMarks(ot(e.first,0),e.clipPos(ot(e.lastLine())),(function(e){return e.parent}))}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(it(i,a)){var l=va(e,i,a,r.primary,r.primary.type);r.markers.push(l),l.parent=r}}}function wa(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];mi(n.primary.doc,(function(e){return r.push(e)}));for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==F(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}},n=0;n<e.length;n++)t(n)}ga.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Nn(this,"clear")}},ga.prototype.find=function(e,t){return this.primary.find(e,t)},Oe(ga);var Oa=0,xa=function(e,t,n,r,o){if(!(this instanceof xa))return new xa(e,t,n,r,o);null==n&&(n=0),sa.call(this,[new ca([new cn("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=ot(n,0);this.sel=li(i),this.history=new Oi(null),this.id=++Oa,this.modeOption=t,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),gi(this,{from:i,to:i,text:e}),Bi(this,li(i),V)};xa.prototype=J(sa.prototype,{constructor:xa,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Ro((function(e){var t=ot(this.first,0),n=this.first+this.size-1;$i(this,{from:t,to:ot(n,Qe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&lo(this.cm,0,0),Bi(this,li(t),V)})),replaceRange:function(e,t,n,r){t=dt(this,t),n=n?dt(this,n):t,ra(this,e,t,n,r)},getRange:function(e,t,n){var r=$e(this,dt(this,e),dt(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e))return Qe(this,e)},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qe(this,e)),$t(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return dt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from(),t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ro((function(e,t,n){Hi(this,dt(this,"number"==typeof e?ot(e,t||0):e),null,n)})),setSelection:Ro((function(e,t,n){Hi(this,dt(this,e),dt(this,t||e),n)})),extendSelection:Ro((function(e,t,n){Ai(this,dt(this,e),t&&dt(this,t),n)})),extendSelections:Ro((function(e,t){Ii(this,pt(this,e),t)})),extendSelectionsBy:Ro((function(e,t){var n=Q(this.sel.ranges,e);Ii(this,pt(this,n),t)})),setSelections:Ro((function(e,t,n){if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new ii(dt(this,e[o].anchor),dt(this,e[o].head||e[o].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Bi(this,ai(this.cm,r,t),n)}})),addSelection:Ro((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new ii(dt(this,e),dt(this,t||e))),Bi(this,ai(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var o=$e(this,n[r].from(),n[r].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=$e(this,n[r].from(),n[r].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Ro((function(e,t,n){for(var r=[],o=this.sel,i=0;i<o.ranges.length;i++){var a=o.ranges[i];r[i]={from:a.from(),to:a.to(),text:this.splitLines(e[i]),origin:n}}for(var l=t&&"end"!=t&&fi(this,r,t),c=r.length-1;c>=0;c--)$i(this,r[c]);l?Fi(this,l):this.cm&&ao(this.cm)})),undo:Ro((function(){Ji(this,"undo")})),redo:Ro((function(){Ji(this,"redo")})),undoSelection:Ro((function(){Ji(this,"undo",!0)})),redoSelection:Ro((function(){Ji(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Oi(this.history),mi(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Pi(this.history.done),undone:Pi(this.history.undone)}},setHistory:function(e){var t=this.history=new Oi(this.history);t.done=Pi(e.done.slice(0),null,!0),t.undone=Pi(e.undone.slice(0),null,!0)},setGutterMarker:Ro((function(e,t,n){return la(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Ro((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&la(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!nt(this,e))return null;if(t=e,e=Qe(this,e),!e)return null}else if(t=et(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Ro((function(e,t,n){return la(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(k(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Ro((function(e,t,n){return la(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var i=o.match(k(n));if(!i)return!1;var a=i.index+i[0].length;e[r]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0}))})),addLineWidget:Ro((function(e,t,n){return fa(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return va(this,dt(this,e),dt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=dt(this,e),va(this,e,e,n,"bookmark")},findMarksAt:function(e){e=dt(this,e);var t=[],n=Qe(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=dt(this,e),t=dt(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,(function(i){var a=i.markedSpans;if(a)for(var l=0;l<a.length;l++){var c=a[l];null!=c.to&&o==e.line&&e.ch>=c.to||null==c.from&&o!=e.line||null!=c.from&&o==t.line&&c.from>=t.ch||n&&!n(c.marker)||r.push(c.marker.parent||c.marker)}++o})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(o){var i=o.text.length+r;if(i>e)return t=e,!0;e-=i,++n})),dt(this,ot(n,t))},indexFromPos:function(e){e=dt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new xa(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new xa(Ze(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],ba(r,ya(this)),r},unlinkDoc:function(e){if(e instanceof Il&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),wa(ya(this));break}}if(e.history==this.history){var r=[e.id];mi(e,(function(e){return r.push(e.id)}),!0),e.history=new Oi(null),e.history.done=Pi(this.history.done,r),e.history.undone=Pi(this.history.undone,r)}},iterLinkedDocs:function(e){mi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Pe(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ro((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&wi(this.cm))}))}),xa.prototype.eachLine=xa.prototype.iter;var Ca=0;function ka(e){var t=this;if(ja(t),!ye(t,e)&&!Vn(t.display,e)){xe(e),a&&(Ca=+new Date);var n=Rr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),l=0,c=function(){++l==o&&Do(t,(function(){n=dt(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(i.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};$i(t.doc,e),Fi(t.doc,li(dt(t.doc,n),dt(t.doc,ci(e))))}))()},s=function(e,n){if(t.options.allowDropFileTypes&&-1==F(t.options.allowDropFileTypes,e.type))c();else{var r=new FileReader;r.onerror=function(){return c()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(i[n]=e),c()},r.readAsText(e)}},u=0;u<r.length;u++)s(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),zi(t.doc,li(n,n)),f)for(var p=0;p<f.length;++p)ra(t.doc,"",f[p].anchor,f[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(h){}}}}function Sa(e,t){if(a&&(!e.state.draggingText||+new Date-Ca<100))Se(t);else if(!ye(e,t)&&!Vn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=T("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Ea(e,t){var n=Rr(e,t);if(n){var r=document.createDocumentFragment();Ur(e,n,r),e.display.dragCursor||(e.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),N(e.display.dragCursor,r)}}function ja(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Na(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Ta=!1;function Ma(){Ta||(La(),Ta=!0)}function La(){var e;he(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Na(Da)}),100))})),he(window,"blur",(function(){return Na($r)}))}function Da(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Pa={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ra=0;Ra<10;Ra++)Pa[Ra+48]=Pa[Ra+96]=String(Ra);for(var Aa=65;Aa<=90;Aa++)Pa[Aa]=String.fromCharCode(Aa);for(var Ia=1;Ia<=12;Ia++)Pa[Ia+111]=Pa[Ia+63235]="F"+Ia;var Ka={};function Ha(e){var t,n,r,o,i=e.split(/-(?!$)/);e=i[i.length-1];for(var a=0;a<i.length-1;a++){var l=i[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else{if(!/^s(hift)?$/i.test(l))throw new Error("Unrecognized modifier name: "+l);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Wa(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=Q(n.split(" "),Ha),i=0;i<o.length;i++){var a=void 0,l=void 0;i==o.length-1?(l=o.join(" "),a=r):(l=o.slice(0,i+1).join(" "),a="...");var c=t[l];if(c){if(c!=a)throw new Error("Inconsistent bindings for "+l)}else t[l]=a}delete e[n]}for(var s in t)e[s]=t[s];return e}function Fa(e,t,n,r){t=Ua(t);var o=t.call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Fa(e,t.fallthrough,n,r);for(var i=0;i<t.fallthrough.length;i++){var a=Fa(e,t.fallthrough[i],n,r);if(a)return a}}}function Ba(e){var t="string"==typeof e?e:Pa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function za(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Va(e,t){if(d&&34==e.keyCode&&e["char"])return!1;var n=Pa[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),za(n,e,t))}function Ua(e){return"string"==typeof e?Ka[e]:e}function _a(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){var i=t(n[o]);while(r.length&&it(i.from,X(r).to)<=0){var a=r.pop();if(it(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}Lo(e,(function(){for(var t=r.length-1;t>=0;t--)ra(e.doc,"",r[t].from,r[t].to,"+delete");ao(e)}))}function Ga(e,t,n){var r=ae(e.text,t+n,n);return r<0||r>e.text.length?null:r}function qa(e,t,n){var r=Ga(e,t.ch,n);return null==r?null:new ot(t.line,r,n<0?"after":"before")}function Ya(e,t,n,r,o){if(e){"rtl"==t.doc.direction&&(o=-o);var i=fe(n,t.doc.direction);if(i){var a,l=o<0?X(i):i[0],c=o<0==(1==l.level),s=c?"after":"before";if(l.level>0||"rtl"==t.doc.direction){var u=tr(t,n);a=o<0?n.text.length-1:0;var d=nr(t,u,a).top;a=le((function(e){return nr(t,u,e).top==d}),o<0==(1==l.level)?l.from:l.to-1,a),"before"==s&&(a=Ga(n,a,1))}else a=o<0?l.to:l.from;return new ot(r,a,s)}}return new ot(r,o<0?n.text.length:0,o<0?"before":"after")}function Xa(e,t,n,r){var o=fe(t,e.doc.direction);if(!o)return qa(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=ue(o,n.ch,n.sticky),a=o[i];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return qa(t,n,r);var l,c=function(e,n){return Ga(t,e instanceof ot?e.ch:e,n)},s=function(n){return e.options.lineWrapping?(l=l||tr(e,t),Cr(e,t,l,n)):{begin:0,end:t.text.length}},u=s("before"==n.sticky?c(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,f=c(n,d?1:-1);if(null!=f&&(d?f<=a.to&&f<=u.end:f>=a.from&&f>=u.begin)){var p=d?"before":"after";return new ot(n.line,f,p)}}var h=function(e,t,r){for(var i=function(e,t){return t?new ot(n.line,c(e,1),"before"):new ot(n.line,e,"after")};e>=0&&e<o.length;e+=t){var a=o[e],l=t>0==(1!=a.level),s=l?r.begin:c(r.end,-1);if(a.from<=s&&s<a.to)return i(s,l);if(s=l?a.from:c(a.to,-1),r.begin<=s&&s<r.end)return i(s,l)}},v=h(i+r,r,u);if(v)return v;var g=r>0?u.end:c(u.begin,-1);return null==g||r>0&&g==t.text.length||(v=h(r>0?0:o.length-1,r,s(g)),!v)?null:v}Ka.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ka.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ka.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ka.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ka["default"]=y?Ka.macDefault:Ka.pcDefault;var Qa={selectAll:Xi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return _a(e,(function(t){if(t.empty()){var n=Qe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ot(t.head.line+1,0)}:{from:t.head,to:ot(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return _a(e,(function(t){return{from:ot(t.from().line,0),to:dt(e.doc,ot(t.to().line+1,0))}}))},delLineLeft:function(e){return _a(e,(function(e){return{from:ot(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return _a(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}}))},delWrappedLineRight:function(e){return _a(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ot(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ot(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return $a(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return Ja(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Za(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),_)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),_)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Ja(e,t.head):r}),_)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),a=H(e.getLine(i.line),i.ch,r);t.push(Y(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Lo(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,i=Qe(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new ot(o.line,o.ch-1)),o.ch>0)o=new ot(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),ot(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=Qe(e.doc,o.line-1).text;a&&(o=new ot(o.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ot(o.line-1,a.length-1),o,"+transpose"))}n.push(new ii(o,o))}e.setSelections(n)}))},newlineAndIndent:function(e){return Lo(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);ao(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function $a(e,t){var n=Qe(e.doc,t),r=$t(n);return r!=n&&(t=et(r)),Ya(!0,e,r,t,1)}function Za(e,t){var n=Qe(e.doc,t),r=Zt(n);return r!=n&&(t=et(r)),Ya(!0,e,n,t,-1)}function Ja(e,t){var n=$a(e,t.line),r=Qe(e.doc,n.line),o=fe(r,e.doc.direction);if(!o||0==o[0].level){var i=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=i&&t.ch;return ot(n.line,a?0:i,n.sticky)}return n}function el(e,t,n){if("string"==typeof t&&(t=Qa[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=z}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function tl(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=Fa(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&Fa(t,e.options.extraKeys,n,e)||Fa(t,e.options.keyMap,n,e)}var nl=new W;function rl(e,t,n,r){var o=e.state.keySeq;if(o){if(Ba(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:nl.set(50,(function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())})),ol(e,o+" "+t,n,r))return!0}return ol(e,t,n,r)}function ol(e,t,n,r){var o=tl(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Nn(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(xe(n),qr(e)),!!o}function il(e,t){var n=Va(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?rl(e,"Shift-"+n,t,(function(t){return el(e,t,!0)}))||rl(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return el(e,t)})):rl(e,n,t,(function(t){return el(e,t)})))}function al(e,t,n){return rl(e,"'"+n+"'",t,(function(t){return el(e,t,!0)}))}var ll=null;function cl(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=D(),!ye(t,e))){a&&l<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var o=il(t,e);d&&(ll=o?r:null,o||88!=r||Ae||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!y&&!o&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||sl(t)}}function sl(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(E(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n))}P(t,"CodeMirror-crosshair"),he(document,"keyup",n),he(document,"mouseover",n)}function ul(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function dl(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(Vn(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==ll)return ll=null,void xe(e);if(!d||e.which&&!(e.which<10)||!il(t,e)){var o=String.fromCharCode(null==r?n:r);"\b"!=o&&(al(t,e,o)||t.display.input.onKeyPress(e))}}}var fl,pl,hl=400,vl=function(e,t,n){this.time=e,this.pos=t,this.button=n};function gl(e,t){var n=+new Date;return pl&&pl.compare(n,e,t)?(fl=pl=null,"triple"):fl&&fl.compare(n,e,t)?(pl=new vl(n,e,t),fl=null,"double"):(fl=new vl(n,e,t),pl=null,"single")}function ml(e){var t=this,n=t.display;if(!(ye(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Vn(n,e))c||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!El(t,e)){var r=Rr(t,e),o=je(e),i=r?gl(r,o):"single";window.focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),r&&yl(t,o,r,i,e)||(1==o?r?wl(t,r,i,e):Ee(e)==n.scroller&&xe(e):2==o?(r&&Ai(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==o&&(C?t.display.input.onContextMenu(e):Xr(t)))}}function yl(e,t,n,r,o){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),i=(1==t?"Left":2==t?"Middle":"Right")+i,rl(e,za(i,o),o,(function(t){if("string"==typeof t&&(t=Qa[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=z}finally{e.state.suppressEdits=!1}return r}))}function bl(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(null==o.unit){var i=b?n.shiftKey&&n.metaKey:n.altKey;o.unit=i?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),null==o.addNew&&(o.addNew=y?n.metaKey:n.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(y?n.altKey:n.ctrlKey)),o}function wl(e,t,n,r){a?setTimeout(I(Yr,e),0):e.curOp.focus=D();var o,i=bl(e,n,r),l=e.doc.sel;e.options.dragDrop&&Me&&!e.isReadOnly()&&"single"==n&&(o=l.contains(t))>-1&&(it((o=l.ranges[o]).from(),t)<0||t.xRel>0)&&(it(o.to(),t)>0||t.xRel<0)?Ol(e,r,t,i):Cl(e,r,t,i)}function Ol(e,t,n,r){var o=e.display,i=!1,s=Do(e,(function(t){c&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Xr(e)),ge(o.wrapper.ownerDocument,"mouseup",s),ge(o.wrapper.ownerDocument,"mousemove",u),ge(o.scroller,"dragstart",d),ge(o.scroller,"drop",s),i||(xe(t),r.addNew||Ai(e.doc,n,null,null,r.extend),c&&!f||a&&9==l?setTimeout((function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()}),20):o.input.focus())})),u=function(e){i=i||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return i=!0};c&&(o.scroller.draggable=!0),e.state.draggingText=s,s.copy=!r.moveOnDrag,he(o.wrapper.ownerDocument,"mouseup",s),he(o.wrapper.ownerDocument,"mousemove",u),he(o.scroller,"dragstart",d),he(o.scroller,"drop",s),e.state.delayingBlurEvent=!0,setTimeout((function(){return o.input.focus()}),20),o.scroller.dragDrop&&o.scroller.dragDrop()}function xl(e,t,n){if("char"==n)return new ii(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new ii(ot(t.line,0),dt(e.doc,ot(t.line+1,0)));var r=n(e,t);return new ii(r.from,r.to)}function Cl(e,t,n,r){a&&Xr(e);var o=e.display,i=e.doc;xe(t);var l,c,s=i.sel,u=s.ranges;if(r.addNew&&!r.extend?(c=i.sel.contains(n),l=c>-1?u[c]:new ii(n,n)):(l=i.sel.primary(),c=i.sel.primIndex),"rectangle"==r.unit)r.addNew||(l=new ii(n,n)),n=Rr(e,t,!0,!0),c=-1;else{var d=xl(e,n,r.unit);l=r.extend?Ri(l,d.anchor,d.head,r.extend):d}r.addNew?-1==c?(c=u.length,Bi(i,ai(e,u.concat([l]),c),{scroll:!1,origin:"*mouse"})):u.length>1&&u[c].empty()&&"char"==r.unit&&!r.extend?(Bi(i,ai(e,u.slice(0,c).concat(u.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),s=i.sel):Ki(i,c,l,U):(c=0,Bi(i,new oi([l],0),U),s=i.sel);var f=n;function p(t){if(0!=it(f,t))if(f=t,"rectangle"==r.unit){for(var o=[],a=e.options.tabSize,u=H(Qe(i,n.line).text,n.ch,a),d=H(Qe(i,t.line).text,t.ch,a),p=Math.min(u,d),h=Math.max(u,d),v=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));v<=g;v++){var m=Qe(i,v).text,y=G(m,p,a);p==h?o.push(new ii(ot(v,y),ot(v,y))):m.length>y&&o.push(new ii(ot(v,y),ot(v,G(m,h,a))))}o.length||o.push(new ii(n,n)),Bi(i,ai(e,s.ranges.slice(0,c).concat(o),c),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=l,O=xl(e,t,r.unit),x=w.anchor;it(O.anchor,x)>0?(b=O.head,x=st(w.from(),O.anchor)):(b=O.anchor,x=ct(w.to(),O.head));var C=s.ranges.slice(0);C[c]=kl(e,new ii(dt(i,x),b)),Bi(i,ai(e,C,c),U)}}var h=o.wrapper.getBoundingClientRect(),v=0;function g(t){var n=++v,a=Rr(e,t,!0,"rectangle"==r.unit);if(a)if(0!=it(a,f)){e.curOp.focus=D(),p(a);var l=eo(o,i);(a.line>=l.to||a.line<l.from)&&setTimeout(Do(e,(function(){v==n&&g(t)})),150)}else{var c=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;c&&setTimeout(Do(e,(function(){v==n&&(o.scroller.scrollTop+=c,g(t))})),50)}}function m(t){e.state.selectingText=!1,v=1/0,t&&(xe(t),o.input.focus()),ge(o.wrapper.ownerDocument,"mousemove",y),ge(o.wrapper.ownerDocument,"mouseup",b),i.history.lastSelOrigin=null}var y=Do(e,(function(e){0!==e.buttons&&je(e)?g(e):m(e)})),b=Do(e,m);e.state.selectingText=b,he(o.wrapper.ownerDocument,"mousemove",y),he(o.wrapper.ownerDocument,"mouseup",b)}function kl(e,t){var n=t.anchor,r=t.head,o=Qe(e.doc,n.line);if(0==it(n,r)&&n.sticky==r.sticky)return t;var i=fe(o);if(!i)return t;var a=ue(i,n.ch,n.sticky),l=i[a];if(l.from!=n.ch&&l.to!=n.ch)return t;var c,s=a+(l.from==n.ch==(1!=l.level)?0:1);if(0==s||s==i.length)return t;if(r.line!=n.line)c=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ue(i,r.ch,r.sticky),d=u-a||(r.ch-n.ch)*(1==l.level?-1:1);c=u==s-1||u==s?d<0:d>0}var f=i[s+(c?-1:0)],p=c==(1==f.level),h=p?f.from:f.to,v=p?"after":"before";return n.ch==h&&n.sticky==v?t:new ii(new ot(n.line,h,v),r)}function Sl(e,t,n,r){var o,i;if(t.touches)o=t.touches[0].clientX,i=t.touches[0].clientY;else try{o=t.clientX,i=t.clientY}catch(f){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&xe(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(i>l.bottom||!we(e,n))return ke(t);i-=l.top-a.viewOffset;for(var c=0;c<e.display.gutterSpecs.length;++c){var s=a.gutters.childNodes[c];if(s&&s.getBoundingClientRect().right>=o){var u=tt(e.doc,i),d=e.display.gutterSpecs[c];return me(e,n,e,u,d.className,t),ke(t)}}}function El(e,t){return Sl(e,t,"gutterClick",!0)}function jl(e,t){Vn(e.display,t)||Nl(e,t)||ye(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function Nl(e,t){return!!we(e,"gutterContextMenu")&&Sl(e,t,"gutterContextMenu",!1)}function Tl(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),dr(e)}vl.prototype.compare=function(e,t,n){return this.time+hl>e&&0==it(t,this.pos)&&n==this.button};var Ml={toString:function(){return"CodeMirror.Init"}},Ll={},Dl={};function Pl(e){var t=e.optionHandlers;function n(n,r,o,i){e.defaults[n]=r,o&&(t[n]=i?function(e,t,n){n!=Ml&&o(e,t,n)}:o)}e.defineOption=n,e.Init=Ml,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,pi(e)}),!0),n("indentUnit",2,pi,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){hi(e),dr(e),Ir(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,n.push(ot(r,i))}r++}));for(var o=n.length-1;o>=0;o--)ra(e.doc,t,n[o],ot(n[o].line,n[o].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ml&&e.refresh()})),n("specialCharPlaceholder",vn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",m?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){Tl(e),$o(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Ua(t),o=n!=Ml&&Ua(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Al,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Xo(t,e.options.lineNumbers),$o(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Lr(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return yo(e)}),!0),n("scrollbarStyle","native",(function(e){Oo(e),yo(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Xo(e.options.gutters,t),$o(e)}),!0),n("firstLineNumber",1,$o,!0),n("lineNumberFormatter",(function(e){return e}),$o,!0),n("showCursorWhenSelecting",!1,zr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&($r(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,Rl),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,zr,!0),n("singleCursorHeightPerLine",!0,zr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,hi,!0),n("addModeClass",!1,hi,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,hi,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function Rl(e,t,n){var r=n&&n!=Ml;if(!t!=!r){var o=e.display.dragFunctions,i=t?he:ge;i(e.display.scroller,"dragstart",o.start),i(e.display.scroller,"dragenter",o.enter),i(e.display.scroller,"dragover",o.over),i(e.display.scroller,"dragleave",o.leave),i(e.display.scroller,"drop",o.drop)}}function Al(e){e.options.lineWrapping?(P(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(E(e.display.wrapper,"CodeMirror-wrap"),ln(e)),Pr(e),Ir(e),dr(e),setTimeout((function(){return yo(e)}),100)}function Il(e,t){var n=this;if(!(this instanceof Il))return new Il(e,t);this.options=t=t?K(t):{},K(Ll,t,!1);var r=t.value;"string"==typeof r?r=new xa(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Il.inputStyles[t.inputStyle](this),i=this.display=new Zo(e,r,o,t);for(var s in i.wrapper.CodeMirror=this,Tl(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Oo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new W,keySeq:null,specialChars:null},t.autofocus&&!m&&i.input.focus(),a&&l<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Kl(this),Ma(),Co(this),this.curOp.forceUpdate=!0,yi(this,r),t.autofocus&&!m||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Qr(n)}),20):$r(this),Dl)Dl.hasOwnProperty(s)&&Dl[s](this,t[s],Ml);Yo(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Hl.length;++u)Hl[u](this);ko(this),c&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function Kl(e){var t=e.display;he(t.scroller,"mousedown",Do(e,ml)),he(t.scroller,"dblclick",a&&l<11?Do(e,(function(t){if(!ye(e,t)){var n=Rr(e,t);if(n&&!El(e,t)&&!Vn(e.display,t)){xe(t);var r=e.findWordAt(n);Ai(e.doc,r.anchor,r.head)}}})):function(t){return ye(e,t)||xe(t)}),he(t.scroller,"contextmenu",(function(t){return jl(e,t)})),he(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||jl(e,n)}));var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),r=t.activeTouch,r.end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function c(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}he(t.scroller,"touchstart",(function(o){if(!ye(e,o)&&!i(o)&&!El(e,o)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}})),he(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),he(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Vn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var i,a=e.coordsChar(t.activeTouch,"page");i=!r.prev||c(r,r.prev)?new ii(a,a):!r.prev.prev||c(r,r.prev.prev)?e.findWordAt(a):new ii(ot(a.line,0),dt(e.doc,ot(a.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),xe(n)}o()})),he(t.scroller,"touchcancel",o),he(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(fo(e,t.scroller.scrollTop),ho(e,t.scroller.scrollLeft,!0),me(e,"scroll",e))})),he(t.scroller,"mousewheel",(function(t){return ri(e,t)})),he(t.scroller,"DOMMouseScroll",(function(t){return ri(e,t)})),he(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ye(e,t)||Se(t)},over:function(t){ye(e,t)||(Ea(e,t),Se(t))},start:function(t){return Sa(e,t)},drop:Do(e,ka),leave:function(t){ye(e,t)||ja(e)}};var s=t.input.getField();he(s,"keyup",(function(t){return ul.call(e,t)})),he(s,"keydown",Do(e,cl)),he(s,"keypress",Do(e,dl)),he(s,"focus",(function(t){return Qr(e,t)})),he(s,"blur",(function(t){return $r(e,t)}))}Il.defaults=Ll,Il.optionHandlers=Dl;var Hl=[];function Wl(e,t,n,r){var o,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=yt(e,t).state:n="prev");var a=e.options.tabSize,l=Qe(i,t),c=H(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var s,u=l.text.match(/^\s*/)[0];if(r||/\S/.test(l.text)){if("smart"==n&&(s=i.mode.indent(o,l.text.slice(u.length),l.text),s==z||s>150)){if(!r)return;n="prev"}}else s=0,n="not";"prev"==n?s=t>i.first?H(Qe(i,t-1).text,null,a):0:"add"==n?s=c+e.options.indentUnit:"subtract"==n?s=c-e.options.indentUnit:"number"==typeof n&&(s=c+n),s=Math.max(0,s);var d="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(s/a);p;--p)f+=a,d+="\t";if(f<s&&(d+=Y(s-f)),d!=u)return ra(i,d,ot(t,0),ot(t,u.length),"+input"),l.stateAfter=null,!0;for(var h=0;h<i.sel.ranges.length;h++){var v=i.sel.ranges[h];if(v.head.line==t&&v.head.ch<u.length){var g=ot(t,u.length);Ki(i,h,new ii(g,g));break}}}Il.defineInitHook=function(e){return Hl.push(e)};var Fl=null;function Bl(e){Fl=e}function zl(e,t,n,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var a=+new Date-200,l="paste"==o||e.state.pasteIncoming>a,c=Pe(t),s=null;if(l&&r.ranges.length>1)if(Fl&&Fl.text.join("\n")==t){if(r.ranges.length%Fl.text.length==0){s=[];for(var u=0;u<Fl.text.length;u++)s.push(i.splitLines(Fl.text[u]))}}else c.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(s=Q(c,(function(e){return[e]})));for(var d=e.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var p=r.ranges[f],h=p.from(),v=p.to();p.empty()&&(n&&n>0?h=ot(h.line,h.ch-n):e.state.overwrite&&!l?v=ot(v.line,Math.min(Qe(i,v.line).text.length,v.ch+X(c).length)):l&&Fl&&Fl.lineWise&&Fl.text.join("\n")==c.join("\n")&&(h=v=ot(h.line,0)));var g={from:h,to:v,text:s?s[f%s.length]:c,origin:o||(l?"paste":e.state.cutIncoming>a?"cut":"+input")};$i(e.doc,g),Nn(e,"inputRead",e,g)}t&&!l&&Ul(e,t),ao(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Vl(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Lo(t,(function(){return zl(t,n,0,null,"paste")})),!0}function Ul(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var l=0;l<i.electricChars.length;l++)if(t.indexOf(i.electricChars.charAt(l))>-1){a=Wl(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(Qe(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Wl(e,o.head.line,"smart"));a&&Nn(e,"electricInput",e,o.head.line)}}}function _l(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:ot(o,0),head:ot(o+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function Gl(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function ql(){var e=T("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=T("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?e.style.width="1000px":e.setAttribute("wrap","off"),v&&(e.style.border="1px solid black"),Gl(e),t}function Yl(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,o=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Do(this,t[e])(this,n,o),me(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ua(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Po((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");$(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Ir(this)})),removeOverlay:Po((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Ir(this)}})),indentLine:Po((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),nt(this.doc,e)&&Wl(this,e,t,n)})),indentSelection:Po((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var o=t[r];if(o.empty())o.head.line>n&&(Wl(this,o.head.line,e,!0),n=o.head.line,r==this.doc.sel.primIndex&&ao(this));else{var i=o.from(),a=o.to(),l=Math.max(n,i.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var c=l;c<n;++c)Wl(this,c,e);var s=this.doc.sel.ranges;0==i.ch&&t.length==s.length&&s[r].from().ch>0&&Ki(this.doc,r,new ii(i,s[r].to()),V)}}})),getTokenAt:function(e,t){return Ct(this,e,t)},getLineTokens:function(e,t){return Ct(this,ot(e),t,!0)},getTokenTypeAt:function(e){e=dt(this.doc,e);var t,n=mt(this,Qe(this.doc,e.line)),r=0,o=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var a=r+o>>1;if((a?n[2*a-1]:0)>=i)o=a;else{if(!(n[2*a+1]<i)){t=n[2*a+2];break}r=a+1}}var l=t?t.indexOf("overlay "):-1;return l<0?t:0==l?null:t.slice(0,l-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],i=this.getModeAt(e);if("string"==typeof i[t])o[i[t]]&&r.push(o[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var l=o[i[t][a]];l&&r.push(l)}else i.helperType&&o[i.helperType]?r.push(o[i.helperType]):o[i.name]&&r.push(o[i.name]);for(var c=0;c<o._global.length;c++){var s=o._global[c];s.pred(i,this)&&-1==F(r,s.val)&&r.push(s.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=ut(n,null==e?n.first+n.size-1:e),yt(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?dt(this.doc,e):e?r.from():r.to(),yr(this,n,t||"page")},charCoords:function(e,t){return mr(this,dt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=gr(this,e,t||"page"),Or(this,e.left,e.top)},lineAtHeight:function(e,t){return e=gr(this,{top:e,left:0},t||"page").top,tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,o=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),r=Qe(this.doc,e)}else r=e;return vr(this,r,{top:0,left:0},t||"page",n||o).top+(o?this.doc.height-on(r):0)},defaultTextHeight:function(){return Nr(this.display)},defaultCharWidth:function(){return Tr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var i=this.display;e=yr(this,dt(this.doc,e));var a=e.bottom,l=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),i.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var c=Math.max(i.wrapper.clientHeight,this.doc.height),s=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>c)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=c&&(a=e.bottom),l+t.offsetWidth>s&&(l=s-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==o?(l=i.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?l=0:"middle"==o&&(l=(i.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),n&&ro(this,{left:l,top:a,right:l+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Po(cl),triggerOnKeyPress:Po(dl),triggerOnKeyUp:ul,triggerOnMouseDown:Po(ml),execCommand:function(e){if(Qa.hasOwnProperty(e))return Qa[e].call(null,this)},triggerElectric:Po((function(e){Ul(this,e)})),findPosH:function(e,t,n,r){var o=1;t<0&&(o=-1,t=-t);for(var i=dt(this.doc,e),a=0;a<t;++a)if(i=Xl(this.doc,i,o,n,r),i.hitSide)break;return i},moveH:Po((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Xl(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),_)})),deleteH:Po((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):_a(this,(function(n){var o=Xl(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}}))})),findPosV:function(e,t,n,r){var o=1,i=r;t<0&&(o=-1,t=-t);for(var a=dt(this.doc,e),l=0;l<t;++l){var c=yr(this,a,"div");if(null==i?i=c.left:c.left=i,a=Ql(this,c,o,n),a.hitSide)break}return a},moveV:Po((function(e,t){var n=this,r=this.doc,o=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(i)return e<0?a.from():a.to();var l=yr(n,a.head,"div");null!=a.goalColumn&&(l.left=a.goalColumn),o.push(l.left);var c=Ql(n,l,e,t);return"page"==t&&a==r.sel.primary()&&io(n,mr(n,c,"div").top-l.top),c}),_),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]})),findWordAt:function(e){var t=this.doc,n=Qe(t,e.line).text,r=e.ch,o=e.ch;if(n){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&o!=n.length||!r?++o:--r;var a=n.charAt(r),l=ne(a,i)?function(e){return ne(e,i)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};while(r>0&&l(n.charAt(r-1)))--r;while(o<n.length&&l(n.charAt(o)))++o}return new ii(ot(e.line,r),ot(e.line,o))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?P(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==D()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Po((function(e,t){lo(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-qn(this)-this.display.barHeight,width:e.scrollWidth-qn(this)-this.display.barWidth,clientHeight:Xn(this),clientWidth:Yn(this)}},scrollIntoView:Po((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ot(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?co(this,e):uo(this,e.from,e.to,e.margin)})),setSize:Po((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&ur(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Kr(n,o,"widget");break}++o})),this.curOp.forceUpdate=!0,me(this,"refresh",this)})),operation:function(e){return Lo(this,e)},startOperation:function(){return Co(this)},endOperation:function(){return ko(this)},refresh:Po((function(){var e=this.display.cachedTextHeight;Ir(this),this.curOp.forceUpdate=!0,dr(this),lo(this,this.doc.scrollLeft,this.doc.scrollTop),_o(this.display),(null==e||Math.abs(e-Nr(this.display))>.5||this.options.lineWrapping)&&Pr(this),me(this,"refresh",this)})),swapDoc:Po((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),yi(this,e),dr(this),this.display.input.reset(),lo(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Nn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Oe(e),e.registerHelper=function(t,r,o){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=o},e.registerGlobalHelper=function(t,r,o,i){e.registerHelper(t,r,i),n[t]._global.push({pred:o,val:i})}}function Xl(e,t,n,r,o){var i=t,a=n,l=Qe(e,t.line),c=o&&"rtl"==e.direction?-n:n;function s(){var n=t.line+c;return!(n<e.first||n>=e.first+e.size)&&(t=new ot(n,t.ch,t.sticky),l=Qe(e,n))}function u(i){var a;if("codepoint"==r){var u=l.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(u))a=null;else{var d=n>0?u>=55296&&u<56320:u>=56320&&u<57343;a=new ot(t.line,Math.max(0,Math.min(l.text.length,t.ch+n*(d?2:1))),-n)}}else a=o?Xa(e.cm,l,t,n):qa(l,t,n);if(null==a){if(i||!s())return!1;t=Ya(o,e.cm,l,t.line,c)}else t=a;return!0}if("char"==r||"codepoint"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var d=null,f="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;;h=!1){if(n<0&&!u(!h))break;var v=l.text.charAt(t.ch)||"\n",g=ne(v,p)?"w":f&&"\n"==v?"n":!f||/\s/.test(v)?null:"p";if(!f||h||g||(g="s"),d&&d!=g){n<0&&(n=1,u(),t.sticky="after");break}if(g&&(d=g),n>0&&!u(!h))break}var m=qi(e,t,i,a,!0);return at(i,m)&&(m.hitSide=!0),m}function Ql(e,t,n,r){var o,i,a=e.doc,l=t.left;if("page"==r){var c=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),s=Math.max(c-.5*Nr(e.display),3);o=(n>0?t.bottom:t.top)+n*s}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;;){if(i=Or(e,l,o),!i.outside)break;if(n<0?o<=0:o>=a.height){i.hitSide=!0;break}o+=5*n}return i}var $l=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new W,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Zl(e,t){var n=er(e,t.line);if(!n||n.hidden)return null;var r=Qe(e.doc,t.line),o=$n(n,r,t.line),i=fe(r,e.doc.direction),a="left";if(i){var l=ue(i,t.ch);a=l%2?"right":"left"}var c=ir(o.map,t.ch,a);return c.offset="right"==c.collapse?c.end:c.start,c}function Jl(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ec(e,t){return t&&(e.bad=!0),e}function tc(e,t,n,r,o){var i="",a=!1,l=e.doc.lineSeparator(),c=!1;function s(e){return function(t){return t.id==e}}function u(){a&&(i+=l,c&&(i+=l),a=c=!1)}function d(e){e&&(u(),i+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void d(n);var i,p=t.getAttribute("cm-marker");if(p){var h=e.findMarks(ot(r,0),ot(o+1,0),s(+p));return void(h.length&&(i=h[0].find(0))&&d($e(e.doc,i.from,i.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;var v=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;v&&u();for(var g=0;g<t.childNodes.length;g++)f(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(c=!0),v&&(a=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(f(t),t==n)break;t=t.nextSibling,c=!1}return i}function nc(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return ec(e.clipPos(ot(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return rc(i,t,n)}}function rc(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!L(r,t))return ec(ot(et(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var i=e.rest?X(e.rest):e.line;return ec(ot(et(i),i.text.length),o)}var a=3==t.nodeType?t:null,l=t;a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));while(l.parentNode!=r)l=l.parentNode;var c=e.measure,s=c.maps;function u(t,n,r){for(var o=-1;o<(s?s.length:0);o++)for(var i=o<0?c.map:s[o],a=0;a<i.length;a+=3){var l=i[a+2];if(l==t||l==n){var u=et(o<0?e.line:e.rest[o]),d=i[a]+r;return(r<0||l!=t)&&(d=i[a+(r?1:0)]),ot(u,d)}}}var d=u(a,l,n);if(d)return ec(d,o);for(var f=l.nextSibling,p=a?a.nodeValue.length-n:0;f;f=f.nextSibling){if(d=u(f,f.firstChild,0),d)return ec(ot(d.line,d.ch-p),o);p+=f.textContent.length}for(var h=l.previousSibling,v=n;h;h=h.previousSibling){if(d=u(h,h.firstChild,-1),d)return ec(ot(d.line,d.ch+v),o);v+=h.textContent.length}}$l.prototype.init=function(e){var t=this,n=this,r=n.cm,o=n.div=e.lineDiv;function i(e){for(var t=e.target;t;t=t.parentNode){if(t==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(i(e)&&!ye(r,e)){if(r.somethingSelected())Bl({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=_l(r);Bl({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,V),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Fl.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var l=ql(),c=l.firstChild;r.display.lineSpace.insertBefore(l,r.display.lineSpace.firstChild),c.value=Fl.text.join("\n");var s=D();A(c),setTimeout((function(){r.display.lineSpace.removeChild(l),s.focus(),s==o&&n.showPrimarySelection()}),50)}}o.contentEditable=!0,Gl(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),he(o,"paste",(function(e){!i(e)||ye(r,e)||Vl(e,r)||l<=11&&setTimeout(Do(r,(function(){return t.updateFromDOM()})),20)})),he(o,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),he(o,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),he(o,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),he(o,"touchstart",(function(){return n.forceCompositionEnd()})),he(o,"input",(function(){t.composing||t.readFromDOMSoon()})),he(o,"copy",a),he(o,"cut",a)},$l.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},$l.prototype.prepareSelection=function(){var e=Vr(this.cm,!1);return e.focus=D()==this.div,e},$l.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},$l.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},$l.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),o=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var a=nc(t,e.anchorNode,e.anchorOffset),l=nc(t,e.focusNode,e.focusOffset);if(!a||a.bad||!l||l.bad||0!=it(st(a,l),o)||0!=it(ct(a,l),i)){var c=t.display.view,s=o.line>=t.display.viewFrom&&Zl(t,o)||{node:c[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&Zl(t,i);if(!u){var d=c[c.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(s&&u){var p,h=e.rangeCount&&e.getRangeAt(0);try{p=S(s.node,s.offset,u.offset,u.node)}catch(v){}p&&(!n&&t.state.focused?(e.collapse(s.node,s.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},$l.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},$l.prototype.showMultipleSelections=function(e){N(this.cm.display.cursorDiv,e.cursors),N(this.cm.display.selectionDiv,e.selection)},$l.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},$l.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return L(this.div,t)},$l.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&D()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},$l.prototype.blur=function(){this.div.blur()},$l.prototype.getField=function(){return this.div},$l.prototype.supportsTouch=function(){return!0},$l.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Lo(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},$l.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},$l.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&Jl(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=nc(t,e.anchorNode,e.anchorOffset),r=nc(t,e.focusNode,e.focusOffset);n&&r&&Lo(t,(function(){Bi(t.doc,li(n,r),V),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},$l.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,o=r.display,i=r.doc.sel.primary(),a=i.from(),l=i.to();if(0==a.ch&&a.line>r.firstLine()&&(a=ot(a.line-1,Qe(r.doc,a.line-1).length)),l.ch==Qe(r.doc,l.line).text.length&&l.line<r.lastLine()&&(l=ot(l.line+1,0)),a.line<o.viewFrom||l.line>o.viewTo-1)return!1;a.line==o.viewFrom||0==(e=Ar(r,a.line))?(t=et(o.view[0].line),n=o.view[0].node):(t=et(o.view[e].line),n=o.view[e-1].node.nextSibling);var c,s,u=Ar(r,l.line);if(u==o.view.length-1?(c=o.viewTo-1,s=o.lineDiv.lastChild):(c=et(o.view[u+1].line)-1,s=o.view[u+1].node.previousSibling),!n)return!1;var d=r.doc.splitLines(tc(r,n,s,t,c)),f=$e(r.doc,ot(t,0),ot(c,Qe(r.doc,c).text.length));while(d.length>1&&f.length>1)if(X(d)==X(f))d.pop(),f.pop(),c--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}var p=0,h=0,v=d[0],g=f[0],m=Math.min(v.length,g.length);while(p<m&&v.charCodeAt(p)==g.charCodeAt(p))++p;var y=X(d),b=X(f),w=Math.min(y.length-(1==d.length?p:0),b.length-(1==f.length?p:0));while(h<w&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1))++h;if(1==d.length&&1==f.length&&t==a.line)while(p&&p>a.ch&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1))p--,h++;d[d.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var O=ot(t,p),x=ot(c,f.length?X(f).length-h:0);return d.length>1||d[0]||it(O,x)?(ra(r.doc,d,O,x,"+input"),!0):void 0},$l.prototype.ensurePolled=function(){this.forceCompositionEnd()},$l.prototype.reset=function(){this.forceCompositionEnd()},$l.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},$l.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},$l.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Lo(this.cm,(function(){return Ir(e.cm)}))},$l.prototype.setUneditable=function(e){e.contentEditable="false"},$l.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Do(this.cm,zl)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},$l.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},$l.prototype.onContextMenu=function(){},$l.prototype.resetPosition=function(){},$l.prototype.needsContentAttribute=!0;var oc=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new W,this.hasSelection=!1,this.composing=null};function ic(e,t){if(t=t?K(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=D();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=l.getValue()}var o;if(e.form&&(he(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var i=e.form;o=i.submit;try{var a=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=a}}catch(c){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=o))}},e.style.display="none";var l=Il((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return l}function ac(e){e.off=ge,e.on=he,e.wheelEventPixels=ni,e.Doc=xa,e.splitLines=Pe,e.countColumn=H,e.findColumn=G,e.isWordChar=te,e.Pass=z,e.signal=me,e.Line=cn,e.changeEnd=ci,e.scrollbarModel=wo,e.Pos=ot,e.cmpPos=it,e.modes=He,e.mimeModes=We,e.resolveMode=ze,e.getMode=Ve,e.modeExtensions=Ue,e.extendMode=_e,e.copyState=Ge,e.startState=Ye,e.innerMode=qe,e.commands=Qa,e.keyMap=Ka,e.keyName=Va,e.isModifierKey=Ba,e.lookupKey=Fa,e.normalizeKeyMap=Wa,e.StringStream=Xe,e.SharedTextMarker=ga,e.TextMarker=ha,e.LineWidget=ua,e.e_preventDefault=xe,e.e_stopPropagation=Ce,e.e_stop=Se,e.addClass=P,e.contains=L,e.rmClass=E,e.keyNames=Pa}oc.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var o=this.textarea;function i(e){if(!ye(r,e)){if(r.somethingSelected())Bl({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=_l(r);Bl({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,V):(n.prevInput="",o.value=t.text.join("\n"),A(o))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),v&&(o.style.width="0px"),he(o,"input",(function(){a&&l>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),he(o,"paste",(function(e){ye(r,e)||Vl(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),he(o,"cut",i),he(o,"copy",i),he(e.scroller,"paste",(function(t){if(!Vn(e,t)&&!ye(r,t)){if(!o.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var i=new Event("paste");i.clipboardData=t.clipboardData,o.dispatchEvent(i)}})),he(e.lineSpace,"selectstart",(function(t){Vn(e,t)||xe(t)})),he(o,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),he(o,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},oc.prototype.createField=function(e){this.wrapper=ql(),this.textarea=this.wrapper.firstChild},oc.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},oc.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Vr(e);if(e.options.moveInputWithCursor){var o=yr(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},oc.prototype.showSelection=function(e){var t=this.cm,n=t.display;N(n.cursorDiv,e.cursors),N(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},oc.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&A(this.textarea),a&&l>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&l>=9&&(this.hasSelection=null))}},oc.prototype.getField=function(){return this.textarea},oc.prototype.supportsTouch=function(){return!1},oc.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||D()!=this.textarea))try{this.textarea.focus()}catch(e){}},oc.prototype.blur=function(){this.textarea.blur()},oc.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},oc.prototype.receivedFocus=function(){this.slowPoll()},oc.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},oc.prototype.fastPoll=function(){var e=!1,t=this;function n(){var r=t.poll();r||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},oc.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Re(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(a&&l>=9&&this.hasSelection===o||y&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||r||(r="\u200b"),8666==i)return this.reset(),this.cm.execCommand("undo")}var c=0,s=Math.min(r.length,o.length);while(c<s&&r.charCodeAt(c)==o.charCodeAt(c))++c;return Lo(t,(function(){zl(t,o.slice(c),r.length-c,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},oc.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},oc.prototype.onKeyPress=function(){a&&l>=9&&(this.hasSelection=null),this.fastPoll()},oc.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var i=Rr(n,e),s=r.scroller.scrollTop;if(i&&!d){var u=n.options.resetSelectionOnContextMenu;u&&-1==n.doc.sel.contains(i)&&Do(n,Bi)(n.doc,li(i),V);var f,p=o.style.cssText,h=t.wrapper.style.cssText,v=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-v.top-5)+"px; left: "+(e.clientX-v.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",c&&(f=window.scrollY),r.input.focus(),c&&window.scrollTo(null,f),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&l>=9&&m(),C){Se(e);var g=function(){ge(window,"mouseup",g),setTimeout(y,20)};he(window,"mouseup",g)}else setTimeout(y,50)}function m(){if(null!=o.selectionStart){var e=n.somethingSelected(),i="\u200b"+(e?o.value:"");o.value="\u21da",o.value=i,t.prevInput=e?"":"\u200b",o.selectionStart=1,o.selectionEnd=i.length,r.selForContextMenu=n.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,o.style.cssText=p,a&&l<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=s),null!=o.selectionStart)){(!a||a&&l<9)&&m();var e=0,i=function(){r.selForContextMenu==n.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"\u200b"==t.prevInput?Do(n,Xi)(n):e++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}},oc.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},oc.prototype.setUneditable=function(){},oc.prototype.needsContentAttribute=!1,Pl(Il),Yl(Il);var lc="iter insert remove copy getEditor constructor".split(" ");for(var cc in xa.prototype)xa.prototype.hasOwnProperty(cc)&&F(lc,cc)<0&&(Il.prototype[cc]=function(e){return function(){return e.apply(this.doc,arguments)}}(xa.prototype[cc]));return Oe(xa),Il.inputStyles={textarea:oc,contenteditable:$l},Il.defineMode=function(e){Il.defaults.mode||"null"==e||(Il.defaults.mode=e),Fe.apply(this,arguments)},Il.defineMIME=Be,Il.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Il.defineMIME("text/plain","null"),Il.defineExtension=function(e,t){Il.prototype[e]=t},Il.defineDocExtension=function(e,t){xa.prototype[e]=t},Il.fromTextArea=ic,ac(Il),Il.version="5.62.2",Il}))},"YV/h":function(e,t,n){},Z2W6:function(e,t,n){"use strict";n.r(t);n("+L6B");var r=n("2/Rp"),o=(n("nRaC"),n("5RzL")),i=(n("miYZ"),n("tsqr")),a=n("tJVT"),l=n("cDcd"),c=n.n(l),s=n("SC9r"),u=n("tMyG"),d=n("5COQ"),f=n("eYFr"),p=n("a2PE"),h=e=>{var t=e.headerStyle,n=e.isPhone,h=e.theme,v=Object(l["useState"])(""),g=Object(a["a"])(v,2),m=g[0],y=g[1],b=Object(l["useState"])(!0),w=Object(a["a"])(b,2),O=w[0],x=w[1],C=Object(l["useState"])("config.sh"),k=Object(a["a"])(C,2),S=k[0],E=k[1],j=Object(l["useState"])("config.sh"),N=Object(a["a"])(j,2),T=N[0],M=N[1],L=Object(l["useState"])([]),D=Object(a["a"])(L,2),P=D[0],R=D[1],A=Object(l["useRef"])(null),I=Object(l["useState"])(!1),K=Object(a["a"])(I,2),H=K[0],W=K[1],F=e=>{d["a"].get("".concat(s["a"].apiPrefix,"configs/").concat(e)).then((e=>{y(e.data)}))},B=()=>{x(!0),d["a"].get("".concat(s["a"].apiPrefix,"configs/files")).then((e=>{R(e.data)})).finally((()=>x(!1)))},z=()=>{W(!0);var e=A.current?A.current.getValue().replace(/\r\n/g,"\n"):m;d["a"].post("".concat(s["a"].apiPrefix,"configs/save"),{data:{content:e,name:T}}).then((e=>{i["b"].success(e.message),W(!1)}))},V=(e,t)=>{M(e),E(t.value),F(t.value)};return Object(l["useEffect"])((()=>{B(),F("config.sh")}),[]),c.a.createElement(u["a"],{className:"ql-container-wrapper config-wrapper",title:S,loading:O,extra:[c.a.createElement(o["a"],{className:"config-select",value:T,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:P,key:"value",defaultValue:"config.sh",onSelect:V}),c.a.createElement(r["a"],{key:"1",loading:H,type:"primary",onClick:z},"\u4fdd\u5b58")],header:{style:t}},n?c.a.createElement(p["Controlled"],{value:m,options:{lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,mode:"shell"},onBeforeChange:(e,t,n)=>{y(n)},onChange:(e,t,n)=>{}}):c.a.createElement(f["b"],{defaultLanguage:"shell",value:m,theme:h,options:{fontSize:12,lineNumbersMinChars:3,folding:!1,glyphMargin:!1},onMount:e=>{A.current=e}}))};t["default"]=h},ZTPi:function(e,t,n){"use strict";var r=n("wx14"),o=n("rePB"),i=n("cDcd"),a=n("ODXe"),l=n("U8pU"),c=n("Ff2n"),s=n("VTBJ"),u=n("TSYQ"),d=n.n(u),f=n("Zm9Q"),p=n("5Z9U"),h=n("6cGi"),v=n("KQm4"),g=n("wgJM"),m=n("t23M");function y(e){var t=Object(i["useRef"])(),n=Object(i["useRef"])(!1);function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n.current||(g["a"].cancel(t.current),t.current=Object(g["a"])((function(){e.apply(void 0,o)})))}return Object(i["useEffect"])((function(){return function(){n.current=!0,g["a"].cancel(t.current)}}),[]),r}function b(e){var t=Object(i["useRef"])([]),n=Object(i["useState"])({}),r=Object(a["a"])(n,2),o=r[1],l=Object(i["useRef"])("function"===typeof e?e():e),c=y((function(){var e=l.current;t.current.forEach((function(t){e=t(e)})),t.current=[],l.current=e,o({})}));function s(e){t.current.push(e),c()}return[l.current,s]}var w=n("4IlW");function O(e,t){var n,r=e.prefixCls,a=e.id,l=e.active,c=e.tab,s=c.key,u=c.tab,f=c.disabled,p=c.closeIcon,h=e.closable,v=e.renderWrapper,g=e.removeAriaLabel,m=e.editable,y=e.onClick,b=e.onRemove,O=e.onFocus,x=e.style,C="".concat(r,"-tab");i["useEffect"]((function(){return b}),[]);var k=m&&!1!==h&&!f;function S(e){f||y(e)}function E(e){e.preventDefault(),e.stopPropagation(),m.onEdit("remove",{key:s,event:e})}var j=i["createElement"]("div",{key:s,ref:t,className:d()(C,(n={},Object(o["a"])(n,"".concat(C,"-with-remove"),k),Object(o["a"])(n,"".concat(C,"-active"),l),Object(o["a"])(n,"".concat(C,"-disabled"),f),n)),style:x,onClick:S},i["createElement"]("div",{role:"tab","aria-selected":l,id:a&&"".concat(a,"-tab-").concat(s),className:"".concat(C,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(s),"aria-disabled":f,tabIndex:f?null:0,onClick:function(e){e.stopPropagation(),S(e)},onKeyDown:function(e){[w["a"].SPACE,w["a"].ENTER].includes(e.which)&&(e.preventDefault(),S(e))},onFocus:O},u),k&&i["createElement"]("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(C,"-remove"),onClick:function(e){e.stopPropagation(),E(e)}},p||m.removeIcon||"\xd7"));return v?v(j):j}var x=i["forwardRef"](O),C={width:0,height:0,left:0,top:0};function k(e,t,n){return Object(i["useMemo"])((function(){for(var n,r=new Map,o=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||C,i=o.left+o.width,a=0;a<e.length;a+=1){var l,c=e[a].key,u=t.get(c);if(!u)u=t.get(null===(l=e[a-1])||void 0===l?void 0:l.key)||C;var d=r.get(c)||Object(s["a"])({},u);d.right=i-d.left-d.width,r.set(c,d)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}var S={width:0,height:0,left:0,top:0,right:0};function E(e,t,n,r,o){var a,l,c,s=o.tabs,u=o.tabPosition,d=o.rtl;["top","bottom"].includes(u)?(a="width",l=d?"right":"left",c=Math.abs(t.left)):(a="height",l="top",c=-t.top);var f=t[a],p=n[a],h=r[a],v=f;return p+h>f&&(v=f-h),Object(i["useMemo"])((function(){if(!s.length)return[0,0];for(var t=s.length,n=t,r=0;r<t;r+=1){var o=e.get(s[r].key)||S;if(o[l]+o[a]>c+v){n=r-1;break}}for(var i=0,u=t-1;u>=0;u-=1){var d=e.get(s[u].key)||S;if(d[l]<c){i=u+1;break}}return[i,n]}),[e,c,v,u,s.map((function(e){return e.key})).join("_"),d])}var j=n("1j5w"),N=n("eDIo");function T(e,t){var n=e.prefixCls,r=e.editable,o=e.locale,a=e.style;return r&&!1!==r.showAdd?i["createElement"]("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:a,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}var M=i["forwardRef"](T);function L(e,t){var n=e.prefixCls,r=e.id,l=e.tabs,c=e.locale,s=e.mobile,u=e.moreIcon,f=void 0===u?"More":u,p=e.moreTransitionName,h=e.style,v=e.className,g=e.editable,m=e.tabBarGutter,y=e.rtl,b=e.onTabClick,O=Object(i["useState"])(!1),x=Object(a["a"])(O,2),C=x[0],k=x[1],S=Object(i["useState"])(null),E=Object(a["a"])(S,2),T=E[0],L=E[1],D="".concat(r,"-more-popup"),P="".concat(n,"-dropdown"),R=null!==T?"".concat(D,"-").concat(T):null,A=null===c||void 0===c?void 0:c.dropdownAriaLabel,I=i["createElement"](j["f"],{onClick:function(e){var t=e.key,n=e.domEvent;b(t,n),k(!1)},id:D,tabIndex:-1,role:"listbox","aria-activedescendant":R,selectedKeys:[T],"aria-label":void 0!==A?A:"expanded dropdown"},l.map((function(e){return i["createElement"](j["d"],{key:e.key,id:"".concat(D,"-").concat(e.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(e.key),disabled:e.disabled},e.tab)})));function K(e){for(var t=l.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===T}))||0,r=t.length,o=0;o<r;o+=1){n=(n+e+r)%r;var i=t[n];if(!i.disabled)return void L(i.key)}}function H(e){var t=e.which;if(C)switch(t){case w["a"].UP:K(-1),e.preventDefault();break;case w["a"].DOWN:K(1),e.preventDefault();break;case w["a"].ESC:k(!1);break;case w["a"].SPACE:case w["a"].ENTER:null!==T&&b(T,e);break}else[w["a"].DOWN,w["a"].SPACE,w["a"].ENTER].includes(t)&&(k(!0),e.preventDefault())}Object(i["useEffect"])((function(){var e=document.getElementById(R);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[T]),Object(i["useEffect"])((function(){C||L(null)}),[C]);var W=Object(o["a"])({},y?"marginRight":"marginLeft",m);l.length||(W.visibility="hidden",W.order=1);var F=d()(Object(o["a"])({},"".concat(P,"-rtl"),y)),B=s?null:i["createElement"](N["a"],{prefixCls:P,overlay:I,trigger:["hover"],visible:C,transitionName:p,onVisibleChange:k,overlayClassName:F,mouseEnterDelay:.1,mouseLeaveDelay:.1},i["createElement"]("button",{type:"button",className:"".concat(n,"-nav-more"),style:W,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":D,id:"".concat(r,"-more"),"aria-expanded":C,onKeyDown:H},f));return i["createElement"]("div",{className:d()("".concat(n,"-nav-operations"),v),style:h,ref:t},B,i["createElement"](M,{prefixCls:n,locale:c,editable:g}))}var D=i["forwardRef"](L),P=Object(i["createContext"])(null),R=.1,A=.01,I=20,K=Math.pow(.995,I);function H(e,t){var n=Object(i["useState"])(),r=Object(a["a"])(n,2),o=r[0],l=r[1],c=Object(i["useState"])(0),s=Object(a["a"])(c,2),u=s[0],d=s[1],f=Object(i["useState"])(0),p=Object(a["a"])(f,2),h=p[0],v=p[1],g=Object(i["useState"])(),m=Object(a["a"])(g,2),y=m[0],b=m[1],w=Object(i["useRef"])();function O(e){var t=e.touches[0],n=t.screenX,r=t.screenY;l({x:n,y:r}),window.clearInterval(w.current)}function x(e){if(o){e.preventDefault();var n=e.touches[0],r=n.screenX,i=n.screenY;l({x:r,y:i});var a=r-o.x,c=i-o.y;t(a,c);var s=Date.now();d(s),v(s-u),b({x:a,y:c})}}function C(){if(o&&(l(null),b(null),y)){var e=y.x/h,n=y.y/h,r=Math.abs(e),i=Math.abs(n);if(Math.max(r,i)<R)return;var a=e,c=n;w.current=window.setInterval((function(){Math.abs(a)<A&&Math.abs(c)<A?window.clearInterval(w.current):(a*=K,c*=K,t(a*I,c*I))}),I)}}var k=Object(i["useRef"])();function S(e){var n=e.deltaX,r=e.deltaY,o=0,i=Math.abs(n),a=Math.abs(r);i===a?o="x"===k.current?n:r:i>a?(o=n,k.current="x"):(o=r,k.current="y"),t(-o,-o)&&e.preventDefault()}var E=Object(i["useRef"])(null);E.current={onTouchStart:O,onTouchMove:x,onTouchEnd:C,onWheel:S},i["useEffect"]((function(){function t(e){E.current.onTouchStart(e)}function n(e){E.current.onTouchMove(e)}function r(e){E.current.onTouchEnd(e)}function o(e){E.current.onWheel(e)}return document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",r,{passive:!1}),e.current.addEventListener("touchstart",t,{passive:!1}),e.current.addEventListener("wheel",o),function(){document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r)}}),[])}function W(){var e=Object(i["useRef"])(new Map);function t(t){return e.current.has(t)||e.current.set(t,i["createRef"]()),e.current.get(t)}function n(t){e.current.delete(t)}return[t,n]}function F(e,t){var n=i["useRef"](e),r=i["useState"]({}),o=Object(a["a"])(r,2),l=o[1];function c(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,l({})}return[n.current,c]}var B=function(e){var t,n=e.position,r=e.prefixCls,o=e.extra;if(!o)return null;var a={};return o&&"object"===Object(l["a"])(o)&&!i["isValidElement"](o)?a=o:a.right=o,"right"===n&&(t=a.right),"left"===n&&(t=a.left),t?i["createElement"]("div",{className:"".concat(r,"-extra-content")},t):null};function z(e,t){var n,l=i["useContext"](P),c=l.prefixCls,u=l.tabs,f=e.className,p=e.style,h=e.id,w=e.animated,O=e.activeKey,C=e.rtl,S=e.extra,j=e.editable,N=e.locale,T=e.tabPosition,L=e.tabBarGutter,R=e.children,A=e.onTabClick,I=e.onTabScroll,K=Object(i["useRef"])(),z=Object(i["useRef"])(),V=Object(i["useRef"])(),U=Object(i["useRef"])(),_=W(),G=Object(a["a"])(_,2),q=G[0],Y=G[1],X="top"===T||"bottom"===T,Q=F(0,(function(e,t){X&&I&&I({direction:e>t?"left":"right"})})),$=Object(a["a"])(Q,2),Z=$[0],J=$[1],ee=F(0,(function(e,t){!X&&I&&I({direction:e>t?"top":"bottom"})})),te=Object(a["a"])(ee,2),ne=te[0],re=te[1],oe=Object(i["useState"])(0),ie=Object(a["a"])(oe,2),ae=ie[0],le=ie[1],ce=Object(i["useState"])(0),se=Object(a["a"])(ce,2),ue=se[0],de=se[1],fe=Object(i["useState"])(0),pe=Object(a["a"])(fe,2),he=pe[0],ve=pe[1],ge=Object(i["useState"])(0),me=Object(a["a"])(ge,2),ye=me[0],be=me[1],we=Object(i["useState"])(null),Oe=Object(a["a"])(we,2),xe=Oe[0],Ce=Oe[1],ke=Object(i["useState"])(null),Se=Object(a["a"])(ke,2),Ee=Se[0],je=Se[1],Ne=Object(i["useState"])(0),Te=Object(a["a"])(Ne,2),Me=Te[0],Le=Te[1],De=Object(i["useState"])(0),Pe=Object(a["a"])(De,2),Re=Pe[0],Ae=Pe[1],Ie=b(new Map),Ke=Object(a["a"])(Ie,2),He=Ke[0],We=Ke[1],Fe=k(u,He,ae),Be="".concat(c,"-nav-operations-hidden"),ze=0,Ve=0;function Ue(e){return e<ze?ze:e>Ve?Ve:e}X?C?(ze=0,Ve=Math.max(0,ae-xe)):(ze=Math.min(0,xe-ae),Ve=0):(ze=Math.min(0,Ee-ue),Ve=0);var _e=Object(i["useRef"])(),Ge=Object(i["useState"])(),qe=Object(a["a"])(Ge,2),Ye=qe[0],Xe=qe[1];function Qe(){Xe(Date.now())}function $e(){window.clearTimeout(_e.current)}function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=Fe.get(e)||{width:0,height:0,left:0,right:0,top:0};if(X){var n=Z;C?t.right<Z?n=t.right:t.right+t.width>Z+xe&&(n=t.right+t.width-xe):t.left<-Z?n=-t.left:t.left+t.width>-Z+xe&&(n=-(t.left+t.width-xe)),re(0),J(Ue(n))}else{var r=ne;t.top<-ne?r=-t.top:t.top+t.height>-ne+Ee&&(r=-(t.top+t.height-Ee)),J(0),re(Ue(r))}}H(K,(function(e,t){function n(e,t){e((function(e){var n=Ue(e+t);return n}))}if(X){if(xe>=ae)return!1;n(J,e)}else{if(Ee>=ue)return!1;n(re,t)}return $e(),Qe(),!0})),Object(i["useEffect"])((function(){return $e(),Ye&&(_e.current=window.setTimeout((function(){Xe(0)}),100)),$e}),[Ye]);var Je=E(Fe,{width:xe,height:Ee,left:Z,top:ne},{width:he,height:ye},{width:Me,height:Re},Object(s["a"])(Object(s["a"])({},e),{},{tabs:u})),et=Object(a["a"])(Je,2),tt=et[0],nt=et[1],rt={};"top"===T||"bottom"===T?rt[C?"marginRight":"marginLeft"]=L:rt.marginTop=L;var ot=u.map((function(e,t){var n=e.key;return i["createElement"](x,{id:h,prefixCls:c,key:n,tab:e,style:0===t?void 0:rt,closable:e.closable,editable:j,active:n===O,renderWrapper:R,removeAriaLabel:null===N||void 0===N?void 0:N.removeAriaLabel,ref:q(n),onClick:function(e){A(n,e)},onRemove:function(){Y(n)},onFocus:function(){Ze(n),Qe(),K.current&&(C||(K.current.scrollLeft=0),K.current.scrollTop=0)}})})),it=y((function(){var e,t,n,r,o,i,a,l,c,s=(null===(e=K.current)||void 0===e?void 0:e.offsetWidth)||0,d=(null===(t=K.current)||void 0===t?void 0:t.offsetHeight)||0,f=(null===(n=U.current)||void 0===n?void 0:n.offsetWidth)||0,p=(null===(r=U.current)||void 0===r?void 0:r.offsetHeight)||0,h=(null===(o=V.current)||void 0===o?void 0:o.offsetWidth)||0,v=(null===(i=V.current)||void 0===i?void 0:i.offsetHeight)||0;Ce(s),je(d),Le(f),Ae(p);var g=((null===(a=z.current)||void 0===a?void 0:a.offsetWidth)||0)-f,m=((null===(l=z.current)||void 0===l?void 0:l.offsetHeight)||0)-p;le(g),de(m);var y=null===(c=V.current)||void 0===c?void 0:c.className.includes(Be);ve(g-(y?0:h)),be(m-(y?0:v)),We((function(){var e=new Map;return u.forEach((function(t){var n=t.key,r=q(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),at=u.slice(0,tt),lt=u.slice(nt+1),ct=[].concat(Object(v["a"])(at),Object(v["a"])(lt)),st=Object(i["useState"])(),ut=Object(a["a"])(st,2),dt=ut[0],ft=ut[1],pt=Fe.get(O),ht=Object(i["useRef"])();function vt(){g["a"].cancel(ht.current)}Object(i["useEffect"])((function(){var e={};return pt&&(X?(C?e.right=pt.right:e.left=pt.left,e.width=pt.width):(e.top=pt.top,e.height=pt.height)),vt(),ht.current=Object(g["a"])((function(){ft(e)})),vt}),[pt,X,C]),Object(i["useEffect"])((function(){Ze()}),[O,pt,Fe,X]),Object(i["useEffect"])((function(){it()}),[C,L,O,u.map((function(e){return e.key})).join("_")]);var gt,mt,yt,bt,wt=!!ct.length,Ot="".concat(c,"-nav-wrap");return X?C?(mt=Z>0,gt=Z+xe<ae):(gt=Z<0,mt=-Z+xe<ae):(yt=ne<0,bt=-ne+Ee<ue),i["createElement"]("div",{ref:t,role:"tablist",className:d()("".concat(c,"-nav"),f),style:p,onKeyDown:function(){Qe()}},i["createElement"](B,{position:"left",extra:S,prefixCls:c}),i["createElement"](m["a"],{onResize:it},i["createElement"]("div",{className:d()(Ot,(n={},Object(o["a"])(n,"".concat(Ot,"-ping-left"),gt),Object(o["a"])(n,"".concat(Ot,"-ping-right"),mt),Object(o["a"])(n,"".concat(Ot,"-ping-top"),yt),Object(o["a"])(n,"".concat(Ot,"-ping-bottom"),bt),n)),ref:K},i["createElement"](m["a"],{onResize:it},i["createElement"]("div",{ref:z,className:"".concat(c,"-nav-list"),style:{transform:"translate(".concat(Z,"px, ").concat(ne,"px)"),transition:Ye?"none":void 0}},ot,i["createElement"](M,{ref:U,prefixCls:c,locale:N,editable:j,style:Object(s["a"])(Object(s["a"])({},0===ot.length?void 0:rt),{},{visibility:wt?"hidden":null})}),i["createElement"]("div",{className:d()("".concat(c,"-ink-bar"),Object(o["a"])({},"".concat(c,"-ink-bar-animated"),w.inkBar)),style:dt}))))),i["createElement"](D,Object(r["a"])({},e,{ref:V,prefixCls:c,tabs:ct,className:!wt&&Be})),i["createElement"](B,{position:"right",extra:S,prefixCls:c}))}var V=i["forwardRef"](z);function U(e){var t=e.id,n=e.activeKey,r=e.animated,a=e.tabPosition,l=e.rtl,c=e.destroyInactiveTabPane,s=i["useContext"](P),u=s.prefixCls,f=s.tabs,p=r.tabPane,h=f.findIndex((function(e){return e.key===n}));return i["createElement"]("div",{className:d()("".concat(u,"-content-holder"))},i["createElement"]("div",{className:d()("".concat(u,"-content"),"".concat(u,"-content-").concat(a),Object(o["a"])({},"".concat(u,"-content-animated"),p)),style:h&&p?Object(o["a"])({},l?"marginRight":"marginLeft","-".concat(h,"00%")):null},f.map((function(e){return i["cloneElement"](e.node,{key:e.key,prefixCls:u,tabKey:e.key,id:t,animated:p,active:e.key===n,destroyInactiveTabPane:c})}))))}function _(e){var t=e.prefixCls,n=e.forceRender,r=e.className,o=e.style,l=e.id,c=e.active,u=e.animated,f=e.destroyInactiveTabPane,p=e.tabKey,h=e.children,v=i["useState"](n),g=Object(a["a"])(v,2),m=g[0],y=g[1];i["useEffect"]((function(){c?y(!0):f&&y(!1)}),[c,f]);var b={};return c||(u?(b.visibility="hidden",b.height=0,b.overflowY="hidden"):b.display="none"),i["createElement"]("div",{id:l&&"".concat(l,"-panel-").concat(p),role:"tabpanel",tabIndex:c?0:-1,"aria-labelledby":l&&"".concat(l,"-tab-").concat(p),"aria-hidden":!c,style:Object(s["a"])(Object(s["a"])({},b),o),className:d()("".concat(t,"-tabpane"),c&&"".concat(t,"-tabpane-active"),r)},(c||m||n)&&h)}var G=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"],q=0;function Y(e){return Object(f["a"])(e).map((function(e){if(i["isValidElement"](e)){var t=void 0!==e.key?String(e.key):void 0;return Object(s["a"])(Object(s["a"])({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}function X(e,t){var n,u,f=e.id,v=e.prefixCls,g=void 0===v?"rc-tabs":v,m=e.className,y=e.children,b=e.direction,w=e.activeKey,O=e.defaultActiveKey,x=e.editable,C=e.animated,k=void 0===C?{inkBar:!0,tabPane:!1}:C,S=e.tabPosition,E=void 0===S?"top":S,j=e.tabBarGutter,N=e.tabBarStyle,T=e.tabBarExtraContent,M=e.locale,L=e.moreIcon,D=e.moreTransitionName,R=e.destroyInactiveTabPane,A=e.renderTabBar,I=e.onChange,K=e.onTabClick,H=e.onTabScroll,W=Object(c["a"])(e,G),F=Y(y),B="rtl"===b;u=!1===k?{inkBar:!1,tabPane:!1}:!0===k?{inkBar:!0,tabPane:!0}:Object(s["a"])({inkBar:!0,tabPane:!1},"object"===Object(l["a"])(k)?k:{});var z=Object(i["useState"])(!1),_=Object(a["a"])(z,2),X=_[0],Q=_[1];Object(i["useEffect"])((function(){Q(Object(p["a"])())}),[]);var $=Object(h["a"])((function(){var e;return null===(e=F[0])||void 0===e?void 0:e.key}),{value:w,defaultValue:O}),Z=Object(a["a"])($,2),J=Z[0],ee=Z[1],te=Object(i["useState"])((function(){return F.findIndex((function(e){return e.key===J}))})),ne=Object(a["a"])(te,2),re=ne[0],oe=ne[1];Object(i["useEffect"])((function(){var e,t=F.findIndex((function(e){return e.key===J}));-1===t&&(t=Math.max(0,Math.min(re,F.length-1)),ee(null===(e=F[t])||void 0===e?void 0:e.key));oe(t)}),[F.map((function(e){return e.key})).join("_"),J,re]);var ie=Object(h["a"])(null,{value:f}),ae=Object(a["a"])(ie,2),le=ae[0],ce=ae[1],se=E;function ue(e,t){null===K||void 0===K||K(e,t),ee(e),null===I||void 0===I||I(e)}X&&!["left","right"].includes(E)&&(se="top"),Object(i["useEffect"])((function(){f||(ce("rc-tabs-".concat(q)),q+=1)}),[]);var de,fe={id:le,activeKey:J,animated:u,tabPosition:se,rtl:B,mobile:X},pe=Object(s["a"])(Object(s["a"])({},fe),{},{editable:x,locale:M,moreIcon:L,moreTransitionName:D,tabBarGutter:j,onTabClick:ue,onTabScroll:H,extra:T,style:N,panes:y});return de=A?A(pe,V):i["createElement"](V,pe),i["createElement"](P.Provider,{value:{tabs:F,prefixCls:g}},i["createElement"]("div",Object(r["a"])({ref:t,id:f,className:d()(g,"".concat(g,"-").concat(se),(n={},Object(o["a"])(n,"".concat(g,"-mobile"),X),Object(o["a"])(n,"".concat(g,"-editable"),x),Object(o["a"])(n,"".concat(g,"-rtl"),B),n),m)},W),de,i["createElement"](U,Object(r["a"])({destroyInactiveTabPane:R},fe,{animated:u}))))}var Q=i["forwardRef"](X);Q.TabPane=_;var $=Q,Z=$,J=n("oN2U"),ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},te=ee,ne=n("/1Lp"),re=function(e,t){return i["createElement"](ne["a"],Object(s["a"])(Object(s["a"])({},e),{},{ref:t,icon:te}))};re.displayName="PlusOutlined";var oe=i["forwardRef"](re),ie=n("064x"),ae=n("uaoM"),le=n("H84U"),ce=n("3Nzz"),se=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function ue(e){var t,n=e.type,a=e.className,l=e.size,c=e.onEdit,s=e.hideAdd,u=e.centered,f=e.addIcon,p=se(e,["type","className","size","onEdit","hideAdd","centered","addIcon"]),h=p.prefixCls,v=p.moreIcon,g=void 0===v?i["createElement"](J["a"],null):v,m=i["useContext"](le["b"]),y=m.getPrefixCls,b=m.direction,w=y("tabs",h);"editable-card"===n&&(t={onEdit:function(e,t){var n=t.key,r=t.event;null===c||void 0===c||c("add"===e?r:n,e)},removeIcon:i["createElement"](ie["a"],null),addIcon:f||i["createElement"](oe,null),showAdd:!0!==s});var O=y();return Object(ae["a"])(!("onPrevClick"in p)&&!("onNextClick"in p),"Tabs","`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead."),i["createElement"](ce["b"].Consumer,null,(function(e){var c,s=void 0!==l?l:e;return i["createElement"](Z,Object(r["a"])({direction:b,moreTransitionName:"".concat(O,"-slide-up")},p,{className:d()((c={},Object(o["a"])(c,"".concat(w,"-").concat(s),s),Object(o["a"])(c,"".concat(w,"-card"),["card","editable-card"].includes(n)),Object(o["a"])(c,"".concat(w,"-editable-card"),"editable-card"===n),Object(o["a"])(c,"".concat(w,"-centered"),u),c),a),editable:t,moreIcon:g,prefixCls:w}))}))}ue.TabPane=_;t["a"]=ue},"Znn+":function(e,t,n){"use strict";n("EFp3"),n("9ama")},a2PE:function(e,t,n){"use strict";(function(e){function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.UnControlled=t.Controlled=void 0;var a,l=n("cDcd"),c="undefined"===typeof navigator||!0===e["PREVENT_CODEMIRROR_RENDER"];c||(a=n("VrN/"));var s=function(){function e(){}return e.equals=function(e,t){var n=this,r=Object.keys,i=o(e),a=o(t);return e&&t&&"object"===i&&i===a?r(e).length===r(t).length&&r(e).every((function(r){return n.equals(e[r],t[r])})):e===t},e}(),u=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,n){var r=this.editor.getDoc();n&&this.editor.focus(),t?r.setCursor(e):r.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){var n=this.editor.getDoc();n.setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,n){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!s.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!s.equals(e.cursor,t.cursor)&&this.delegateCursor(n.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!s.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":t.editor.on("blur",(function(e,n){t.props.onBlur(t.editor,n)}));break;case"onContextMenu":t.editor.on("contextmenu",(function(e,n){t.props.onContextMenu(t.editor,n)}));break;case"onCopy":t.editor.on("copy",(function(e,n){t.props.onCopy(t.editor,n)}));break;case"onCursor":t.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getDoc().getCursor())}));break;case"onCursorActivity":t.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onCut":t.editor.on("cut",(function(e,n){t.props.onCut(t.editor,n)}));break;case"onDblClick":t.editor.on("dblclick",(function(e,n){t.props.onDblClick(t.editor,n)}));break;case"onDragEnter":t.editor.on("dragenter",(function(e,n){t.props.onDragEnter(t.editor,n)}));break;case"onDragLeave":t.editor.on("dragleave",(function(e,n){t.props.onDragLeave(t.editor,n)}));break;case"onDragOver":t.editor.on("dragover",(function(e,n){t.props.onDragOver(t.editor,n)}));break;case"onDragStart":t.editor.on("dragstart",(function(e,n){t.props.onDragStart(t.editor,n)}));break;case"onDrop":t.editor.on("drop",(function(e,n){t.props.onDrop(t.editor,n)}));break;case"onFocus":t.editor.on("focus",(function(e,n){t.props.onFocus(t.editor,n)}));break;case"onGutterClick":t.editor.on("gutterClick",(function(e,n,r,o){t.props.onGutterClick(t.editor,n,r,o)}));break;case"onInputRead":t.editor.on("inputRead",(function(e,n){t.props.onInputRead(t.editor,n)}));break;case"onKeyDown":t.editor.on("keydown",(function(e,n){t.props.onKeyDown(t.editor,n)}));break;case"onKeyHandled":t.editor.on("keyHandled",(function(e,n,r){t.props.onKeyHandled(t.editor,n,r)}));break;case"onKeyPress":t.editor.on("keypress",(function(e,n){t.props.onKeyPress(t.editor,n)}));break;case"onKeyUp":t.editor.on("keyup",(function(e,n){t.props.onKeyUp(t.editor,n)}));break;case"onMouseDown":t.editor.on("mousedown",(function(e,n){t.props.onMouseDown(t.editor,n)}));break;case"onPaste":t.editor.on("paste",(function(e,n){t.props.onPaste(t.editor,n)}));break;case"onRenderLine":t.editor.on("renderLine",(function(e,n,r){t.props.onRenderLine(t.editor,n,r)}));break;case"onScroll":t.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":t.editor.on("beforeSelectionChange",(function(e,n){t.props.onSelection(t.editor,n)}));break;case"onTouchStart":t.editor.on("touchstart",(function(e,n){t.props.onTouchStart(t.editor,n)}));break;case"onUpdate":t.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":t.editor.on("viewportChange",(function(e,n,r){t.props.onViewportChange(t.editor,n,r)}));break}}))},e}(),d=function(e){function t(t){var n=e.call(this,t)||this;return c||(n.applied=!1,n.appliedNext=!1,n.appliedUserDefined=!1,n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1),n}return i(t,e),t.prototype.hydrate=function(e){var t=this,n=e&&e.options?e.options:{},o=r({},a.defaults,this.editor.options,n),i=Object.keys(o).some((function(e){return t.editor.getOption(e)!==o[e]}));i&&Object.keys(o).forEach((function(e){n.hasOwnProperty(e)&&t.editor.getOption(e)!==o[e]&&(t.editor.setOption(e,o[e]),t.mirror.setOption(e,o[e]))})),this.hydrated||(this.deferred?this.resolveChange(e.value):this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.getDoc(),n=t.lastLine(),r=t.getLine(t.lastLine()).length;t.replaceRange(e||"",{line:0,ch:0},{line:n,ch:r}),this.mirror.setValue(e),t.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(e){this.emulating=!0;var t=this.editor.getDoc();if("undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),e&&e!==t.getValue()){var n=t.getCursor();t.setValue(e),t.setCursor(n)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){var t=this.editor.getDoc();return"undo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var e=this;c||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&a.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=a(this.ref,this.props.options),this.shared=new u(this.editor,this.props),this.mirror=a((function(){}),this.props.options),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(t,n){if(!e.emulating){n.cancel(),e.deferred=n;var r=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,r)}})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,n,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(!c){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(e,this.props,t),this.appliedNext=!0),this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){c||this.props.editorWillUnmount&&this.props.editorWillUnmount(a)},t.prototype.shouldComponentUpdate=function(e,t){return!c},t.prototype.render=function(){var e=this;if(c)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return l.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(l.Component);t.Controlled=d;var f=function(e){function t(t){var n=e.call(this,t)||this;return c||(n.applied=!1,n.appliedUserDefined=!1,n.continueChange=!1,n.detached=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0}),n}return i(t,e),t.prototype.hydrate=function(e){var t=this,n=e&&e.options?e.options:{},o=r({},a.defaults,this.editor.options,n),i=Object.keys(o).some((function(e){return t.editor.getOption(e)!==o[e]}));if(i&&Object.keys(o).forEach((function(e){n.hasOwnProperty(e)&&t.editor.getOption(e)!==o[e]&&t.editor.setOption(e,o[e])})),!this.hydrated){var l=this.editor.getDoc(),c=l.lastLine(),s=l.getLine(l.lastLine()).length;l.replaceRange(e.value||"",{line:0,ch:0},{line:c,ch:s})}this.hydrated=!0},t.prototype.componentDidMount=function(){var e=this;c||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&a.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=a(this.ref,this.props.options),this.shared=new u(this.editor,this.props),this.editor.on("beforeChange",(function(t,n){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,n,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,n,e.editor.getValue()):e.props.onChange(e.editor,n,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(this.detached&&!1===this.props.detach&&(this.detached=!1,e.editorDidAttach&&e.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,e.editorDidDetach&&e.editorDidDetach(this.editor)),!c&&!this.detached){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),e.autoCursor||void 0===e.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(e),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){c||this.props.editorWillUnmount&&this.props.editorWillUnmount(a)},t.prototype.shouldComponentUpdate=function(e,t){var n=!0;return c&&(n=!1),this.detached&&e.detach&&(n=!1),n},t.prototype.render=function(){var e=this;if(c)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return l.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(l.Component);t.UnControlled=f}).call(this,n("IyRk"))},bKJz:function(e,t,n){},bX4T:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("VTBJ"),o="accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap",i="onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError",a="".concat(o," ").concat(i).split(/[\s\n]+/),l="aria-",c="data-";function s(e,t){return 0===e.indexOf(t)}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Object(r["a"])({},n);var o={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||s(n,l))||t.data&&s(n,c)||t.attr&&a.includes(n))&&(o[n]=e[n])})),o}},diRs:function(e,t,n){"use strict";var r=n("wx14"),o=n("cDcd"),i=n("3S7+"),a=n("H84U"),l=function(e){if(!e)return null;var t="function"===typeof e;return t?e():e},c=n("EXcs"),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=o["forwardRef"]((function(e,t){var n=e.prefixCls,u=e.title,d=e.content,f=s(e,["prefixCls","title","content"]),p=o["useContext"](a["b"]),h=p.getPrefixCls,v=function(e){return o["createElement"](o["Fragment"],null,u&&o["createElement"]("div",{className:"".concat(e,"-title")},l(u)),o["createElement"]("div",{className:"".concat(e,"-inner-content")},l(d)))},g=h("popover",n),m=h();return o["createElement"](i["a"],Object(r["a"])({},f,{prefixCls:g,ref:t,overlay:v(g),transitionName:Object(c["b"])(m,"zoom-big",f.transitionName)}))}));u.displayName="Popover",u.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};t["a"]=u},eYFr:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){return l(e)||c(e,t)||s(e,t)||d()}function l(e){if(Array.isArray(e))return e}function c(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){o=!0,i=c}finally{try{r||null==l["return"]||l["return"]()}finally{if(o)throw i}}return n}}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function g(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}function m(e){return{}.toString.call(e).includes("Object")}function y(e){return!Object.keys(e).length}function b(e){return"function"===typeof e}function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return m(t)||j("changeType"),Object.keys(t).some((function(t){return!w(e,t)}))&&j("changeField"),t}function x(e){b(e)||j("selectorType")}function C(e){b(e)||m(e)||j("handlerType"),m(e)&&Object.values(e).some((function(e){return!b(e)}))&&j("handlersType")}function k(e){e||j("initialIsRequired"),m(e)||j("initialType"),y(e)&&j("initialContent")}function S(e,t){throw new Error(e[t]||e["default"])}n.d(t,"a",(function(){return Ve})),n.d(t,"b",(function(){return Qe}));var E={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},j=g(S)(E),N={changes:O,selector:x,handler:C,initial:k};function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N.initial(e),N.handler(t);var n={current:e},r=g(D)(n,t),o=g(L)(n),i=g(N.changes)(e),a=g(M)(n);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return N.selector(e),e(n.current)}function c(e){v(r,o,i,a)(e)}return[l,c]}function M(e,t){return b(t)?t(e.current):t}function L(e,t){return e.current=h(h({},e.current),t),t}function D(e,t,n){return b(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}var P={create:T},R=P,A={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.28.1/min/vs"}},I=A;function K(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}var H=K;function W(e){return{}.toString.call(e).includes("Object")}var F=W;function B(e){return e||_("configIsRequired"),F(e)||_("configType"),e.urls?(z(),{paths:{vs:e.urls.monacoBase}}):e}function z(){console.warn(U.deprecation)}function V(e,t){throw new Error(e[t]||e["default"])}var U={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},_=H(V)(U),G={config:B},q=G,Y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},X=Y;function Q(e,t){return Object.keys(t).forEach((function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Q(e[n],t[n]))})),i(i({},e),t)}var $=Q,Z={type:"cancelation",msg:"operation is manually canceled"};function J(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(Z):n(e)})),e["catch"](r)}));return n.cancel=function(){return t=!0},n}var ee=J,te=R.create({config:I,isInitialized:!1,resolve:null,reject:null,monaco:null}),ne=a(te,2),re=ne[0],oe=ne[1];function ie(e){oe((function(t){return{config:$(t.config,q.config(e))}}))}function ae(){var e=re((function(e){var t=e.isInitialized;return{isInitialized:t}}));if(!e.isInitialized){if(window.monaco&&window.monaco.editor)return de(window.monaco),ee(Promise.resolve(window.monaco));X(le,se)(ue),oe({isInitialized:!0})}return ee(pe)}function le(e){return document.body.appendChild(e)}function ce(e){var t=document.createElement("script");return e&&(t.src=e),t}function se(e){var t=re((function(e){var t=e.config,n=e.reject;return{config:t,reject:n}})),n=ce("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function ue(){var e=re((function(e){var t=e.config,n=e.resolve,r=e.reject;return{config:t,resolve:n,reject:r}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){de(t),e.resolve(t)}),(function(t){e.reject(t)}))}function de(e){re().monaco||oe({monaco:e})}function fe(){return re((function(e){var t=e.monaco;return t}))}var pe=new Promise((function(e,t){return oe({resolve:e,reject:t})})),he={config:ie,init:ae,__getMonacoInstance:fe},ve=he,ge=n("cDcd"),me=n.n(ge),ye=n("17x9"),be=n.n(ye);function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}const Oe={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};function xe({content:e}){return me.a.createElement("div",{style:Oe},e)}var Ce=xe;const ke={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};var Se=ke;function Ee({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:a}){return me.a.createElement("section",we({style:{...Se.wrapper,width:e,height:t}},a),!n&&me.a.createElement(Ce,{content:r}),me.a.createElement("div",{ref:o,style:{...Se.fullWidth,...!n&&Se.hide},className:i}))}Ee.propTypes={width:be.a.oneOfType([be.a.number,be.a.string]).isRequired,height:be.a.oneOfType([be.a.number,be.a.string]).isRequired,loading:be.a.oneOfType([be.a.element,be.a.string]).isRequired,isEditorReady:be.a.bool.isRequired,className:be.a.string,wrapperProps:be.a.object};var je=Ee,Ne=Object(ge["memo"])(je),Te=Ne;function Me(e){Object(ge["useEffect"])(e,[])}var Le=Me;function De(e,t,n=!0){const r=Object(ge["useRef"])(!0);Object(ge["useEffect"])(r.current||!n?()=>{r.current=!1}:e,t)}var Pe=De;function Re(){}function Ae(e,t,n,r){return Ie(e,r)||Ke(e,t,n,r)}function Ie(e,t){return e.editor.getModel(He(e,t))}function Ke(e,t,n,r){return e.editor.createModel(t,n,r&&He(e,r))}function He(e,t){return e.Uri.parse(t)}function We(e){return void 0===e}function Fe({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:l,keepCurrentModifiedModel:c,theme:s,loading:u,options:d,height:f,width:p,className:h,wrapperProps:v,beforeMount:g,onMount:m}){const[y,b]=Object(ge["useState"])(!1),[w,O]=Object(ge["useState"])(!0),x=Object(ge["useRef"])(null),C=Object(ge["useRef"])(null),k=Object(ge["useRef"])(null),S=Object(ge["useRef"])(m),E=Object(ge["useRef"])(g);Le((()=>{const e=ve.init();return e.then((e=>(C.current=e)&&O(!1))).catch((e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e))),()=>x.current?T():e.cancel()})),Pe((()=>{const e=x.current.getModifiedEditor();e.getOption(C.current.editor.EditorOption.readOnly)?e.setValue(t):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],y),Pe((()=>{x.current.getModel().original.setValue(e)}),[e],y),Pe((()=>{const{original:e,modified:t}=x.current.getModel();C.current.editor.setModelLanguage(e,r||n),C.current.editor.setModelLanguage(t,o||n)}),[n,r,o],y),Pe((()=>{C.current.editor.setTheme(s)}),[s],y),Pe((()=>{x.current.updateOptions(d)}),[d],y);const j=Object(ge["useCallback"])((()=>{E.current(C.current);const l=Ae(C.current,e,r||n,i),c=Ae(C.current,t,o||n,a);x.current.setModel({original:l,modified:c})}),[n,t,o,e,r,i,a]),N=Object(ge["useCallback"])((()=>{x.current=C.current.editor.createDiffEditor(k.current,{automaticLayout:!0,...d}),j(),C.current.editor.setTheme(s),b(!0)}),[d,s,j]);function T(){const e=x.current.getModel();var t,n;l||(null===(t=e.original)||void 0===t||t.dispose());c||(null===(n=e.modified)||void 0===n||n.dispose());x.current.dispose()}return Object(ge["useEffect"])((()=>{y&&S.current(x.current,C.current)}),[y]),Object(ge["useEffect"])((()=>{!w&&!y&&N()}),[w,y,N]),me.a.createElement(Te,{width:p,height:f,isEditorReady:y,loading:u,_ref:k,className:h,wrapperProps:v})}Fe.propTypes={original:be.a.string,modified:be.a.string,language:be.a.string,originalLanguage:be.a.string,modifiedLanguage:be.a.string,originalModelPath:be.a.string,modifiedModelPath:be.a.string,keepCurrentOriginalModel:be.a.bool,keepCurrentModifiedModel:be.a.bool,theme:be.a.string,loading:be.a.oneOfType([be.a.element,be.a.string]),options:be.a.object,width:be.a.oneOfType([be.a.number,be.a.string]),height:be.a.oneOfType([be.a.number,be.a.string]),className:be.a.string,wrapperProps:be.a.object,beforeMount:be.a.func,onMount:be.a.func},Fe.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:Re,onMount:Re};var Be=Fe,ze=Object(ge["memo"])(Be),Ve=ze;function Ue(e){const t=Object(ge["useRef"])();return Object(ge["useEffect"])((()=>{t.current=e}),[e]),t.current}var _e=Ue;const Ge=new Map;function qe({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:i,theme:a,line:l,loading:c,options:s,overrideServices:u,saveViewState:d,keepCurrentModel:f,width:p,height:h,className:v,wrapperProps:g,beforeMount:m,onMount:y,onChange:b,onValidate:w}){const[O,x]=Object(ge["useState"])(!1),[C,k]=Object(ge["useState"])(!0),S=Object(ge["useRef"])(null),E=Object(ge["useRef"])(null),j=Object(ge["useRef"])(null),N=Object(ge["useRef"])(y),T=Object(ge["useRef"])(m),M=Object(ge["useRef"])(null),L=Object(ge["useRef"])(r),D=_e(i);Le((()=>{const e=ve.init();return e.then((e=>(S.current=e)&&k(!1))).catch((e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e))),()=>E.current?R():e.cancel()})),Pe((()=>{const n=Ae(S.current,e||r,t||o,i);n!==E.current.getModel()&&(d&&Ge.set(D,E.current.saveViewState()),E.current.setModel(n),d&&E.current.restoreViewState(Ge.get(i)))}),[i],O),Pe((()=>{E.current.updateOptions(s)}),[s],O),Pe((()=>{E.current.getOption(S.current.editor.EditorOption.readOnly)?E.current.setValue(r):r!==E.current.getValue()&&(E.current.executeEdits("",[{range:E.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),E.current.pushUndoStop())}),[r],O),Pe((()=>{S.current.editor.setModelLanguage(E.current.getModel(),o)}),[o],O),Pe((()=>{We(l)||E.current.revealLine(l)}),[l],O),Pe((()=>{S.current.editor.setTheme(a)}),[a],O);const P=Object(ge["useCallback"])((()=>{T.current(S.current);const l=i||n,c=Ae(S.current,r||e,t||o,l);E.current=S.current.editor.create(j.current,{model:c,automaticLayout:!0,...s},u),d&&E.current.restoreViewState(Ge.get(l)),S.current.editor.setTheme(a),x(!0)}),[e,t,n,r,o,i,s,u,d,a]);function R(){var e,t;(null===(e=M.current)||void 0===e||e.dispose(),f)?d&&Ge.set(i,E.current.saveViewState()):null===(t=E.current.getModel())||void 0===t||t.dispose();E.current.dispose()}return Object(ge["useEffect"])((()=>{O&&N.current(E.current,S.current)}),[O]),Object(ge["useEffect"])((()=>{!C&&!O&&P()}),[C,O,P]),L.current=r,Object(ge["useEffect"])((()=>{var e,t;O&&b&&(null===(e=M.current)||void 0===e||e.dispose(),M.current=null===(t=E.current)||void 0===t?void 0:t.onDidChangeModelContent((e=>{const t=E.current.getValue();L.current!==t&&b(t,e)})))}),[O,b]),Object(ge["useEffect"])((()=>{if(O){const e=S.current.editor.onDidChangeMarkers((e=>{var t;const n=null===(t=E.current.getModel())||void 0===t?void 0:t.uri;if(n){const t=e.find((e=>e.path===n.path));if(t){const e=S.current.editor.getModelMarkers({resource:n});null===w||void 0===w||w(e)}}}));return()=>{null===e||void 0===e||e.dispose()}}}),[O,w]),me.a.createElement(Te,{width:p,height:h,isEditorReady:O,loading:c,_ref:j,className:v,wrapperProps:g})}qe.propTypes={defaultValue:be.a.string,defaultPath:be.a.string,defaultLanguage:be.a.string,value:be.a.string,language:be.a.string,path:be.a.string,theme:be.a.string,line:be.a.number,loading:be.a.oneOfType([be.a.element,be.a.string]),options:be.a.object,overrideServices:be.a.object,saveViewState:be.a.bool,keepCurrentModel:be.a.bool,width:be.a.oneOfType([be.a.number,be.a.string]),height:be.a.oneOfType([be.a.number,be.a.string]),className:be.a.string,wrapperProps:be.a.object,beforeMount:be.a.func,onMount:be.a.func,onChange:be.a.func,onValidate:be.a.func},qe.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:Re,onMount:Re,onValidate:Re};var Ye=qe,Xe=Object(ge["memo"])(Ye),Qe=Xe},h5AB:function(e,t,n){"use strict";var r=n("VTBJ"),o=n("cDcd"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},a=i,l=n("/1Lp"),c=function(e,t){return o["createElement"](l["a"],Object(r["a"])(Object(r["a"])({},e),{},{ref:t,icon:a}))};c.displayName="SearchOutlined";t["a"]=o["forwardRef"](c)},ifDB:function(e,t,n){},jRje:function(e,t,n){"use strict";n("GNNt");var r=n("wEI+"),o=n("cDcd"),i=n.n(o),a=n("TSYQ"),l=n.n(a),c=n("BGR+"),s=(n("rsCp"),n("jYQm")),u=["children","className","extra","style","renderContent"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,r,o=g(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var m=function(e){var t=e.children,n=e.className,a=e.extra,f=e.style,h=e.renderContent,g=v(e,u),m=Object(o["useContext"])(r["b"].ConfigContext),y=m.getPrefixCls,b=e.prefixCls||y("pro"),w="".concat(b,"-footer-bar"),O=Object(o["useContext"])(s["a"]),x=Object(o["useMemo"])((function(){var e=O.hasSiderMenu,t=O.isMobile,n=O.siderWidth;if(e)return n?t?"100%":"calc(100% - ".concat(n,"px)"):"100%"}),[O.collapsed,O.hasSiderMenu,O.isMobile,O.siderWidth]),C=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"".concat(w,"-left")},a),i.a.createElement("div",{className:"".concat(w,"-right")},t));return Object(o["useEffect"])((function(){return O&&(null===O||void 0===O?void 0:O.setHasFooterToolbar)?(null===O||void 0===O||O.setHasFooterToolbar(!0),function(){var e;null===O||void 0===O||null===(e=O.setHasFooterToolbar)||void 0===e||e.call(O,!1)}):function(){}}),[]),i.a.createElement("div",d({className:l()(n,"".concat(w)),style:p({width:x},f)},Object(c["a"])(g,["prefixCls"])),h?h(p(p(p({},e),O),{},{leftWidth:x}),C):C)};t["a"]=m},jYQm:function(e,t,n){"use strict";var r=n("cDcd"),o=Object(r["createContext"])({});t["a"]=o},"k/Y0":function(e,t,n){},lUTK:function(e,t,n){"use strict";n("EFp3"),n("x54q"),n("5Dmo")},nRaC:function(e,t,n){"use strict";n("EFp3"),n("0fbx"),n("OaEy"),n("R9oj")},pwpV:function(e,t,n){},rsCp:function(e,t,n){},tMyG:function(e,t,n){"use strict";n("EFp3"),n("15/o");var r=n("wx14"),o=n("rePB"),i=n("1OyB"),a=n("vuIU"),l=n("Ji7U"),c=n("LK+K"),s=n("U8pU"),u=n("cDcd"),d=n.n(u),f=n("TSYQ"),p=n.n(f),h=n("Ya77"),v=n("t23M"),g=n("H84U"),m=n("KQm4"),y=n("3F7U");function b(e){var t,n=function(n){return function(){t=null,e.apply(void 0,Object(m["a"])(n))}},r=function(){if(null==t){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t=Object(y["a"])(n(r))}};return r.cancel=function(){return y["a"].cancel(t)},r}function w(){return function(e,t,n){var r=n.value,o=!1;return{configurable:!0,get:function(){if(o||this===e.prototype||this.hasOwnProperty(t))return r;var n=b(r.bind(this));return o=!0,Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),o=!1,n}}}}var O=n("faye"),x=n.n(O);function C(e,t,n,r){var o=x.a.unstable_batchedUpdates?function(e){x.a.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,o,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,o)}}}function k(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function S(e,t,n){if(void 0!==n&&t.top>e.top-n)return n+t.top}function E(e,t,n){if(void 0!==n&&t.bottom<e.bottom+n){var r=window.innerHeight-t.bottom;return n+r}}var j=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],N=[];function T(e,t){if(e){var n=N.find((function(t){return t.target===e}));n?n.affixList.push(t):(n={target:e,affixList:[t],eventHandlers:{}},N.push(n),j.forEach((function(t){n.eventHandlers[t]=C(e,t,(function(){n.affixList.forEach((function(e){e.lazyUpdatePosition()}))}))})))}}function M(e){var t=N.find((function(t){var n=t.affixList.some((function(t){return t===e}));return n&&(t.affixList=t.affixList.filter((function(t){return t!==e}))),n}));t&&0===t.affixList.length&&(N=N.filter((function(e){return e!==t})),j.forEach((function(e){var n=t.eventHandlers[e];n&&n.remove&&n.remove()})))}var L,D=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":Object(s["a"])(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function P(){return"undefined"!==typeof window?window:null}(function(e){e[e["None"]=0]="None",e[e["Prepare"]=1]="Prepare"})(L||(L={}));var R=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.state={status:L.None,lastAffix:!1,prevTarget:null},e.getOffsetTop=function(){var t=e.props.offsetBottom,n=e.props.offsetTop;return void 0===t&&void 0===n&&(n=0),n},e.getOffsetBottom=function(){return e.props.offsetBottom},e.savePlaceholderNode=function(t){e.placeholderNode=t},e.saveFixedNode=function(t){e.fixedNode=t},e.measure=function(){var t=e.state,n=t.status,r=t.lastAffix,o=e.props.onChange,i=e.getTargetFunc();if(n===L.Prepare&&e.fixedNode&&e.placeholderNode&&i){var a=e.getOffsetTop(),l=e.getOffsetBottom(),c=i();if(c){var s={status:L.None},u=k(c),d=k(e.placeholderNode),f=S(d,u,a),p=E(d,u,l);void 0!==f?(s.affixStyle={position:"fixed",top:f,width:d.width,height:d.height},s.placeholderStyle={width:d.width,height:d.height}):void 0!==p&&(s.affixStyle={position:"fixed",bottom:p,width:d.width,height:d.height},s.placeholderStyle={width:d.width,height:d.height}),s.lastAffix=!!s.affixStyle,o&&r!==s.lastAffix&&o(s.lastAffix),e.setState(s)}}},e.prepareMeasure=function(){e.setState({status:L.Prepare,affixStyle:void 0,placeholderStyle:void 0})},e.render=function(){var t=e.context.getPrefixCls,n=e.state,i=n.affixStyle,a=n.placeholderStyle,l=e.props,c=l.prefixCls,s=l.children,d=p()(Object(o["a"])({},t("affix",c),!!i)),f=Object(h["a"])(e.props,["prefixCls","offsetTop","offsetBottom","target","onChange"]);return u["createElement"](v["a"],{onResize:function(){e.updatePosition()}},u["createElement"]("div",Object(r["a"])({},f,{ref:e.savePlaceholderNode}),i&&u["createElement"]("div",{style:a,"aria-hidden":"true"}),u["createElement"]("div",{className:d,ref:e.saveFixedNode,style:i},u["createElement"](v["a"],{onResize:function(){e.updatePosition()}},s))))},e}return Object(a["a"])(n,[{key:"getTargetFunc",value:function(){var e=this.context.getTargetContainer,t=this.props.target;return void 0!==t?t:e||P}},{key:"componentDidMount",value:function(){var e=this,t=this.getTargetFunc();t&&(this.timeout=setTimeout((function(){T(t(),e),e.updatePosition()})))}},{key:"componentDidUpdate",value:function(e){var t=this.state.prevTarget,n=this.getTargetFunc(),r=null;n&&(r=n()||null),t!==r&&(M(this),r&&(T(r,this),this.updatePosition()),this.setState({prevTarget:r})),e.offsetTop===this.props.offsetTop&&e.offsetBottom===this.props.offsetBottom||this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),M(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"updatePosition",value:function(){this.prepareMeasure()}},{key:"lazyUpdatePosition",value:function(){var e=this.getTargetFunc(),t=this.state.affixStyle;if(e&&t){var n=this.getOffsetTop(),r=this.getOffsetBottom(),o=e();if(o&&this.placeholderNode){var i=k(o),a=k(this.placeholderNode),l=S(a,i,n),c=E(a,i,r);if(void 0!==l&&t.top===l||void 0!==c&&t.bottom===c)return}}this.prepareMeasure()}}]),n}(u["Component"]);R.contextType=g["b"],D([w()],R.prototype,"updatePosition",null),D([w()],R.prototype,"lazyUpdatePosition",null);var A=R,I=(n("GNNt"),n("wEI+")),K=(n("YV/h"),n("AOa7"),n("lUTK"),n("qVdP"),n("Telt"),n("ODXe")),H=n("VTBJ"),W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},F=W,B=n("/1Lp"),z=function(e,t){return u["createElement"](B["a"],Object(H["a"])(Object(H["a"])({},e),{},{ref:t,icon:F}))};z.displayName="ArrowLeftOutlined";var V=u["forwardRef"](z),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},_=U,G=function(e,t){return u["createElement"](B["a"],Object(H["a"])(Object(H["a"])({},e),{},{ref:t,icon:_}))};G.displayName="ArrowRightOutlined";var q=u["forwardRef"](G),Y=n("axMd"),X=n("sqw5"),Q=n("XBQK"),$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Z=function(e){var t,n=e.prefixCls,o=e.separator,i=void 0===o?"/":o,a=e.children,l=e.overlay,c=e.dropdownProps,s=$(e,["prefixCls","separator","children","overlay","dropdownProps"]),d=u["useContext"](g["b"]),f=d.getPrefixCls,p=f("breadcrumb",n),h=function(e){return l?u["createElement"](Q["a"],Object(r["a"])({overlay:l,placement:"bottomCenter"},c),u["createElement"]("span",{className:"".concat(p,"-overlay-link")},e,u["createElement"](X["a"],null))):e};return t="href"in s?u["createElement"]("a",Object(r["a"])({className:"".concat(p,"-link")},s),a):u["createElement"]("span",Object(r["a"])({className:"".concat(p,"-link")},s),a),t=h(t),a?u["createElement"]("span",null,t,i&&u["createElement"]("span",{className:"".concat(p,"-separator")},i)):null};Z.__ANT_BREADCRUMB_ITEM=!0;var J=Z,ee=function(e){var t=e.children,n=u["useContext"](g["b"]),r=n.getPrefixCls,o=r("breadcrumb");return u["createElement"]("span",{className:"".concat(o,"-separator")},t||"/")};ee.__ANT_BREADCRUMB_SEPARATOR=!0;var te=ee,ne=n("BvKs"),re=n("uaoM"),oe=n("0n0R"),ie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function ae(e,t){if(!e.breadcrumbName)return null;var n=Object.keys(t).join("|"),r=e.breadcrumbName.replace(new RegExp(":(".concat(n,")"),"g"),(function(e,n){return t[n]||e}));return r}function le(e,t,n,r){var o=n.indexOf(e)===n.length-1,i=ae(e,t);return o?u["createElement"]("span",null,i):u["createElement"]("a",{href:"#/".concat(r.join("/"))},i)}var ce=function(e,t){return e=(e||"").replace(/^\//,""),Object.keys(t).forEach((function(n){e=e.replace(":".concat(n),t[n])})),e},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=Object(m["a"])(e),o=ce(t,n);return o&&r.push(o),r},ue=function(e){var t,n=e.prefixCls,i=e.separator,a=void 0===i?"/":i,l=e.style,c=e.className,s=e.routes,d=e.children,f=e.itemRender,h=void 0===f?le:f,v=e.params,m=void 0===v?{}:v,y=ie(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),b=u["useContext"](g["b"]),w=b.getPrefixCls,O=b.direction,x=w("breadcrumb",n);if(s&&s.length>0){var C=[];t=s.map((function(e){var t,n=ce(e.path,m);return n&&C.push(n),e.children&&e.children.length&&(t=u["createElement"](ne["a"],null,e.children.map((function(e){return u["createElement"](ne["a"].Item,{key:e.path||e.breadcrumbName},h(e,m,s,se(C,e.path,m)))})))),u["createElement"](J,{overlay:t,separator:a,key:n||e.breadcrumbName},h(e,m,s,C))}))}else d&&(t=Object(Y["a"])(d).map((function(e,t){return e?(Object(re["a"])(e.type&&(!0===e.type.__ANT_BREADCRUMB_ITEM||!0===e.type.__ANT_BREADCRUMB_SEPARATOR),"Breadcrumb","Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children"),Object(oe["a"])(e,{separator:a,key:t})):e})));var k=p()(x,Object(o["a"])({},"".concat(x,"-rtl"),"rtl"===O),c);return u["createElement"]("div",Object(r["a"])({className:k,style:l},y),t)};ue.Item=J,ue.Separator=te;var de=ue,fe=de,pe=n("Tckk"),he=n("gDlH"),ve=n("YMnH"),ge=function(e,t,n){return t&&n?u["createElement"](ve["a"],{componentName:"PageHeader"},(function(r){var o=r.back;return u["createElement"]("div",{className:"".concat(e,"-back")},u["createElement"](he["a"],{onClick:function(e){null===n||void 0===n||n(e)},className:"".concat(e,"-back-button"),"aria-label":o},t))})):null},me=function(e){return u["createElement"](fe,e)},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr";return void 0!==e.backIcon?e.backIcon:"rtl"===t?u["createElement"](q,null):u["createElement"](V,null)},be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr",r=t.title,o=t.avatar,i=t.subTitle,a=t.tags,l=t.extra,c=t.onBack,s="".concat(e,"-heading"),d=r||i||a||l;if(!d)return null;var f=ye(t,n),p=ge(e,f,c),h=p||o||d;return u["createElement"]("div",{className:s},h&&u["createElement"]("div",{className:"".concat(s,"-left")},p,o&&u["createElement"](pe["a"],o),r&&u["createElement"]("span",{className:"".concat(s,"-title"),title:"string"===typeof r?r:void 0},r),i&&u["createElement"]("span",{className:"".concat(s,"-sub-title"),title:"string"===typeof i?i:void 0},i),a&&u["createElement"]("span",{className:"".concat(s,"-tags")},a)),l&&u["createElement"]("span",{className:"".concat(s,"-extra")},l))},we=function(e,t){return t?u["createElement"]("div",{className:"".concat(e,"-footer")},t):null},Oe=function(e,t){return u["createElement"]("div",{className:"".concat(e,"-content")},t)},xe=function(e){var t=u["useState"](!1),n=Object(K["a"])(t,2),r=n[0],i=n[1],a=function(e){var t=e.width;i(t<768)};return u["createElement"](g["a"],null,(function(t){var n,i=t.getPrefixCls,l=t.pageHeader,c=t.direction,s=e.prefixCls,d=e.style,f=e.footer,h=e.children,g=e.breadcrumb,m=e.breadcrumbRender,y=e.className,b=!0;"ghost"in e?b=e.ghost:l&&"ghost"in l&&(b=l.ghost);var w=i("page-header",s),O=function(){var e;return(null===(e=g)||void 0===e?void 0:e.routes)?me(g):null},x=O(),C=g&&"props"in g,k=(null===m||void 0===m?void 0:m(e,x))||x,S=C?g:k,E=p()(w,y,(n={"has-breadcrumb":!!S,"has-footer":!!f},Object(o["a"])(n,"".concat(w,"-ghost"),b),Object(o["a"])(n,"".concat(w,"-rtl"),"rtl"===c),Object(o["a"])(n,"".concat(w,"-compact"),r),n));return u["createElement"](v["a"],{onResize:a},u["createElement"]("div",{className:E,style:d},S,be(w,e,c),h&&Oe(w,h),we(w,f)))}))},Ce=xe,ke=(n("Znn+"),n("ZTPi")),Se=n("jYQm"),Ee=n("FRQA"),je=n("jRje"),Ne=(n("u/V1"),n("95SA")),Te=n("yxHc"),Me=["title","content","pageHeaderRender","header","prefixedClassName","extraContent","style","prefixCls","breadcrumbRender"],Le=["children","loading","className","style","footer","affixProps","ghost","fixedHeader"];function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){if(null==e)return{};var n,r,o=Ie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ie(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function He(e){return He="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function We(e){return"object"===He(e)?e:{spinning:e}}var Fe=function(e){var t=e.tabList,n=e.tabActiveKey,r=e.onTabChange,o=e.tabBarExtraContent,i=e.tabProps,a=e.prefixedClassName;return t&&t.length?d.a.createElement(ke["a"],Ke({className:"".concat(a,"-tabs"),activeKey:n,onChange:function(e){r&&r(e)},tabBarExtraContent:o},i),t.map((function(e,t){return d.a.createElement(ke["a"].TabPane,Ke({},e,{tab:e.tab,key:e.key||t}))}))):null},Be=function(e,t,n){return e||t?d.a.createElement("div",{className:"".concat(n,"-detail")},d.a.createElement("div",{className:"".concat(n,"-main")},d.a.createElement("div",{className:"".concat(n,"-row")},e&&d.a.createElement("div",{className:"".concat(n,"-content")},e),t&&d.a.createElement("div",{className:"".concat(n,"-extraContent")},t)))):null},ze=function(e){var t,n=Object(u["useContext"])(Se["a"]),r=e.title,o=e.content,i=e.pageHeaderRender,a=e.header,l=e.prefixedClassName,c=e.extraContent,s=(e.style,e.prefixCls),f=e.breadcrumbRender,p=Ae(e,Me);if(!1===i)return null;if(i)return d.a.createElement(d.a.Fragment,null," ",i(Pe(Pe({},e),n)));var h=r;r||!1===r||(h=n.title);var v=Pe(Pe(Pe({},n),{},{title:h},p),{},{footer:Fe(Pe(Pe({},p),{},{breadcrumbRender:f,prefixedClassName:l}))},a),g=v.breadcrumb,m=!g||!1===f||!(null===g||void 0===g?void 0:g.itemRender)&&!(null===g||void 0===g||null===(t=g.routes)||void 0===t?void 0:t.length);return["title","subTitle","extra","tags","footer","avatar","backIcon"].every((function(e){return!v[e]}))&&m&&!o&&!c?null:d.a.createElement("div",{className:"".concat(l,"-warp")},d.a.createElement(Ce,Ke({},v,{breadcrumb:!1===f?void 0:Pe(Pe({},v.breadcrumb),n.breadcrumbProps),prefixCls:s}),(null===a||void 0===a?void 0:a.children)||Be(o,c,l)))},Ve=function(e){var t,n=e.children,r=e.loading,o=void 0!==r&&r,i=e.className,a=e.style,l=e.footer,c=e.affixProps,s=e.ghost,f=e.fixedHeader,h=Ae(e,Le),v=Object(u["useContext"])(Se["a"]),g=Object(u["useContext"])(I["b"].ConfigContext),m=g.getPrefixCls,y=e.prefixCls||m("pro"),b="".concat(y,"-page-container"),w=p()(b,i,(t={},Re(t,"".concat(y,"-page-container-ghost"),s),Re(t,"".concat(y,"-page-container-with-footer"),l),t)),O=Object(u["useMemo"])((function(){return n?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"".concat(b,"-children-content")},n),v.hasFooterToolbar&&d.a.createElement("div",{style:{height:48,marginTop:24}})):null}),[n,b,v.hasFooterToolbar]),x=d.a.createElement(ze,Ke({},h,{ghost:s,prefixCls:void 0,prefixedClassName:b})),C=Object(u["useMemo"])((function(){if(d.a.isValidElement(o))return o;if("boolean"===typeof o&&!o)return null;var e=We(o);return d.a.createElement(Ne["a"],e)}),[o]),k=Object(u["useMemo"])((function(){var t=C||O;return e.waterMarkProps||v.waterMarkProps?d.a.createElement(Te["a"],e.waterMarkProps||v.waterMarkProps,t):t}),[e.waterMarkProps,v.waterMarkProps,C,O]);return d.a.createElement("div",{style:a,className:w},f&&x?d.a.createElement(A,Ke({offsetTop:v.hasHeader&&v.fixedHeader?v.headerHeight:0},c),x):x,k&&d.a.createElement(Ee["a"],null,k),l&&d.a.createElement(je["a"],{prefixCls:y},l))};t["a"]=Ve},"u/V1":function(e,t,n){},x54q:function(e,t,n){},yxHc:function(e,t,n){"use strict";n("GNNt");var r=n("wEI+"),o=n("cDcd"),i=n.n(o),a=n("TSYQ"),l=n.n(a);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return g(e)||v(e,t)||p(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){l=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(l)throw o}}return i}}function g(e){if(Array.isArray(e))return e}var m=function(e){if(!e)return 1;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},y=function(e){var t=e.children,n=e.style,a=e.className,c=e.markStyle,u=e.markClassName,f=e.zIndex,p=void 0===f?9:f,h=e.gapX,v=void 0===h?212:h,g=e.gapY,y=void 0===g?222:g,b=e.width,w=void 0===b?120:b,O=e.height,x=void 0===O?64:O,C=e.rotate,k=void 0===C?-22:C,S=e.image,E=e.content,j=e.offsetLeft,N=e.offsetTop,T=e.fontStyle,M=void 0===T?"normal":T,L=e.fontWeight,D=void 0===L?"normal":L,P=e.fontColor,R=void 0===P?"rgba(0,0,0,.15)":P,A=e.fontSize,I=void 0===A?16:A,K=e.fontFamily,H=void 0===K?"sans-serif":K,W=e.prefixCls,F=Object(o["useContext"])(r["b"].ConfigContext),B=F.getPrefixCls,z=B("pro-layout-watermark",W),V=l()("".concat(z,"-wrapper"),a),U=l()(z,u),_=Object(o["useState"])(""),G=d(_,2),q=G[0],Y=G[1];return Object(o["useEffect"])((function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=m(t),r="".concat((v+w)*n,"px"),o="".concat((y+x)*n,"px"),i=j||v/2,a=N||y/2;if(e.setAttribute("width",r),e.setAttribute("height",o),t){t.translate(i*n,a*n),t.rotate(Math.PI/180*Number(k));var l=w*n,c=x*n;if(S){var s=new Image;s.crossOrigin="anonymous",s.referrerPolicy="no-referrer",s.src=S,s.onload=function(){t.drawImage(s,0,0,l,c),Y(e.toDataURL())}}else if(E){var u=Number(I)*n;t.font="".concat(M," normal ").concat(D," ").concat(u,"px/").concat(c,"px ").concat(H),t.fillStyle=R,t.fillText(E,0,0),Y(e.toDataURL())}}else console.error("\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301Canvas")}),[v,y,j,N,k,M,D,w,x,H,R,S,E,I]),i.a.createElement("div",{style:s({position:"relative"},n),className:V},t,i.a.createElement("div",{className:U,style:s({zIndex:p,position:"absolute",left:0,top:0,width:"100%",height:"100%",backgroundSize:"".concat(v+w,"px"),pointerEvents:"none",backgroundRepeat:"repeat",backgroundImage:"url('".concat(q,"')")},c)}))};t["a"]=y}}]);